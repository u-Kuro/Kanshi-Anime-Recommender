var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(n)}function l(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s;function a(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function c(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function d(e){let t;return c(e,(e=>t=e))(),t}function u(e,t,n){e.$$.on_destroy.push(c(t,n))}function f(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function p(e){return null==e?"":e}function m(e,t,n){return e.set(n),t}function h(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const y="undefined"!=typeof window;let g=y?()=>window.performance.now():()=>Date.now(),w=y?e=>requestAnimationFrame(e):e;const v=new Set;function b(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&w(b)}function k(e){let t;return 0===v.size&&w(b),{promise:new Promise((n=>{v.add(t={c:e,f:n})})),abort(){v.delete(t)}}}function x(e,t){e.appendChild(t)}function S(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function E(e){const t=L("style");return function(e,t){x(e.head||e,t),t.sheet}(S(e),t),t.sheet}function A(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function N(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function L(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function I(){return $(" ")}function C(){return $("")}function j(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function P(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function F(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function z(e,t){t=""+t,e.data!==t&&(e.data=t)}function D(e,t){e.value=null==t?"":t}function M(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function O(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}const U=new Map;let _,V=0;function W(e,t,n,o,i,l,r,s=0){const a=16.666/o;let c="{\n";for(let e=0;e<=1;e+=a){const o=t+(n-t)*l(e);c+=100*e+`%{${r(o,1-o)}}\n`}const d=c+`100% {${r(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${s}`,f=S(e),{stylesheet:p,rules:m}=U.get(f)||function(e,t){const n={stylesheet:E(t),rules:{}};return U.set(e,n),n}(f,e);m[u]||(m[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${u} ${o}ms linear ${i}ms 1 both`,V+=1,u}function B(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),V-=i,V||w((()=>{V||(U.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&T(t)})),U.clear())})))}function R(e){_=e}function H(){if(!_)throw new Error("Function called outside component initialization");return _}function q(e){H().$$.on_mount.push(e)}const Y=[],G=[];let K=[];const X=[],J=Promise.resolve();let Q=!1;function Z(){Q||(Q=!0,J.then(le))}function ee(){return Z(),J}function te(e){K.push(e)}const ne=new Set;let oe,ie=0;function le(){if(0!==ie)return;const e=_;do{try{for(;ie<Y.length;){const e=Y[ie];ie++,R(e),re(e.$$)}}catch(e){throw Y.length=0,ie=0,e}for(R(null),Y.length=0,ie=0;G.length;)G.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];ne.has(t)||(ne.add(t),t())}K.length=0}while(Y.length);for(;X.length;)X.pop()();Q=!1,ne.clear(),R(e)}function re(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}function se(){return oe||(oe=Promise.resolve(),oe.then((()=>{oe=null}))),oe}function ae(e,t,n){e.dispatchEvent(O(`${t?"intro":"outro"}${n}`))}const ce=new Set;let de;function ue(){de={r:0,c:[],p:de}}function fe(){de.r||i(de.c),de=de.p}function pe(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function me(e,t,n,o){if(e&&e.o){if(ce.has(e))return;ce.add(e),de.c.push((()=>{ce.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const he={duration:0};function ye(n,o,r){const s={direction:"out"};let a,c=o(n,r,s),d=!0;const u=de;function f(){const{delay:o=0,duration:l=300,easing:r=t,tick:s=e,css:f}=c||he;f&&(a=W(n,1,0,l,o,r,f));const p=g()+o,m=p+l;te((()=>ae(n,!1,"start"))),k((e=>{if(d){if(e>=m)return s(0,1),ae(n,!1,"end"),--u.r||i(u.c),!1;if(e>=p){const t=r((e-p)/l);s(1-t,t)}}return d}))}return u.r+=1,l(c)?se().then((()=>{c=c(s),f()})):f(),{end(e){e&&c.tick&&c.tick(1,0),d&&(a&&B(n,a),d=!1)}}}function ge(n,o,r,s){const a={direction:"both"};let c=o(n,r,a),d=s?0:1,u=null,f=null,p=null;function m(){p&&B(n,p)}function h(e,t){const n=e.b-d;return t*=Math.abs(n),{a:d,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function y(o){const{delay:l=0,duration:r=300,easing:s=t,tick:a=e,css:y}=c||he,w={start:g()+l,b:o};o||(w.group=de,de.r+=1),u||f?f=w:(y&&(m(),p=W(n,d,o,r,l,s,y)),o&&a(0,1),u=h(w,r),te((()=>ae(n,o,"start"))),k((e=>{if(f&&e>f.start&&(u=h(f,r),f=null,ae(n,u.b,"start"),y&&(m(),p=W(n,d,u.b,u.duration,0,s,c.css))),u)if(e>=u.end)a(d=u.b,1-d),ae(n,u.b,"end"),f||(u.b?m():--u.group.r||i(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;d=u.a+u.d*s(t/u.duration),a(d,1-d)}return!(!u&&!f)})))}return{run(e){l(c)?se().then((()=>{c=c(a),y(e)})):y(e)},end(){m(),u=f=null}}}function we(e,t){e.d(1),t.delete(e.key)}function ve(e,t){me(e,1,1,(()=>{t.delete(e.key)}))}function be(e,t,n,o,l,r,s,a,c,d,u,f){let p=e.length,m=r.length,h=p;const y={};for(;h--;)y[e[h].key]=h;const g=[],w=new Map,v=new Map,b=[];for(h=m;h--;){const e=f(l,r,h),i=n(e);let a=s.get(i);a?o&&b.push((()=>a.p(e,t))):(a=d(i,e),a.c()),w.set(i,g[h]=a),i in y&&v.set(i,Math.abs(h-y[i]))}const k=new Set,x=new Set;function S(e){pe(e,1),e.m(a,u),s.set(e.key,e),u=e.first,m--}for(;p&&m;){const t=g[m-1],n=e[p-1],o=t.key,i=n.key;t===n?(u=t.first,p--,m--):w.has(i)?!s.has(o)||k.has(o)?S(t):x.has(i)?p--:v.get(o)>v.get(i)?(x.add(o),S(t)):(k.add(i),p--):(c(n,s),p--)}for(;p--;){const t=e[p];w.has(t.key)||c(t,s)}for(;m;)S(g[m-1]);return i(b),g}function ke(e){e&&e.c()}function xe(e,t,o,r){const{fragment:s,after_update:a}=e.$$;s&&s.m(t,o),r||te((()=>{const t=e.$$.on_mount.map(n).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),a.forEach(te)}function Se(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];K.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),K=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ee(t,n,l,r,s,a,c,d=[-1]){const u=_;R(t);const f=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:o(),dirty:d,skip_bound:!1,root:n.target||u.$$.root};c&&c(f.root);let p=!1;if(f.ctx=l?l(t,n.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),p&&function(e,t){-1===e.$$.dirty[0]&&(Y.push(e),Z(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(T)}else f.fragment&&f.fragment.c();n.intro&&pe(t.$$.fragment),xe(t,n.target,n.anchor,n.customElement),le()}R(u)}class Ae{$destroy(){Se(this,1),this.$destroy=e}$on(t,n){if(!l(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Te=[];function Ne(t,n=e){let o;const i=new Set;function l(e){if(r(t,e)&&(t=e,o)){const e=!Te.length;for(const e of i)e[1](),Te.push(e,t);if(e){for(let e=0;e<Te.length;e+=2)Te[e][0](Te[e+1]);Te.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(r,s=e){const a=[r,s];return i.add(a),1===i.size&&(o=n(l)||e),r(t),()=>{i.delete(a),0===i.size&&o&&(o(),o=null)}}}}const Le=Ne(40),$e=Ne(null),Ie=Ne(!0),Ce=Ne(0),je=Ne(!1),Pe=Ne(null),Fe=Ne(null),ze=Ne(null),De=Ne(null),Me=Ne(null),Oe=Ne(null),Ue=Ne(null),_e=Ne(!1),Ve=Ne(null),We=Ne(null),Be=Ne(null),Re=Ne(null),He=Ne(null),qe=Ne(null),Ye=Ne(null),Ge=Ne(null),Ke=Ne([]),Xe=Ne(null),Je=Ne(!0),Qe=Ne(null),Ze=Ne(!1),et=Ne(null),tt=Ne(null),nt=Ne(!1),ot=Ne(""),it=Ne(null),lt=Ne(null),rt=Ne(!1),st=Ne(!1),at=Ne(null),ct=Ne(!1),dt=Ne(null),ut=Ne(!0),ft=Ne(!1),pt=Ne(!1),mt=Ne(null),ht=Ne(null),yt=Ne(null),gt=Ne(null),wt=Ne(null),vt=Ne(null),bt=Ne(null),kt=Ne(null),xt=Ne(null),St=Ne(null),Et=Ne(null),At=e=>"[object Object]"===Object.prototype.toString.call(e),Tt=e=>{for(const t in e)return!1;return!0};function Nt(e,t){try{let n=Math.floor(e/1e3%60),o=Math.floor(e/6e4%60),i=Math.floor(e/36e5%24),l=Math.floor(e/864e5%7),r=Math.floor(e/6048e5%4),s=Math.floor(e/24192e5%12),a=Math.floor(e/290304e5%10),c=Math.floor(e/290304e6%10),d=Math.floor(e/290304e7%10),u=Math.floor(e/290304e8%10),f=[];return u<=0&&d<=0&&c<=0&&a<=0&&s<=0&&r<=0&&l<=0&&i<=0&&o<=0&&n<=0?"0s":(u>0&&f.push(1===u?`${u}mil`:`${u}mils`),c>0&&f.push(1===c?`${c}de`:`${c}des`),a>0&&f.push(`${a}y`),s>0&&f.push(1===s?`${s}mo`:`${s}mos`),r>0&&f.push(`${r}w`),l>0&&f.push(`${l}d`),i>0&&f.push(`${i}h`),o>0&&f.push(`${o}m`),n>0&&f.push(`${n}s`),t>0&&(f=f.slice(0,t)),f.join(" "))}catch(e){return}}function Lt(e,t,n=.5){try{if(!t.length)return null;let i=null;var o=0;let l=e.getBoundingClientRect();return t instanceof HTMLCollection&&(t=Array.from(t)),t?.forEach?.((e=>{let t=e.getBoundingClientRect();var r=(Math.min(t.bottom,l.bottom)-Math.max(t.top,l.top))/t.height;r>o&&(0===n&&r>n||r>=n)&&(o=r,i=e)})),i}catch(e){return}}const $t=(e,t)=>{try{return Array.from(e.parentElement.children).indexOf(e)}catch(e){return}},It=(e,t,n="top",o,i=0)=>{try{let l;if("string"==typeof t&&(t=document.querySelector(t)),e===window){const e=t.getBoundingClientRect(),o=window.scrollY;l="bottom"===n?e.bottom+o-window.innerHeight:"center"===n?e.top+o-window.innerHeight/2:e.top+o}else if("string"==typeof e&&(e=document.querySelector(e)),"bottom"===n)l=t.offsetTop+t.offsetHeight-e.offsetHeight;else if("center"===n){let n=t.getBoundingClientRect(),o=e.getBoundingClientRect();l=n.top+n.height/2-(o.top+o.height/2)+e.scrollTop-o.height/2}else{let n=t.getBoundingClientRect(),o=e.getBoundingClientRect();l=n.top-o.top+e.scrollTop}e===window?"smooth"===o?window.scrollTo({top:l+i,behavior:"smooth"}):window.scrollTo({top:l+i}):"smooth"===o?e.scrollBy({top:l+i,behavior:"smooth"}):e.scrollTop=l+i}catch(e){return}},Ct=(e,t=2)=>{if("number"==typeof e){const n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,minimumFractionDigits:0,notation:"compact",compactDisplay:"short"});return Math.abs(e)>=1e3?n.format(e):Math.abs(e)<.01?e.toExponential(0):e.toFixed(t)||e.toLocaleString("en-US",{maximumFractionDigits:t})}return null},jt=(e,t)=>"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase(),Pt=(e,t)=>{let n=Math.max(e.selectionStart-1||0,0);e.value=t,e.setSelectionRange(n,n)},Ft=()=>{try{return JSBridge.exportJSON,!0}catch(e){return!1}};let zt;const Dt=(e,t)=>{e?.classList?.add?.(t)},Mt=(e,t)=>{e?.classList?.remove?.(t)};function Ot(e){const t=e-1;return t*t*t+1}function Ut(e,{delay:n=0,duration:o=400,easing:i=t}={}){const l=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:i,css:e=>"opacity: "+e*l}}function _t(e,{delay:t=0,duration:n=400,easing:o=Ot,x:i=0,y:l=0,opacity:r=0}={}){const s=getComputedStyle(e),a=+s.opacity,c="none"===s.transform?"":s.transform,d=a*(1-r),[u,f]=h(i),[p,m]=h(l);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*u}${f}, ${(1-e)*p}${m});\n\t\t\topacity: ${a-d*t}`}}function Vt(e,t,n){const o=e.slice();return o[44]=t[n],o}function Wt(e,t,n){const o=e.slice();return o[44]=t[n],o}function Bt(e,t,n){const o=e.slice();return o[44]=t[n],o}function Rt(e,t,n){const o=e.slice();return o[44]=t[n],o}function Ht(e,t,n){const o=e.slice();return o[49]=t[n],o[50]=t,o[51]=n,o}function qt(t){let n;return{c(){n=L("div"),n.textContent="No Results",F(n,"class","empty svelte-1bx3mt1")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Yt(t){let n,o,i=Array(21),l=[];for(let e=0;e<i.length;e+=1)l[e]=Kt(Wt(t,i,e));let r=Array(5),s=[];for(let e=0;e<r.length;e+=1)s[e]=Xt(Vt(t,r,e));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();n=I();for(let e=0;e<s.length;e+=1)s[e].c();o=C()},m(e,t){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,t);A(e,n,t);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(e,t);A(e,o,t)},p:e,d(e){N(l,e),e&&T(n),N(s,e),e&&T(o)}}}function Gt(e){let t,n,o,i=[],l=new Map,r=e[9]||[];const s=e=>e[49].id;for(let t=0;t<r.length;t+=1){let n=Ht(e,r,t),o=s(n);l.set(o,i[t]=nn(o,n))}let a=Array(e[8]??an),c=[];for(let t=0;t<a.length;t+=1)c[t]=on(Rt(e,a,t));let d=Array(e[10]??1?Math.floor((e[0]??1100)/220):5),u=[];for(let t=0;t<d.length;t+=1)u[t]=ln(Bt(e,d,t));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=I();for(let e=0;e<c.length;e+=1)c[e].c();n=I();for(let e=0;e<u.length;e+=1)u[e].c();o=C()},m(e,l){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,l);A(e,t,l);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(e,l);A(e,n,l);for(let t=0;t<u.length;t+=1)u[t]&&u[t].m(e,l);A(e,o,l)},p(e,f){if(258630&f[0]&&(r=e[9]||[],i=be(i,f,s,1,e,r,l,t.parentNode,we,nn,t,Ht)),912&f[0]){let t;for(a=Array(e[8]??an),t=0;t<a.length;t+=1){const o=Rt(e,a,t);c[t]?c[t].p(o,f):(c[t]=on(o),c[t].c(),c[t].m(n.parentNode,n))}for(;t<c.length;t+=1)c[t].d(1);c.length=a.length}if(1025&f[0]){let t;for(d=Array(e[10]??1?Math.floor((e[0]??1100)/220):5),t=0;t<d.length;t+=1){const n=Bt(e,d,t);u[t]?u[t].p(n,f):(u[t]=ln(),u[t].c(),u[t].m(o.parentNode,o))}for(;t<u.length;t+=1)u[t].d(1);u.length=d.length}},d(e){for(let t=0;t<i.length;t+=1)i[t].d(e);e&&T(t),N(c,e),e&&T(n),N(u,e),e&&T(o)}}}function Kt(t){let n;return{c(){n=L("div"),n.innerHTML='<div class="shimmer svelte-1bx3mt1"></div>',F(n,"class","image-grid__card skeleton svelte-1bx3mt1")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Xt(t){let n;return{c(){n=L("div"),F(n,"class","image-grid__card svelte-1bx3mt1")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Jt(e){let t,n=`${e[49].format||"N/A"}${e[49].episodes?"("+e[49].episodes+")":""}`;return{c(){t=$(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=`${e[49].format||"N/A"}${e[49].episodes?"("+e[49].episodes+")":""}`)&&z(t,n)},d(e){e&&T(t)}}}function Qt(e){let t,n=e[2].getSeconds(),o=Zt(e);return{c(){o.c(),t=C()},m(e,n){o.m(e,n),A(e,t,n)},p(e,i){4&i[0]&&r(n,n=e[2].getSeconds())?(o.d(1),o=Zt(e),o.c(),o.m(t.parentNode,t)):o.p(e,i)},d(e){e&&T(t),o.d(e)}}}function Zt(e){let t,n=`${e[49].format||"N/A"}${dn(e[49].episodes,e[49].nextAiringEpisode)}\n                                        `;return{c(){t=$(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=`${e[49].format||"N/A"}${dn(e[49].episodes,e[49].nextAiringEpisode)}\n                                        `)&&z(t,n)},d(e){e&&T(t)}}}function en(e){let t,n=(Ct(e[49].weightedScore)||"N/A")+"";return{c(){t=$(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=(Ct(e[49].weightedScore)||"N/A")+"")&&z(t,n)},d(e){e&&T(t)}}}function tn(e){let t,n=(e[16](e[49])||"N/A")+"";return{c(){t=$(n)},m(e,n){A(e,t,n)},p(e,o){512&o[0]&&n!==(n=(e[16](e[49])||"N/A")+"")&&z(t,n)},d(e){e&&T(t)}}}function nn(e,t){let n,o,r,s,c,d,u,f,m,h,y,g,w,v,b,k,S,E,N,C,P,D,M,O,U,_,V,W,B=(t[49]?.title?.userPreferred||"N/A")+"",R=t[50],H=t[51];function q(e,t){return 512&t[0]&&(S=null),null==S&&(S=!!At(e[49]?.nextAiringEpisode)),S?Qt:Jt}let Y=q(t,[-1,-1]),G=Y(t);function K(e,t){return e[1]?tn:en}let X=K(t),J=X(t);function Q(...e){return t[21](t[51],...e)}function Z(...e){return t[22](t[51],...e)}const ee=()=>t[23](n,R,H),te=()=>t[23](null,R,H);return{key:e,first:null,c(){n=L("div"),o=L("div"),r=L("img"),c=I(),d=L("span"),u=L("span"),f=$(B),h=I(),y=L("span"),g=L("div"),w=L("span"),v=L("i"),k=I(),G.c(),E=I(),N=L("div"),C=L("span"),P=L("i"),M=I(),J.c(),F(r,"loading","lazy"),F(r,"class",p("image-grid__card-thumb fade-out")+" svelte-1bx3mt1"),F(r,"alt","anime-cover"),a(r.src,s=t[49].coverImageUrl||"")||F(r,"src",s),F(u,"class","title copy svelte-1bx3mt1"),F(u,"copy-value",m=t[49]?.title?.userPreferred||""),F(v,"class",b=p(`${t[17](t[49].userStatus)}-color fa-solid fa-circle`)+" svelte-1bx3mt1"),F(g,"class","brief-info svelte-1bx3mt1"),F(P,"class",D=p(`${cn(t[49])}-color fa-solid fa-star`)+" svelte-1bx3mt1"),F(N,"class","brief-info svelte-1bx3mt1"),F(y,"class","brief-info-wrapper copy svelte-1bx3mt1"),F(y,"copy-value",O=t[49]?.title?.userPreferred||""),F(d,"class","image-grid__card-title svelte-1bx3mt1"),F(o,"class","shimmer svelte-1bx3mt1"),F(o,"tabindex",U=t[6]?"":"0"),F(n,"class","image-grid__card svelte-1bx3mt1"),F(n,"title",_=t[15](t[49])),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,r),x(o,c),x(o,d),x(d,u),x(u,f),x(d,h),x(d,y),x(y,g),x(g,w),x(w,v),x(w,k),G.m(w,null),x(y,E),x(y,N),x(N,C),x(C,P),x(C,M),J.m(C,null),ee(),V||(W=[j(r,"load",t[20]),j(o,"click",(function(){l(t[12](t[51]))&&t[12](t[51]).apply(this,arguments)})),j(o,"pointerdown",Q),j(o,"pointerup",t[14]),j(o,"pointercancel",t[14]),j(o,"keydown",Z)],V=!0)},p(e,i){t=e,512&i[0]&&!a(r.src,s=t[49].coverImageUrl||"")&&F(r,"src",s),512&i[0]&&B!==(B=(t[49]?.title?.userPreferred||"N/A")+"")&&z(f,B),512&i[0]&&m!==(m=t[49]?.title?.userPreferred||"")&&F(u,"copy-value",m),512&i[0]&&b!==(b=p(`${t[17](t[49].userStatus)}-color fa-solid fa-circle`)+" svelte-1bx3mt1")&&F(v,"class",b),Y===(Y=q(t,i))&&G?G.p(t,i):(G.d(1),G=Y(t),G&&(G.c(),G.m(w,null))),512&i[0]&&D!==(D=p(`${cn(t[49])}-color fa-solid fa-star`)+" svelte-1bx3mt1")&&F(P,"class",D),X===(X=K(t))&&J?J.p(t,i):(J.d(1),J=X(t),J&&(J.c(),J.m(C,null))),512&i[0]&&O!==(O=t[49]?.title?.userPreferred||"")&&F(y,"copy-value",O),64&i[0]&&U!==(U=t[6]?"":"0")&&F(o,"tabindex",U),512&i[0]&&_!==(_=t[15](t[49]))&&F(n,"title",_),R===t[50]&&H===t[51]||(te(),R=t[50],H=t[51],ee())},d(e){e&&T(n),G.d(),J.d(),te(),V=!1,i(W)}}}function on(e){let t,n,o;return{c(){t=L("div"),n=L("div"),F(n,"class","shimmer svelte-1bx3mt1"),F(t,"class",o=p("image-grid__card skeleton anime-loaded-padding "+(e[9]?.length&&!e[7]&&e[4]?"":"disable-interaction"))+" svelte-1bx3mt1")},m(e,o){A(e,t,o),x(t,n)},p(e,n){656&n[0]&&o!==(o=p("image-grid__card skeleton anime-loaded-padding "+(e[9]?.length&&!e[7]&&e[4]?"":"disable-interaction"))+" svelte-1bx3mt1")&&F(t,"class",o)},d(e){e&&T(t)}}}function ln(t){let n;return{c(){n=L("div"),F(n,"class","image-grid__card svelte-1bx3mt1")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function rn(t){let n,o,l,r,s;return{c(){n=L("div"),n.innerHTML='<i class="fa-solid fa-arrow-left svelte-1bx3mt1"></i>',F(n,"class","go-back-grid svelte-1bx3mt1"),F(n,"tabindex","0")},m(e,o){A(e,n,o),l=!0,r||(s=[j(n,"click",t[18]),j(n,"keydown",t[26])],r=!0)},p:e,i(e){l||(te((()=>{l&&(o||(o=ge(n,_t,{x:-50,duration:300},!0)),o.run(1))})),l=!0)},o(e){o||(o=ge(n,_t,{x:-50,duration:300},!1)),o.run(0),l=!1},d(e){e&&T(n),e&&o&&o.end(),r=!1,i(s)}}}function sn(e){let t,n,o,i,l,r,s,a;function c(e,t){return e[9]?.length?Gt:!e[9]||e[11]?Yt:qt}let d=c(e),u=d(e),f=e[10]&&e[3]?.scrollLeft>500&&rn(e);return{c(){t=L("main"),n=L("div"),u.c(),i=I(),f&&f.c(),F(n,"id","anime-grid"),F(n,"class",o=p("image-grid "+(e[10]??1?"fullView":"")+(0!==e[9]?.length||e[11]?"":"empty"))+" svelte-1bx3mt1"),M(n,"--anime-grid-height",e[5]+"px"),F(t,"class",l=p(e[10]??1?"fullView":"")+" svelte-1bx3mt1")},m(o,l){A(o,t,l),x(t,n),u.m(n,null),e[24](n),x(t,i),f&&f.m(t,null),r=!0,s||(a=j(n,"wheel",e[25]),s=!0)},p(e,i){d===(d=c(e))&&u?u.p(e,i):(u.d(1),u=d(e),u&&(u.c(),u.m(n,null))),(!r||3584&i[0]&&o!==(o=p("image-grid "+(e[10]??1?"fullView":"")+(0!==e[9]?.length||e[11]?"":"empty"))+" svelte-1bx3mt1"))&&F(n,"class",o),32&i[0]&&M(n,"--anime-grid-height",e[5]+"px"),e[10]&&e[3]?.scrollLeft>500?f?(f.p(e,i),1032&i[0]&&pe(f,1)):(f=rn(e),f.c(),pe(f,1),f.m(t,null)):f&&(ue(),me(f,1,1,(()=>{f=null})),fe()),(!r||1024&i[0]&&l!==(l=p(e[10]??1?"fullView":"")+" svelte-1bx3mt1"))&&F(t,"class",l)},i(e){r||(pe(f),r=!0)},o(e){me(f),r=!1},d(n){n&&T(t),u.d(),e[24](null),f&&f.d(),s=!1,a()}}}let an=13;function cn({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":o<t?"purple":o<n?"orange":e?.semiCaution?.length?"teal":"green"}function dn(e,t){let n,o;if("number"==typeof t?.episode&&"number"==typeof t?.airingAt){let e=new Date(1e3*t?.airingAt);o=t?.episode,e instanceof Date&&!isNaN(e)&&(n=e.getTime()-(new Date).getTime())}return n>0&&o>1&&e>o?`(${o-1}/${e})`:n<=0&&"number"==typeof o&&e>o?`(${o}/${e})`:"number"==typeof e?`(${e})`:"number"==typeof o?n>0&&o>1?`(${o-1}")`:`(${o}")`:""}function un(e,t,n){let o,i,l,r,s,a,c,d,f,p,h,y,g,w,v,b,k,x,S;u(e,ze,(e=>n(1,i=e))),u(e,De,(e=>n(19,l=e))),u(e,st,(e=>n(32,r=e))),u(e,at,(e=>n(33,s=e))),u(e,ct,(e=>n(6,a=e))),u(e,dt,(e=>n(34,c=e))),u(e,Oe,(e=>n(35,d=e))),u(e,Ze,(e=>n(36,f=e))),u(e,nt,(e=>n(7,p=e))),u(e,yt,(e=>n(37,h=e))),u(e,et,(e=>n(38,y=e))),u(e,it,(e=>n(8,g=e))),u(e,Me,(e=>n(9,w=e))),u(e,Ue,(e=>n(39,v=e))),u(e,tt,(e=>n(40,b=e))),u(e,bt,(e=>n(41,k=e))),u(e,Qe,(e=>n(10,x=e))),u(e,Je,(e=>n(11,S=e)));let E,A,T=window.visualViewport.height,N=new Date,L=!1;q((()=>{n(0,T=window.visualViewport.height),n(3,E=E||document.getElementById("anime-grid")),window.addEventListener("resize",(()=>{n(0,T=window.visualViewport.height)})),setInterval((()=>{n(2,N=new Date)}),1e3)}));let $,I,C,j=!1;function P(e){m(dt,c=e,c),m(ct,a=!0,a)}function F(e,t){let n=e.target;n.classList.contains("copy")||n.closest(".copy")||(C&&clearTimeout(C),C=setTimeout((()=>{m(at,s=t,s),m(st,r=!0,r)}),500))}function z(){n(3,E),n(3,E),E?.children?.[0]?.scrollIntoView?.({container:E,behavior:"smooth",block:"nearest",inline:"start"})}window.checkAnimeLoaderStatus=m(Ze,f=async()=>{if(d instanceof Worker&&"function"==typeof d.onmessage)return new Promise(((e,t)=>{$={resolve:e,reject:t},d?.postMessage?.({checkStatus:!0}),clearTimeout(I),I=setTimeout((()=>{t()}),1e3)})).catch((()=>{m(Oe,d=null,d),m(Me,w=null,w),m(bt,k=!k,k),$=null})).finally((()=>{$=null}))},f),Oe.subscribe((e=>{e instanceof Worker&&(e.onmessage=async({data:e})=>{if($?.resolve&&e?.isAlive&&($?.resolve?.(),$=null),await ee(),void 0!==e?.status)m(Ue,v=e.status,v);else if(e.finalAnimeList instanceof Array)!0===e?.reload?(m(Me,w=e.finalAnimeList,w),j=!0,m(it,g=e.numberOfNextLoadedGrid,g)):!0===e.isNew?(m(Me,w=e.finalAnimeList,w),m(it,g=e.numberOfNextLoadedGrid,g)):!1===e.isNew&&(w instanceof Array&&(m(Me,w=w.concat(e.finalAnimeList),w),e.isLast&&(m(nt,p=!0,p),y instanceof IntersectionObserver&&(y.disconnect(),m(et,y=null,y)))),m(it,g=e.numberOfNextLoadedGrid,g));else if(!0===e.isRemoved&&"number"==typeof e.removedID){let t=Math.max(w.length-2,0),n=w[t].gridElement||E.children?.[t];y instanceof IntersectionObserver&&n instanceof Element&&y.observe(n);let o=w.findIndex((({id:t})=>t===e.removedID));m(Me,w=w.filter((({id:t})=>t!==e.removedID)),w),o>=0&&m(tt,b=o,b),m(it,g=e.numberOfNextLoadedGrid,g)}},e.onerror=e=>{m(Ue,v="Something went wrong...",v),console.error(e)})})),Me.subscribe((async e=>{if(e instanceof Array&&e.length){p&&m(nt,p=!1,p),y&&(y.disconnect(),m(et,y=null,y)),await ee(),A=!1,m(et,y=new IntersectionObserver((e=>{p||e.forEach((e=>{if(e.isIntersecting){if(n(4,L=!0),A)return;A=!0,setTimeout((()=>{d instanceof Worker&&f().then((()=>{d?.postMessage?.({loadMore:!0})})),A=!1}),1e3)}}))}),{root:null,rootMargin:"100%",threshold:[0,1]}),y);let e=w.length-1,t=w[e].gridElement||E.children?.[e];y instanceof IntersectionObserver&&(t instanceof Element&&y.observe(t),document.querySelectorAll(".anime-loaded-padding").forEach((e=>{y.observe(e)}))),j&&(m(yt,h=!h,h),j=!1),n(4,L=!1)}else m(it,g=null,g),y&&(y?.disconnect?.(),m(et,y=null,y)),j&&(m(yt,h=!h,h),j=!1),n(4,L=!1)})),ot.subscribe((async e=>{"string"==typeof e&&d instanceof Worker&&(m(nt,p=!1,p),f().then((()=>{d?.postMessage?.({filterKeyword:e})})))}));return e.$$.update=()=>{524291&e.$$.dirty[0]&&n(5,o=(l?.[i?.filterSelection?.[i?.filterSelection?.findIndex((({isSelected:e})=>e))]?.filterSelectionName]||[]).length?T:T+50)},[T,i,N,E,L,o,a,p,g,w,x,S,P,F,function(){C&&clearTimeout(C)},function({contentCaution:e,sortedFavoriteContents:t,meanScoreAll:n,meanScoreAbove:o,score:i}){let l=[];t?.forEach((e=>{"string"==typeof e&&l.push(e)}));let r=[];i<n?r.push(`Very Low Score (mean: ${Ct(n)})`):i<o&&r.push(`Low Score (mean: ${Ct(o)})`),r=r.concat(e?.caution||[]).concat(e?.semiCaution||[]);let s="";return l.length&&(s+="Favorite Contents: "+l.join(", ")||""),r.length&&(s+="\n\nContent Cautions: "+r.join(", ")),s},function({weightedScore:e,score:t,averageScore:n,userScore:o}){let l=i?.sortFilter.filter((({sortType:e})=>"none"!==e))?.[0]?.sortName;return"score"===l?Ct(t):"user score"===l?o:"average score"===l?n:Ct(e)},function(e){return jt(e,"completed")?"green":jt(e,"current")||jt(e,"repeating")?"blue":jt(e,"planning")?"orange":jt(e,"paused")?"peach":jt(e,"dropped")?"red":"lightgrey"},z,l,e=>{Mt(e.target,"fade-out"),Dt(e.target?.closest?.(".shimmer"),"loaded")},(e,t)=>F(t,e),(e,t)=>"Enter"===t.key&&P(e),function(e,t,n){G[e?"unshift":"push"]((()=>{t[n].gridElement=e}))},function(e){G[e?"unshift":"push"]((()=>{E=e,n(3,E)}))},e=>(x??!0)&&function(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}(e,"image-grid"),e=>"Enter"===e.key&&z()]}let fn={};const pn=e=>new Promise((t=>{Ft()?t(e):fn[e]?t(fn[e]):(e=e+"?v="+d(Le),fetch(e,{headers:{"Cache-Control":"max-age=31536000, immutable"}}).then((e=>e.blob())).then((n=>{let o=URL.createObjectURL(n);fn[e]=o,t(o)})).catch((async()=>{t(e)})))}));let mn,hn=1e3,yn=!1,gn=!1;const wn=e=>new Promise(((t,n)=>{yn=!0,Ce.set(0),pn("./webapi/worker/animeLoader.js").then((o=>{mn&&(mn.terminate(),mn=null),mn=new Worker(o),mn.postMessage(e),mn.onmessage=({data:e})=>{e?.progress>=0&&e?.progress<=100?Ce.set(e.progress):void 0!==e?.status?(yn=!0,Ue.set(e.status)):e?.isNew&&(yn=!1,mn.onmessage=null,Ce.set(100),t(Object.assign({},e,{animeLoaderWorker:mn})))},mn.onerror=e=>{Ce.set(100),n(e)}})).catch((e=>{Ce.set(100),Bn(),n(e)}))}));let vn,bn;const kn=e=>new Promise(((t,n)=>{yn=!0,bn&&bn.terminate(),Ce.set(0),pn("./webapi/worker/processRecommendedAnimeList.js").then((o=>{bn=new Worker(o),vn&&clearTimeout(vn),bn.postMessage(e),bn.onmessage=({data:e})=>{e?.progress>=0&&e?.progress<=100?Ce.set(e.progress):void 0!==e?.status?(yn=!0,Ue.set(e.status)):(yn=!1,vn=setTimeout((()=>{bn.terminate()}),hn),Ce.set(100),t())},bn.onerror=e=>{Ce.set(100),n(e)}})).catch((e=>{Ce.set(100),Bn(),n(e)}))}));let xn,Sn;const En=e=>new Promise(((t,n)=>{Sn&&Sn.terminate(),Ce.set(0),pn("./webapi/worker/requestAnimeEntries.js").then((o=>{Sn=new Worker(o),xn&&clearTimeout(xn),Sn.postMessage(e),Sn.onmessage=({data:e})=>{e?.progress>=0&&e?.progress<=100?yn||Ce.set(e.progress):void 0!==e?.status?yn||Ue.set(e.status):void 0!==e?.updateRecommendationList?kt.update((e=>!e)):e?.lastRunnedAutoUpdateDate instanceof Date&&!isNaN(e?.lastRunnedAutoUpdateDate)?Re.set(e.lastRunnedAutoUpdateDate):(void 0!==e?.errorDuringInit||(xn=setTimeout((()=>{Sn.terminate()}),hn),Ce.set(100)),t(e))},Sn.onerror=e=>{Ce.set(100),n(e)}})).catch((e=>{Ce.set(100),Bn(),n(e)}))}));let An,Tn;const Nn=e=>new Promise(((t,n)=>{d(Je)||(gn||d(_e))&&(Ve.set(!1),window.confirmPromise({isAlert:!0,text:"Getting user entries is terminated, currently importing/exporting..."})),Tn&&Tn.terminate(),Ce.set(0),pn("./webapi/worker/requestUserEntries.js").then((o=>{Tn=new Worker(o),An&&clearTimeout(An),Tn.postMessage(e),Tn.onmessage=({data:e})=>{e?.progress>=0&&e?.progress<=100?yn||Ce.set(e.progress):void 0!==e?.status?yn||(Ue.set(e.status),"User not found"===e.status&&(St.update((e=>!e)),window.confirmPromise({isAlert:!0,text:"User is not found, you may want to try again..."}),An=setTimeout((()=>{Tn.terminate()}),hn),Ce.set(100),n(e))):e?.error?(St.update((e=>!e)),An=setTimeout((()=>{Tn.terminate()}),hn),Ce.set(100),n(e)):void 0!==e?.updateRecommendationList?kt.update((e=>!e)):(An=setTimeout((()=>{Tn.terminate()}),hn),Ce.set(100),t(e))},Tn.onerror=e=>{St.update((e=>!e)),An=setTimeout((()=>{Tn.terminate()}),hn),Ce.set(100),n(e)}})).catch((e=>{Ce.set(100),St.update((e=>!e)),Bn(),n(e)}))}));let Ln;const $n=e=>new Promise(((e,t)=>{if(!d(Je)){if(d(_e))return;Wn(),gn=!0}Ln&&Ln.terminate(),Ce.set(0),pn("./webapi/worker/exportUserData.js").then((n=>{Ln=new Worker(n),Ft()?Ln.postMessage("android"):Ln.postMessage("browser"),Ln.onmessage=({data:t})=>{if(t?.progress>=0&&t?.progress<=100)Ce.set(t.progress);else if(void 0!==t?.status)yn=!0,Ue.set(t.status);else if(Ft()){yn=!1;let n=t.chunk,o=t.state;if(0===o)JSBridge.exportJSON("",0,"");else if(1===o)JSBridge.exportJSON(n,1,"");else if(2===o){let o=t.username??null;JSBridge.exportJSON(n,2,`Kanshi.${o?.toLowerCase()||"Backup"}.json`),Ce.set(100),Ln.terminate(),gn=!1,e(t)}}else{yn=!1;let n=t.username??null;Ce.set(100),((e,t)=>{zt&&setTimeout((()=>URL.revokeObjectURL(zt)),0),zt=e;const n=document.createElement("a");n.href=e,n.download=t,n.click()})(t.url,`Kanshi.${n?.toLowerCase()||"Backup"}.json`),gn=!1,e(t)}},Ln.onerror=e=>{Ce.set(100),gn=!1,window.confirmPromise?.({isAlert:!0,title:"Export Failed",text:"Data is not exported, please try again in a later time."}),t(e)}})).catch((e=>{Ce.set(100),gn=!1,Bn(),t(e)}))}));let In,Cn;const jn=e=>new Promise(((t,n)=>{pn("./webapi/worker/getIDBdata.js").then((o=>{let i=new Worker(o);i.postMessage({name:e}),i.onmessage=({data:e})=>{void 0!==e?.status?Ue.set(e.status):(i.terminate(),t(e))},i.onerror=e=>{n(e)}})).catch((()=>{Bn(),n(error)}))})),Pn=(e,t)=>new Promise(((n,o)=>{pn("./webapi/worker/saveIDBdata.js").then((i=>{let l=new Worker(i);l.onmessage=({data:e})=>{void 0!==e?.status?Ue.set(e.status):(setTimeout((()=>{l.terminate(),l=null}),hn),n())},l.onerror=e=>{o(e)},l.postMessage({data:e,name:t})})).catch((e=>{Bn(),o(e)}))}));let Fn,zn;let Dn,Mn;let On,Un,_n;const Vn=e=>new Promise(((t,n)=>{Un=setInterval((()=>{zn||Mn||Ue.set("Getting Filters")}),300),pn("./webapi/worker/getFilterOptions.js").then((o=>{Un&&(clearInterval(Un),Un=null),_n&&_n.terminate(),_n=new Worker(o),On&&clearTimeout(On),_n.postMessage(e),_n.onmessage=({data:e})=>{void 0!==e?.status?(yn=!0,Ue.set(e.status)):(yn=!1,On=setTimeout((()=>{_n.terminate()}),hn),t(e))},_n.onerror=e=>{n(e)}})).catch((e=>{Un&&(clearInterval(Un),Un=null),Ue.set(null),Bn(),n(e)}))}));function Wn(){Ce.set(0),Sn?.terminate?.(),Tn?.terminate?.(),Ve.set(!1),Cn?.terminate?.(),_e.set(!1),Ln?.terminate?.(),gn=!1,_n?.terminate?.(),clearInterval(zn),zn=null,clearInterval(Mn),Mn=null,clearInterval(Un),Un=null,Ue.set(null)}function Bn(){Ft()?window.confirmPromise?.({isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to restart and make sure you're running the latest version."}):window.confirmPromise?.({isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to refresh the page, or if not clear the cookies but backup your data first."})}function Rn(e,t){return new Promise((async(n,o)=>{await Pn(e,t).then((e=>{n(e)})).catch((e=>{o(e)}))}))}async function Hn(e){return new Promise((async(t,n)=>{await jn(e).then((e=>{t(e)})).catch((e=>{n(e)}))}))}function qn(e,t,n){const o=e.slice();return o[99]=t[n],o[100]=t,o[101]=n,o}function Yn(e,t,n){const o=e.slice();return o[102]=t[n].caution,o[103]=t[n].cautionColor,o}function Gn(e,t,n){const o=e.slice();return o[106]=t[n].tag,o[107]=t[n].tagColor,o}function Kn(e,t,n){const o=e.slice();return o[110]=t[n].genre,o[111]=t[n].genreColor,o}function Xn(e,t,n){const o=e.slice();return o[114]=t[n].studio,o[115]=t[n].studioColor,o}function Jn(e){let t,n,o,i=[],l=new Map,r=e[8]||[];const s=e=>e[99].id;for(let t=0;t<r.length;t+=1){let n=qn(e,r,t),o=s(n);l.set(o,i[t]=To(o,n))}let a=e[8]?.length&&!e[12]&&No();return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=I(),a&&a.c(),n=C()},m(e,l){for(let t=0;t<i.length;t+=1)i[t]&&i[t].m(e,l);A(e,t,l),a&&a.m(e,l),A(e,n,l),o=!0},p(e,o){67096409&o[0]&&(r=e[8]||[],ue(),i=be(i,o,s,1,e,r,l,t.parentNode,ve,To,t,qn),fe()),e[8]?.length&&!e[12]?a||(a=No(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(e){if(!o){for(let e=0;e<r.length;e+=1)pe(i[e]);o=!0}},o(e){for(let e=0;e<i.length;e+=1)me(i[e]);o=!1},d(e){for(let t=0;t<i.length;t+=1)i[t].d(e);e&&T(t),a&&a.d(e),e&&T(n)}}}function Qn(e){let t;return{c(){t=L("div"),F(t,"class","trailer display-none")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function Zn(e){let t,n,o,i;return{c(){t=L("img"),F(t,"loading","lazy"),a(t.src,n=e[99].bannerImageUrl)||F(t,"src",n),F(t,"alt","bannerImg"),F(t,"class","bannerImg fade-out svelte-n6982y")},m(n,l){A(n,t,l),o||(i=j(t,"load",e[30]),o=!0)},p(e,o){256&o[0]&&!a(t.src,n=e[99].bannerImageUrl)&&F(t,"src",n)},d(e){e&&T(t),o=!1,i()}}}function eo(e){let t;function n(e,t){return e[99].bannerImageUrl?no:to}let o=n(e),i=o(e);return{c(){i.c(),t=C()},m(e,n){i.m(e,n),A(e,t,n)},p(e,l){o===(o=n(e))&&i?i.p(e,l):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&T(t)}}}function to(e){let t,n,o,i;return{c(){t=L("img"),F(t,"loading","lazy"),a(t.src,n=e[99].coverImageUrl)||F(t,"src",n),F(t,"alt","coverImg"),F(t,"class","coverImg fade-out svelte-n6982y")},m(n,l){A(n,t,l),o||(i=j(t,"load",e[32]),o=!0)},p(e,o){256&o[0]&&!a(t.src,n=e[99].coverImageUrl)&&F(t,"src",n)},d(e){e&&T(t),o=!1,i()}}}function no(e){let t,n,o,i;return{c(){t=L("img"),F(t,"loading","lazy"),a(t.src,n=e[99].coverImageUrl)||F(t,"src",n),F(t,"alt","coverImg"),F(t,"class","coverImg display-none fade-out svelte-n6982y")},m(n,l){A(n,t,l),o||(i=j(t,"load",e[31]),o=!0)},p(e,o){256&o[0]&&!a(t.src,n=e[99].coverImageUrl)&&F(t,"src",n)},d(e){e&&T(t),o=!1,i()}}}function oo(e){let t,n,o,l,r,s=Po(e[99]?.description)+"";return{c(){t=L("div"),n=L("div"),F(n,"class","anime-description svelte-n6982y"),F(t,"class","anime-description-container copy display-none fade-out svelte-n6982y"),F(t,"copy-value",o=jo(e[99]?.description))},m(o,i){A(o,t,i),x(t,n),n.innerHTML=s,l||(r=[j(t,"click",e[25]),j(t,"keydown",e[33])],l=!0)},p(e,i){256&i[0]&&s!==(s=Po(e[99]?.description)+"")&&(n.innerHTML=s),256&i[0]&&o!==(o=jo(e[99]?.description))&&F(t,"copy-value",o)},d(e){e&&T(t),l=!1,i(r)}}}function io(e){let t,n,o,l,r,s,a,c,d,u=e[3]>=350?"List Update Available":e[3]>=283?"Update Available":e[3]>=236?"Available":"";return{c(){t=L("div"),n=L("i"),o=I(),l=L("h3"),r=$(u),F(n,"class","list-update-icon fa-solid fa-arrows-rotate svelte-n6982y"),F(l,"class","list-update-label svelte-n6982y"),F(t,"class","list-update-container svelte-n6982y"),F(t,"tabindex","0")},m(i,s){A(i,t,s),x(t,n),x(t,o),x(t,l),x(l,r),a=!0,c||(d=[j(t,"click",e[18]),j(t,"keydown",e[36])],c=!0)},p(e,t){(!a||8&t[0])&&u!==(u=e[3]>=350?"List Update Available":e[3]>=283?"Update Available":e[3]>=236?"Available":"")&&z(r,u)},i(e){a||(te((()=>{a&&(s||(s=ge(t,_t,{x:-50,duration:300},!0)),s.run(1))})),a=!0)},o(e){s||(s=ge(t,_t,{x:-50,duration:300},!1)),s.run(0),a=!1},d(e){e&&T(t),e&&s&&s.end(),c=!1,i(d)}}}function lo(t){let n,o,l;return{c(){n=L("i"),F(n,"class","fa-solid fa-circle-info svelte-n6982y"),F(n,"tabindex","0")},m(e,i){A(e,n,i),o||(l=[j(n,"click",t[24]),j(n,"keydown",t[39])],o=!0)},p:e,d(e){e&&T(n),o=!1,i(l)}}}function ro(e){let t,n,o,i,l,r,s;function a(e,t){return e[99]?.nextAiringEpisode?.airingAt?ao:so}let c=a(e),d=c(e);return{c(){t=L("div"),n=L("div"),n.textContent="Format",o=I(),i=L("div"),d.c(),F(n,"class","info-categ svelte-n6982y"),F(i,"class",l=p("format-popup info not-capitalize"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(l,a){A(l,t,a),x(t,n),x(t,o),x(t,i),d.m(i,null),r||(s=j(i,"wheel",e[40]),r=!0)},p(e,t){c===(c=a(e))&&d?d.p(e,t):(d.d(1),d=c(e),d&&(d.c(),d.m(i,null))),2048&t[0]&&l!==(l=p("format-popup info not-capitalize"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",l),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t),d.d(),r=!1,s()}}}function so(e){let t,n,o,i=(e[23](e[99])||"N/A")+"";return{c(){t=L("span"),n=$(i),F(t,"class","copy svelte-n6982y"),F(t,"copy-value",o=e[23](e[99])||"")},m(e,o){A(e,t,o),x(t,n)},p(e,l){256&l[0]&&i!==(i=(e[23](e[99])||"N/A")+"")&&z(n,i),256&l[0]&&o!==(o=e[23](e[99])||"")&&F(t,"copy-value",o)},d(e){e&&T(t)}}}function ao(e){let t,n=e[0].getSeconds(),o=co(e);return{c(){o.c(),t=C()},m(e,n){o.m(e,n),A(e,t,n)},p(e,i){1&i[0]&&r(n,n=e[0].getSeconds())?(o.d(1),o=co(e),o.c(),o.m(t.parentNode,t)):o.p(e,i)},d(e){e&&T(t),o.d(e)}}}function co(e){let t,n,o,i=(e[23](e[99])||"N/A")+"";return{c(){t=L("span"),n=$(i),F(t,"class","copy svelte-n6982y"),F(t,"copy-value",o=e[23](e[99])||"")},m(e,o){A(e,t,o),x(t,n)},p(e,l){256&l[0]&&i!==(i=(e[23](e[99])||"N/A")+"")&&z(n,i),256&l[0]&&o!==(o=e[23](e[99])||"")&&F(t,"copy-value",o)},d(e){e&&T(t)}}}function uo(e){let t,n,o,i,l,r,s,a=[],c=new Map,d=e[21](Object.entries(e[99].studios||{}),e[99]?.favoriteContents?.studios);const u=e=>e[114];for(let t=0;t<d.length;t+=1){let n=Xn(e,d,t),o=u(n);c.set(o,a[t]=fo(o,n))}return{c(){t=L("div"),n=L("div"),n.textContent="Studio",o=I(),i=L("div");for(let e=0;e<a.length;e+=1)a[e].c();F(n,"class","info-categ svelte-n6982y"),F(i,"class",l=p("studio-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(l,c){A(l,t,c),x(t,n),x(t,o),x(t,i);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(i,null);r||(s=j(i,"wheel",e[41]),r=!0)},p(e,t){2097408&t[0]&&(d=e[21](Object.entries(e[99].studios||{}),e[99]?.favoriteContents?.studios),a=be(a,t,u,1,e,d,c,i,we,fo,null,Xn)),2048&t[0]&&l!==(l=p("studio-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",l),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t);for(let e=0;e<a.length;e+=1)a[e].d();r=!1,s()}}}function fo(e,t){let n,o,i,l,r,s,a,c=(t[114].studioName||"N/A")+"";return{key:e,first:null,c(){n=L("span"),o=L("a"),i=$(c),s=I(),F(o,"class",l=p(t[115]?`${t[115]}-color`:"")+" svelte-n6982y"),F(o,"rel","noopener noreferrer"),F(o,"target","_blank"),F(o,"href",r=t[114].studioUrl||""),F(n,"class",p("copy")+" svelte-n6982y"),F(n,"copy-value",a=t[114].studioName||""),this.first=n},m(e,t){A(e,n,t),x(n,o),x(o,i),x(n,s)},p(e,s){t=e,256&s[0]&&c!==(c=(t[114].studioName||"N/A")+"")&&z(i,c),256&s[0]&&l!==(l=p(t[115]?`${t[115]}-color`:"")+" svelte-n6982y")&&F(o,"class",l),256&s[0]&&r!==(r=t[114].studioUrl||"")&&F(o,"href",r),256&s[0]&&a!==(a=t[114].studioName||"")&&F(n,"copy-value",a)},d(e){e&&T(n)}}}function po(e){let t,n,o,i,l,r,s,a=[],c=new Map,d=e[22](e[99].genres,e[99]?.favoriteContents?.genres,e[99].contentCaution);const u=e=>e[110];for(let t=0;t<d.length;t+=1){let n=Kn(e,d,t),o=u(n);c.set(o,a[t]=mo(o,n))}return{c(){t=L("div"),n=L("div"),n.textContent="Genres",o=I(),i=L("div");for(let e=0;e<a.length;e+=1)a[e].c();F(n,"class","info-categ svelte-n6982y"),F(i,"class",l=p("genres-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(l,c){A(l,t,c),x(t,n),x(t,o),x(t,i);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(i,null);r||(s=j(i,"wheel",e[42]),r=!0)},p(e,t){4194560&t[0]&&(d=e[22](e[99].genres,e[99]?.favoriteContents?.genres,e[99].contentCaution),a=be(a,t,u,1,e,d,c,i,we,mo,null,Kn)),2048&t[0]&&l!==(l=p("genres-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",l),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t);for(let e=0;e<a.length;e+=1)a[e].d();r=!1,s()}}}function mo(e,t){let n,o,i,l,r,s=(t[110]||"N/A")+"";return{key:e,first:null,c(){n=L("span"),o=$(s),i=I(),F(n,"class",l=p("copy "+(t[111]?`${t[111]}-color`:""))+" svelte-n6982y"),F(n,"copy-value",r=t[110]||""),this.first=n},m(e,t){A(e,n,t),x(n,o),x(n,i)},p(e,i){t=e,256&i[0]&&s!==(s=(t[110]||"N/A")+"")&&z(o,s),256&i[0]&&l!==(l=p("copy "+(t[111]?`${t[111]}-color`:""))+" svelte-n6982y")&&F(n,"class",l),256&i[0]&&r!==(r=t[110]||"")&&F(n,"copy-value",r)},d(e){e&&T(n)}}}function ho(e){let t,n,o,i,l,r,s,a=[],c=new Map,d=e[20](e[99].tags,e[99]?.favoriteContents?.tags,e[99].contentCaution);const u=e=>e[106];for(let t=0;t<d.length;t+=1){let n=Gn(e,d,t),o=u(n);c.set(o,a[t]=yo(o,n))}return{c(){t=L("div"),n=L("div"),n.textContent="Tags",o=I(),i=L("div");for(let e=0;e<a.length;e+=1)a[e].c();F(n,"class","info-categ svelte-n6982y"),F(i,"class",l=p("tags-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(l,c){A(l,t,c),x(t,n),x(t,o),x(t,i);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(i,null);r||(s=j(i,"wheel",e[43]),r=!0)},p(e,t){1048832&t[0]&&(d=e[20](e[99].tags,e[99]?.favoriteContents?.tags,e[99].contentCaution),a=be(a,t,u,1,e,d,c,i,we,yo,null,Gn)),2048&t[0]&&l!==(l=p("tags-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",l),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t);for(let e=0;e<a.length;e+=1)a[e].d();r=!1,s()}}}function yo(e,t){let n,o,i,l,r,s=(t[106]||"N/A")+"";return{key:e,first:null,c(){n=L("span"),o=$(s),i=I(),F(n,"class",l=p("copy "+(t[107]?`${t[107]}-color`:""))+" svelte-n6982y"),F(n,"copy-value",r=t[106]||""),this.first=n},m(e,t){A(e,n,t),x(n,o),x(n,i)},p(e,i){t=e,256&i[0]&&s!==(s=(t[106]||"N/A")+"")&&z(o,s),256&i[0]&&l!==(l=p("copy "+(t[107]?`${t[107]}-color`:""))+" svelte-n6982y")&&F(n,"class",l),256&i[0]&&r!==(r=t[106]||"")&&F(n,"copy-value",r)},d(e){e&&T(n)}}}function go(e){let t,n,o,i,l,r,s,a=[],c=new Map,d=e[17](e[99]);const u=e=>e[102]+e[103];for(let t=0;t<d.length;t+=1){let n=Yn(e,d,t),o=u(n);c.set(o,a[t]=wo(o,n))}return{c(){t=L("div"),n=L("div"),n.textContent="Content Cautions",o=I(),i=L("div");for(let e=0;e<a.length;e+=1)a[e].c();F(n,"class","info-categ svelte-n6982y"),F(i,"class",l=p("content-caution-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(l,c){A(l,t,c),x(t,n),x(t,o),x(t,i);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(i,null);r||(s=j(i,"wheel",e[44]),r=!0)},p(e,t){131328&t[0]&&(d=e[17](e[99]),a=be(a,t,u,1,e,d,c,i,we,wo,null,Yn)),2048&t[0]&&l!==(l=p("content-caution-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",l),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t);for(let e=0;e<a.length;e+=1)a[e].d();r=!1,s()}}}function wo(e,t){let n,o,i,l,r,s=(t[102]||"N/A")+"";return{key:e,first:null,c(){n=L("span"),o=$(s),i=I(),F(n,"class",l=p(t[103]+"-color copy")+" svelte-n6982y"),F(n,"copy-value",r=t[102]||""),this.first=n},m(e,t){A(e,n,t),x(n,o),x(n,i)},p(e,i){t=e,256&i[0]&&s!==(s=(t[102]||"N/A")+"")&&z(o,s),256&i[0]&&l!==(l=p(t[103]+"-color copy")+" svelte-n6982y")&&F(n,"class",l),256&i[0]&&r!==(r=t[102]||"")&&F(n,"copy-value",r)},d(e){e&&T(n)}}}function vo(e){let t,n,o,i,l,r,s,a,c,d,u=(e[99].averageScore??"N/A")+"";return{c(){t=L("div"),n=L("div"),n.textContent="Average Score",o=I(),i=L("div"),l=L("span"),r=$(u),F(n,"class","info-categ svelte-n6982y"),F(l,"class","copy svelte-n6982y"),F(l,"copy-value",s=e[99].averageScore??""),F(i,"class",a=p("average-score-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(s,a){A(s,t,a),x(t,n),x(t,o),x(t,i),x(i,l),x(l,r),c||(d=j(i,"wheel",e[45]),c=!0)},p(e,t){256&t[0]&&u!==(u=(e[99].averageScore??"N/A")+"")&&z(r,u),256&t[0]&&s!==(s=e[99].averageScore??"")&&F(l,"copy-value",s),2048&t[0]&&a!==(a=p("average-score-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",a),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t),c=!1,d()}}}function bo(e){let t,n,o,i,l,r,s,a,c,d,u=(e[99].popularity||"N/A")+"";return{c(){t=L("div"),n=L("div"),n.textContent="Popularity",o=I(),i=L("div"),l=L("span"),r=$(u),F(n,"class","info-categ svelte-n6982y"),F(l,"class","copy svelte-n6982y"),F(l,"copy-value",s=e[99].popularity??""),F(i,"class",a=p("popularity-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(s,a){A(s,t,a),x(t,n),x(t,o),x(t,i),x(i,l),x(l,r),c||(d=j(i,"wheel",e[46]),c=!0)},p(e,t){256&t[0]&&u!==(u=(e[99].popularity||"N/A")+"")&&z(r,u),256&t[0]&&s!==(s=e[99].popularity??"")&&F(l,"copy-value",s),2048&t[0]&&a!==(a=p("popularity-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",a),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t),c=!1,d()}}}function ko(e){let t,n,o,i,l,r,s,a,c,d,u=(`${e[99]?.season||""}${e[99]?.year?" "+e[99].year:""}`||"N/A")+"";return{c(){t=L("div"),n=L("div"),n.textContent="Season Year",o=I(),i=L("div"),l=L("span"),r=$(u),F(n,"class","info-categ svelte-n6982y"),F(l,"class","copy svelte-n6982y"),F(l,"copy-value",s=`${e[99]?.season||""}${e[99]?.year?" "+e[99].year:""}`||""),F(i,"class",a=p("season-year-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(s,a){A(s,t,a),x(t,n),x(t,o),x(t,i),x(i,l),x(l,r),c||(d=j(i,"wheel",e[47]),c=!0)},p(e,t){256&t[0]&&u!==(u=(`${e[99]?.season||""}${e[99]?.year?" "+e[99].year:""}`||"N/A")+"")&&z(r,u),256&t[0]&&s!==(s=`${e[99]?.season||""}${e[99]?.year?" "+e[99].year:""}`||"")&&F(l,"copy-value",s),2048&t[0]&&a!==(a=p("season-year-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",a),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t),c=!1,d()}}}function xo(e){let t,n,o,i,l,r,s,a,c,d,u=(e[99].status||"N/A")+"";return{c(){t=L("div"),n=L("div"),n.textContent="Airing Status",o=I(),i=L("div"),l=L("span"),r=$(u),F(n,"class","info-categ svelte-n6982y"),F(l,"class","copy svelte-n6982y"),F(l,"copy-value",s=e[99].status||""),F(i,"class",a=p("status-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(s,a){A(s,t,a),x(t,n),x(t,o),x(t,i),x(i,l),x(l,r),c||(d=j(i,"wheel",e[48]),c=!0)},p(e,t){256&t[0]&&u!==(u=(e[99].status||"N/A")+"")&&z(r,u),256&t[0]&&s!==(s=e[99].status||"")&&F(l,"copy-value",s),2048&t[0]&&a!==(a=p("status-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",a),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t),c=!1,d()}}}function So(e){let t,n,o,i,l,r,s,a,c,d,u,f=(e[99].userStatus||"N/A")+"";return{c(){t=L("div"),n=L("div"),n.textContent="User Status",o=I(),i=L("div"),l=L("span"),r=$(f),F(n,"class","info-categ svelte-n6982y"),F(l,"class",s=p("copy "+e[19](e[99].userStatus)+"-color")+" svelte-n6982y"),F(l,"copy-value",a=e[99].userStatus||""),F(i,"class",c=p("user-status-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(s,a){A(s,t,a),x(t,n),x(t,o),x(t,i),x(i,l),x(l,r),d||(u=j(i,"wheel",e[49]),d=!0)},p(e,t){256&t[0]&&f!==(f=(e[99].userStatus||"N/A")+"")&&z(r,f),256&t[0]&&s!==(s=p("copy "+e[19](e[99].userStatus)+"-color")+" svelte-n6982y")&&F(l,"class",s),256&t[0]&&a!==(a=e[99].userStatus||"")&&F(l,"copy-value",a),2048&t[0]&&c!==(c=p("user-status-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",c),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t),d=!1,u()}}}function Eo(e){let t,n,o,i,l,r,s,a,c,d,u=(e[99].userScore??"N/A")+"";return{c(){t=L("div"),n=L("div"),n.textContent="User Score",o=I(),i=L("div"),l=L("span"),r=$(u),F(n,"class","info-categ svelte-n6982y"),F(l,"class","copy svelte-n6982y"),F(l,"copy-value",s=e[99].userScore??""),F(i,"class",a=p("user-score-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(s,a){A(s,t,a),x(t,n),x(t,o),x(t,i),x(i,l),x(l,r),c||(d=j(i,"wheel",e[50]),c=!0)},p(e,t){256&t[0]&&u!==(u=(e[99].userScore??"N/A")+"")&&z(r,u),256&t[0]&&s!==(s=e[99].userScore??"")&&F(l,"copy-value",s),2048&t[0]&&a!==(a=p("user-score-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",a),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t),c=!1,d()}}}function Ao(e){let t,n,o,i,l,r,s,a,c,d,u=(Ct(e[99].score)??"N/A")+"";return{c(){t=L("div"),n=L("div"),n.textContent="Score",o=I(),i=L("div"),l=L("span"),r=$(u),F(n,"class","info-categ svelte-n6982y"),F(l,"class","copy svelte-n6982y"),F(l,"copy-value",s=e[99].score??""),F(i,"class",a=p("score-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y"),M(i,"overflow",e[6]?"hidden":"")},m(s,a){A(s,t,a),x(t,n),x(t,o),x(t,i),x(i,l),x(l,r),c||(d=j(i,"wheel",e[51]),c=!0)},p(e,t){256&t[0]&&u!==(u=(Ct(e[99].score)??"N/A")+"")&&z(r,u),256&t[0]&&s!==(s=e[99].score??"")&&F(l,"copy-value",s),2048&t[0]&&a!==(a=p("score-popup info"+(e[11]?" hasWheel":""))+" svelte-n6982y")&&F(i,"class",a),64&t[0]&&M(i,"overflow",e[6]?"hidden":"")},d(e){e&&T(t),c=!1,d()}}}function To(e,t){let n,o,r,s,a,c,d,u,f,m,h,y,g,w,v,b,k,S,E,N,C,P,D,O,U,_,V,W,B,R,H,q,Y,G,K,X,J,Q,Z,ee,te,ne,oe,ie,le,re,se,ae,ce,de,he,ye,ge,we=t[100],ve=t[101],be=(t[99]?.title?.userPreferred||"N/A")+"",ke=t[23](t[99]),xe=Object.entries(t[99]?.studios||{}).length,Se=t[17](t[99]).length,Ee=null!=Ct(t[99].score),Ae="See "+(t[99].isSeenMore?"Less":"More"),Te=(t[14](t[99].id)||"N/A")+"",Ne=t[99].trailerID&&Qn(),Le=t[99].bannerImageUrl&&Zn(t),$e=t[99].coverImageUrl&&eo(t),Ie=t[99]?.description&&oo(t);const Ce=()=>t[34](r,we,ve),je=()=>t[34](null,we,ve);let Pe=t[10]&&io(t),Fe=t[99]?.description&&lo(t),ze=ke&&ro(t),De=xe&&uo(t),Me=t[99].genres.length&&po(t),Oe=t[99]?.tags?.length&&ho(t),Ue=Se&&go(t),_e=null!=t[99].averageScore&&vo(t),Ve=null!=t[99].popularity&&bo(t),We=(t[99]?.season||t[99]?.year)&&ko(t),Be=t[99].status&&xo(t),Re=t[99].userStatus&&So(t),He=null!=t[99].userScore&&Eo(t),qe=Ee&&Ao(t);function Ye(...e){return t[52](t[99],...e)}const Ge=()=>t[53](n,we,ve),Ke=()=>t[53](null,we,ve);return{key:e,first:null,c(){n=L("div"),o=L("div"),r=L("div"),s=L("div"),s.innerHTML='<i class="fa-solid fa-k fa-fade svelte-n6982y"></i>',a=I(),Ne&&Ne.c(),c=I(),d=L("div"),Le&&Le.c(),u=I(),$e&&$e.c(),f=I(),Ie&&Ie.c(),h=I(),y=L("div"),Pe&&Pe.c(),g=I(),w=L("div"),v=L("h3"),v.textContent="Auto Play",b=I(),k=L("label"),S=L("input"),E=I(),N=L("span"),C=I(),P=L("div"),D=L("div"),O=L("a"),U=$(be),B=I(),Fe&&Fe.c(),R=I(),H=L("div"),ze&&ze.c(),q=I(),De&&De.c(),Y=I(),Me&&Me.c(),G=I(),Oe&&Oe.c(),K=I(),Ue&&Ue.c(),X=I(),_e&&_e.c(),J=I(),Ve&&Ve.c(),Q=I(),We&&We.c(),Z=I(),Be&&Be.c(),ee=I(),Re&&Re.c(),te=I(),He&&He.c(),ne=I(),qe&&qe.c(),ie=I(),le=L("div"),re=L("button"),se=$(Ae),ae=I(),ce=L("button"),de=$(Te),F(s,"class","popup-header-loading svelte-n6982y"),F(d,"class","popup-img svelte-n6982y"),F(r,"class",m=p("popup-header "+(t[99].trailerID?"loader":""))+" svelte-n6982y"),F(v,"class","autoplay-label svelte-n6982y"),F(S,"type","checkbox"),F(S,"class","autoplayToggle svelte-n6982y"),F(N,"class","slider round svelte-n6982y"),F(N,"tabindex","0"),F(k,"class","switch svelte-n6982y"),F(w,"class","autoPlay-container svelte-n6982y"),F(y,"class","popup-controls svelte-n6982y"),F(O,"rel","noopener noreferrer"),F(O,"target","_blank"),F(O,"href",_=t[99].animeUrl||""),F(O,"class",V=p(Io(t[99])+"-color anime-title copy")+" svelte-n6982y"),F(O,"copy-value",W=t[99]?.title?.userPreferred||""),M(O,"overflow",t[6]?"hidden":""),F(D,"class","anime-title-container svelte-n6982y"),M(D,"overflow",t[6]?"hidden":""),F(H,"class",oe=p("info-list "+(t[99].isSeenMore?"seenmore":""))+" svelte-n6982y"),M(H,"--windowWidth",t[3]+"px"),M(H,"--windowHeight",t[4]+"px"),F(re,"class","seemoreless svelte-n6982y"),M(re,"overflow",t[6]?"hidden":""),F(ce,"class","hideshowbtn svelte-n6982y"),F(le,"class","footer svelte-n6982y"),F(P,"class","popup-body svelte-n6982y"),F(o,"class","popup-main svelte-n6982y"),F(n,"class","popup-content svelte-n6982y"),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,r),x(r,s),x(r,a),Ne&&Ne.m(r,null),x(r,c),x(r,d),Le&&Le.m(d,null),x(d,u),$e&&$e.m(d,null),x(r,f),Ie&&Ie.m(r,null),Ce(),x(o,h),x(o,y),Pe&&Pe.m(y,null),x(y,g),x(y,w),x(w,v),x(w,b),x(w,k),x(k,S),S.checked=t[9],x(k,E),x(k,N),x(o,C),x(o,P),x(P,D),x(D,O),x(O,U),x(D,B),Fe&&Fe.m(D,null),x(P,R),x(P,H),ze&&ze.m(H,null),x(H,q),De&&De.m(H,null),x(H,Y),Me&&Me.m(H,null),x(H,G),Oe&&Oe.m(H,null),x(H,K),Ue&&Ue.m(H,null),x(H,X),_e&&_e.m(H,null),x(H,J),Ve&&Ve.m(H,null),x(H,Q),We&&We.m(H,null),x(H,Z),Be&&Be.m(H,null),x(H,ee),Re&&Re.m(H,null),x(H,te),He&&He.m(H,null),x(H,ne),qe&&qe.m(H,null),x(P,ie),x(P,le),x(le,re),x(re,se),x(le,ae),x(le,ce),x(ce,de),Ge(),he=!0,ye||(ge=[j(r,"click",t[24]),j(r,"keydown",t[35]),j(S,"change",t[37]),j(N,"keydown",t[38]),j(re,"click",(function(){l(t[16](t[99],t[101]))&&t[16](t[99],t[101]).apply(this,arguments)})),j(re,"keydown",Fo),j(ce,"click",(function(){l(t[15](t[99].id))&&t[15](t[99].id).apply(this,arguments)})),j(ce,"keydown",Ye)],ye=!0)},p(e,n){(t=e)[99].trailerID?Ne||(Ne=Qn(),Ne.c(),Ne.m(r,c)):Ne&&(Ne.d(1),Ne=null),t[99].bannerImageUrl?Le?Le.p(t,n):(Le=Zn(t),Le.c(),Le.m(d,u)):Le&&(Le.d(1),Le=null),t[99].coverImageUrl?$e?$e.p(t,n):($e=eo(t),$e.c(),$e.m(d,null)):$e&&($e.d(1),$e=null),t[99]?.description?Ie?Ie.p(t,n):(Ie=oo(t),Ie.c(),Ie.m(r,null)):Ie&&(Ie.d(1),Ie=null),(!he||256&n[0]&&m!==(m=p("popup-header "+(t[99].trailerID?"loader":""))+" svelte-n6982y"))&&F(r,"class",m),we===t[100]&&ve===t[101]||(je(),we=t[100],ve=t[101],Ce()),t[10]?Pe?(Pe.p(t,n),1024&n[0]&&pe(Pe,1)):(Pe=io(t),Pe.c(),pe(Pe,1),Pe.m(y,g)):Pe&&(ue(),me(Pe,1,1,(()=>{Pe=null})),fe()),512&n[0]&&(S.checked=t[9]),(!he||256&n[0])&&be!==(be=(t[99]?.title?.userPreferred||"N/A")+"")&&z(U,be),(!he||256&n[0]&&_!==(_=t[99].animeUrl||""))&&F(O,"href",_),(!he||256&n[0]&&V!==(V=p(Io(t[99])+"-color anime-title copy")+" svelte-n6982y"))&&F(O,"class",V),(!he||256&n[0]&&W!==(W=t[99]?.title?.userPreferred||""))&&F(O,"copy-value",W),64&n[0]&&M(O,"overflow",t[6]?"hidden":""),t[99]?.description?Fe?Fe.p(t,n):(Fe=lo(t),Fe.c(),Fe.m(D,null)):Fe&&(Fe.d(1),Fe=null),64&n[0]&&M(D,"overflow",t[6]?"hidden":""),256&n[0]&&(ke=t[23](t[99])),ke?ze?ze.p(t,n):(ze=ro(t),ze.c(),ze.m(H,q)):ze&&(ze.d(1),ze=null),256&n[0]&&(xe=Object.entries(t[99]?.studios||{}).length),xe?De?De.p(t,n):(De=uo(t),De.c(),De.m(H,Y)):De&&(De.d(1),De=null),t[99].genres.length?Me?Me.p(t,n):(Me=po(t),Me.c(),Me.m(H,G)):Me&&(Me.d(1),Me=null),t[99]?.tags?.length?Oe?Oe.p(t,n):(Oe=ho(t),Oe.c(),Oe.m(H,K)):Oe&&(Oe.d(1),Oe=null),256&n[0]&&(Se=t[17](t[99]).length),Se?Ue?Ue.p(t,n):(Ue=go(t),Ue.c(),Ue.m(H,X)):Ue&&(Ue.d(1),Ue=null),null!=t[99].averageScore?_e?_e.p(t,n):(_e=vo(t),_e.c(),_e.m(H,J)):_e&&(_e.d(1),_e=null),null!=t[99].popularity?Ve?Ve.p(t,n):(Ve=bo(t),Ve.c(),Ve.m(H,Q)):Ve&&(Ve.d(1),Ve=null),t[99]?.season||t[99]?.year?We?We.p(t,n):(We=ko(t),We.c(),We.m(H,Z)):We&&(We.d(1),We=null),t[99].status?Be?Be.p(t,n):(Be=xo(t),Be.c(),Be.m(H,ee)):Be&&(Be.d(1),Be=null),t[99].userStatus?Re?Re.p(t,n):(Re=So(t),Re.c(),Re.m(H,te)):Re&&(Re.d(1),Re=null),null!=t[99].userScore?He?He.p(t,n):(He=Eo(t),He.c(),He.m(H,ne)):He&&(He.d(1),He=null),256&n[0]&&(Ee=null!=Ct(t[99].score)),Ee?qe?qe.p(t,n):(qe=Ao(t),qe.c(),qe.m(H,null)):qe&&(qe.d(1),qe=null),(!he||256&n[0]&&oe!==(oe=p("info-list "+(t[99].isSeenMore?"seenmore":""))+" svelte-n6982y"))&&F(H,"class",oe),8&n[0]&&M(H,"--windowWidth",t[3]+"px"),16&n[0]&&M(H,"--windowHeight",t[4]+"px"),(!he||256&n[0])&&Ae!==(Ae="See "+(t[99].isSeenMore?"Less":"More"))&&z(se,Ae),64&n[0]&&M(re,"overflow",t[6]?"hidden":""),(!he||256&n[0])&&Te!==(Te=(t[14](t[99].id)||"N/A")+"")&&z(de,Te),we===t[100]&&ve===t[101]||(Ke(),we=t[100],ve=t[101],Ge())},i(e){he||(pe(Pe),he=!0)},o(e){me(Pe),he=!1},d(e){e&&T(n),Ne&&Ne.d(),Le&&Le.d(),$e&&$e.d(),Ie&&Ie.d(),je(),Pe&&Pe.d(),Fe&&Fe.d(),ze&&ze.d(),De&&De.d(),Me&&Me.d(),Oe&&Oe.d(),Ue&&Ue.d(),_e&&_e.d(),Ve&&Ve.d(),We&&We.d(),Be&&Be.d(),Re&&Re.d(),He&&He.d(),qe&&qe.d(),Ke(),ye=!1,i(ge)}}}function No(e){let t;return{c(){t=L("div"),t.innerHTML='<i class="popup-content-loading-icon fa-solid fa-k fa-fade svelte-n6982y"></i>',F(t,"class","popup-content-loading svelte-n6982y")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function Lo(e){let t,n,o,i,l,r;return{c(){t=L("div"),n=L("div"),o=L("i"),F(o,"class","fa-solid fa-arrow-left svelte-n6982y"),F(n,"class",i=p("go-back-grid"+(e[5]>=100?" willGoBack":""))+" svelte-n6982y"),F(t,"class","go-back-grid-highlight svelte-n6982y"),M(t,"--scale",Math.max(1,.01*(e[5]??1)*2)),M(t,"--position","-"+(100-(e[5]??0))+"%")},m(e,i){A(e,t,i),x(t,n),x(n,o),r=!0},p(e,o){(!r||32&o[0]&&i!==(i=p("go-back-grid"+(e[5]>=100?" willGoBack":""))+" svelte-n6982y"))&&F(n,"class",i),32&o[0]&&M(t,"--scale",Math.max(1,.01*(e[5]??1)*2)),32&o[0]&&M(t,"--position","-"+(100-(e[5]??0))+"%")},i(e){r||(l&&l.end(1),r=!0)},o(e){l=ye(t,_t,{x:-176,duration:1e3}),r=!1},d(e){e&&T(t),e&&l&&l.end()}}}function $o(e){let t,n,o,l,r,s,a,c=e[8]?.length&&Jn(e),d=e[7]&&e[6]&&Lo(e);return{c(){t=L("div"),n=L("div"),c&&c.c(),o=I(),d&&d.c(),l=C(),F(n,"id","popup-container"),F(n,"class","popup-container hide svelte-n6982y"),M(n,"--translateY",e[4]+"px"),F(t,"id","popup-wrapper"),F(t,"class","popup-wrapper svelte-n6982y")},m(i,u){A(i,t,u),x(t,n),c&&c.m(n,null),e[54](n),e[56](t),A(i,o,u),d&&d.m(i,u),A(i,l,u),r=!0,s||(a=[j(n,"touchstart",e[26]),j(n,"touchmove",e[27]),j(n,"touchend",e[28]),j(n,"touchcancel",e[29],{passive:!0}),j(t,"click",e[13]),j(t,"keydown",e[55])],s=!0)},p(e,t){e[8]?.length?c?(c.p(e,t),256&t[0]&&pe(c,1)):(c=Jn(e),c.c(),pe(c,1),c.m(n,null)):c&&(ue(),me(c,1,1,(()=>{c=null})),fe()),16&t[0]&&M(n,"--translateY",e[4]+"px"),e[7]&&e[6]?d?(d.p(e,t),192&t[0]&&pe(d,1)):(d=Lo(e),d.c(),pe(d,1),d.m(l.parentNode,l)):d&&(ue(),me(d,1,1,(()=>{d=null})),fe())},i(e){r||(pe(c),pe(d),r=!0)},o(e){me(c),me(d),r=!1},d(n){n&&T(t),c&&c.d(),e[54](null),e[56](null),n&&T(o),d&&d.d(n),n&&T(l),s=!1,i(a)}}}function Io({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":o<t?"purple":o<n?"orange":e?.semiCaution?.length?"teal":"green"}function Co(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}function jo(e){let t=document.createElement("span");return t.innerHTML=e,t.textContent||t.innerText}function Po(e){let t=document.createElement("span");t.innerHTML=e;let n=t.querySelectorAll("a");return Array.from(n).forEach((e=>{e?.setAttribute("rel","noopener noreferrer"),e?.setAttribute("target","_blank")})),t.innerHTML}const Fo=e=>"Enter"===e.key;function zo(e,t,n){let o,i,l,r,s,a,c,d,f,p,h,y,g,w,v,b,k,x,S,E,A;u(e,pt,(e=>n(6,o=e))),u(e,ct,(e=>n(7,i=e))),u(e,Ue,(e=>n(78,l=e))),u(e,Ke,(e=>n(79,r=e))),u(e,kt,(e=>n(80,s=e))),u(e,Me,(e=>n(8,a=e))),u(e,Je,(e=>n(81,c=e))),u(e,$e,(e=>n(82,d=e))),u(e,Xe,(e=>n(9,f=e))),u(e,Ie,(e=>n(83,p=e))),u(e,it,(e=>n(84,h=e))),u(e,Fe,(e=>n(85,y=e))),u(e,ot,(e=>n(86,g=e))),u(e,Oe,(e=>n(87,w=e))),u(e,ft,(e=>n(10,v=e))),u(e,lt,(e=>n(88,b=e))),u(e,et,(e=>n(89,k=e))),u(e,dt,(e=>n(90,x=e))),u(e,Ze,(e=>n(91,S=e))),u(e,je,(e=>n(11,E=e))),u(e,nt,(e=>n(12,A=e)));let T,N=window.navigator.onLine,L=d?100:50;(async()=>{L=await Hn("savedYtVolume")||L})();let $,I,C,j,P,F,z,D,M,O=window.visualViewport.width,U=window.visualViewport.height;function _(e){let t=e.target,n=t.classList;t.closest(".popup-container")||n.contains("popup-container")||m(ct,i=!1,i)}async function V(e){y[e]?await b("Are you sure you want to show the anime?")&&(delete y[e],Fe.set(y),a.length&&w instanceof Worker&&S().then((()=>{w.postMessage({removeID:e})}))):await b("Are you sure you want to hide the anime?")&&(m(Fe,y[e]=!0,y),a.length&&w instanceof Worker&&S().then((()=>{w.postMessage({removeID:e})})))}async function W(){if(!i)return;await ee();let e,t=I?.querySelector?.(".trailer"),n=$t(I?.closest?.(".popup-content"))??-1;if(D&&clearTimeout(D),D=setTimeout((()=>{if(!i)return;let e=a?.[n]?.gridElement||$.children?.[n];i&&e instanceof Element&&!function(e,t,n=0){try{var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),l=getComputedStyle(e).overflowX,r=getComputedStyle(e).overflowY;if("auto"===l||"scroll"===l||"auto"===r||"scroll"===r){var s=e.scrollLeft,a=e.scrollTop,c=o.top>=i.top&&o.left>=i.left&&o.bottom<=i.bottom&&o.right<=i.right;if(c||(c=(Math.max(o.top,i.top)-Math.min(o.bottom,i.bottom))*(Math.max(o.left,i.left)-Math.min(o.right,i.right))/(Math.min(o.height,window.innerHeight)*Math.min(o.width,window.innerWidth))>=n),!c)return!1;o={top:o.top-i.top+a,left:o.left-i.left+s,bottom:o.bottom-i.top+a,right:o.right-i.left+s,height:o.height,width:o.width}}var d=window.innerHeight||document.documentElement.clientHeight,u=window.innerWidth||document.documentElement.clientWidth;return o.top>=0&&o.left>=0&&o.bottom<=d&&o.right<=u}catch(e){return}}($,e,.5)&&(window.scrollY=window.scrollY,window.scrollX=window.scrollX,e.scrollIntoView({behavior:"smooth",block:"nearest"}))}),300),t instanceof Element&&(e=r?.some((({ytPlayer:e})=>e.g===t))),e){if(n>=0){C=n;let e=[[a?.[n+1],n+1],[a?.[n-1],n-1]];M&&clearTimeout(M),M=setTimeout((async()=>{i&&e.forEach((([e,t])=>{e&&H(e,t)}))}),300)}for(let e=0;e<r.length;e++)r[e].ytPlayer.g===t&&1!==r[e].ytPlayer?.getPlayerState?.()&&f?(await ee(),P?.classList?.contains?.("visible")&&p&&(Y(r[e].ytPlayer),r[e].ytPlayer?.playVideo?.())):r[e].ytPlayer.g!==t&&r[e].ytPlayer?.pauseVideo?.()}else if(r?.forEach((({ytPlayer:e})=>e?.pauseVideo?.())),n>=0){C=n;let e=[[a?.[n],n],[a?.[n+1],n+1],[a?.[n-1],n-1]];M&&clearTimeout(M),M=setTimeout((async()=>{i&&e.forEach((([e,t])=>{e&&H(e,t)}))}),300)}}tt.subscribe((async e=>{if(i&&e>=0){await ee();let t=F?.children[e];t instanceof Element&&F instanceof Element&&It(F,t,"top")}})),Fe.subscribe((async e=>{At(e)&&await Rn(e,"hiddenEntries")})),ct.subscribe((async e=>{if(P instanceof Element&&F instanceof Element)if(!0===e){F.style.setProperty("--translateY",U+"px");let e=F?.children[x??C??0];if(e instanceof Element){It(F,e,"top","instant"),Dt(P,"visible"),Dt(F,"show"),C=x;let t,n=[[a[x],x],[a[x+1],x+1],[a[x-1],x-1]],o=n[0][0]?.popupHeader?.querySelector?.(".trailer")||F?.children?.[x]?.querySelector?.(".trailer");for(let e=0;e<r.length;e++)if(r[e].ytPlayer.g===o&&(t=!0,f)){await ee(),P?.classList?.contains?.("visible")&&p&&(Y(r[e].ytPlayer),r[e].ytPlayer?.playVideo?.());break}n.forEach((([e,n],o)=>{t&&e&&0===o||e&&H(e,n)})),m(dt,x=null,x)}else Dt(P,"visible"),Dt(F,"show")}else!1===e&&(Mt(F,"show"),Dt(F,"hide"),setTimeout((()=>{r?.forEach((({ytPlayer:e})=>e?.pauseVideo?.())),Mt(P,"visible")}),300))})),Me.subscribe((async e=>{if(e instanceof Array&&e.length){z&&(z?.disconnect?.(),z=null),await ee(),z=new IntersectionObserver((e=>{if(!i)return;let t=[];if(e.forEach((e=>{if(!i)return;let n=e.target;e.isIntersecting&&(e.intersectionRatio>=.5||U<=360&&e.intersectionRatio>0)&&t.push(n)})),t.length){let e=Lt(F,t,U>360?.5:0)||Lt(F,F.children,0)?.getElementsByClassName("popup-header")?.[0];I=e,W()}}),{root:null,rootMargin:"100%",threshold:[.5,0]}),e.forEach((async(e,t)=>{let n=e.popupHeader||F.children?.[t]?.querySelector?.(".popup-header");n instanceof Element&&z?.observe?.(n)}));let t=a[a.length-1].popupContent||F.children?.[a.length-1];k&&t instanceof Element&&k.observe(t),W()}else e instanceof Array&&e.length<1&&m(ct,i=!1,i)})),Xe.subscribe((async e=>{if("boolean"==typeof e)if(await Rn(e,"autoPlay"),!0===e){await ee();let e=I?.querySelector?.(".trailer");for(let t=0;t<r.length;t++)r[t].ytPlayer.g===e&&p?(Y(r[t].ytPlayer),r[t].ytPlayer?.playVideo?.()):r[t].ytPlayer?.pauseVideo?.()}else r.forEach((({ytPlayer:e})=>{e?.pauseVideo?.()}))})),q((()=>{setInterval((()=>{n(0,T=new Date)}),1e3),n(1,P=P||document.getElementById("popup-wrapper")),n(2,F=F||P.querySelector("#popup-container")),$=document.getElementById("anime-grid"),window.addEventListener("resize",(()=>{document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||(n(3,O=window.visualViewport.width),n(4,U=window.visualViewport.height))})),document.addEventListener("keydown",(async e=>{if(" "===e.key&&i){e.preventDefault();let t=I?.querySelector?.(".trailer"),n=r?.some((({ytPlayer:e})=>t===e.g&&1===e?.getPlayerState?.()));if(r.forEach((({ytPlayer:e})=>{e?.pauseVideo?.()})),!n){await ee();for(let e=0;e<r.length;e++)if(r[e].ytPlayer.g===t&&p){Y(r[e].ytPlayer),r[e].ytPlayer?.playVideo?.();break}}}else e.ctrlKey&&"x"===e.key?.toLowerCase?.()?(e.preventDefault(),m(ct,i=!i,i)):e.ctrlKey&&"k"===e.key?.toLowerCase?.()&&(e.preventDefault(),m(Xe,f=!f,f))}))}));let B,R={};function H(e,t){let n=e?.popupHeader||F.children?.[t]?.querySelector(".popup-header"),o=n?.querySelector?.(".trailer")||n?.querySelector?.(".trailer"),i=e?.trailerID;if(o instanceof Element&&i&&"undefined"!=typeof YT){if(r.some((({ytPlayer:e})=>e.g===o)))return;Dt(n,"loader");let l=n?.querySelector?.(".popup-img");if(e?.bannerImageUrl&&!R[e.id]){let e=l.querySelector(".coverImg");Dt(e,"display-none"),Dt(e,"fade-out")}if(r.length>=3){let e=0,t=-1/0;r.forEach(((n,o)=>{if(-1===n.headerIdx)return;let i=Math.abs(n.headerIdx-C);i>t&&(t=i,e=o)}));let i=r?.splice?.(e,1)?.[0]?.ytPlayer,s=i?.g?.closest?.(".popup-header");i?.destroy?.();let a=s?.querySelector?.(".popup-img");a instanceof Element&&Mt(a,"display-none");let c=document.createElement("div");c.className="trailer",Dt(o,"display-none"),Mt(l,"display-none"),n.replaceChild(c,o),Dt(o,"display-none"),o=n.querySelector(".trailer")}else Dt(o,"display-none");Mt(l,"display-none"),o.setAttribute("id","yt-player"+Date.now()+Math.random());let s=new YT.Player(o,{playerVars:{cc_lang_pref:"en",cc_load_policy:1,enablejsapi:1,modestbranding:1,playsinline:1,playlist:i,rel:0},events:{onReady:e=>{!async function(e){let t=e.target,n=t?.g,o=n?.parentElement,i=o?.closest?.(".popup-content"),l=a?.[$t(i)??-1];if(-1!==t.getPlayerState()&&"IFRAME"===n.tagName&&N){if(n?.setAttribute?.("loading","lazy"),!f){let e=o?.querySelector?.(".popup-img");Dt(e,"fade-out"),Mt(o,"loader"),Mt(n,"display-none"),setTimeout((()=>{Dt(e,"display-none"),Mt(e,"fade-out")}),300)}W(),delete R[l.id]}else{R[l.id]=!0,m(Ke,r=r.filter((e=>e.ytPlayer!==t)),r),t.destroy(),Dt(n,"display-none"),Mt(o,"loader");let e=o?.querySelector?.(".popup-img"),i=e.querySelector(".coverImg");Dt(i,"fade-out"),Mt(i,"fade-in"),Dt(i,"fade-in"),Mt(i,"display-none"),Mt(i,"fade-out"),Mt(e,"display-none")}}(e)},onStateChange:e=>{!function(e){let t=e.target;if(!t||!t?.getPlayerState)return;let n=t?.g,o=n?.parentElement,i=o?.querySelector?.(".popup-img");0===t?.getPlayerState?.()&&t?.seekTo?.(0,!0);1!==t?.getPlayerState?.()||!n?.classList?.contains?.("display-none")&&i?.classList?.contains?.("display-none")||(r?.forEach((({ytPlayer:e})=>e?.g!==t?.g&&e?.pauseVideo?.())),j=t,Dt(i,"fade-out"),Mt(o,"loader"),Mt(n,"display-none"),setTimeout((()=>{Dt(i,"display-none"),Mt(i,"fade-out")}),300))}(e)},onError:e=>{!function(e){let t=e.target,n=t?.g,o=n?.parentElement,i=o?.querySelector?.(".popup-img");m(Ke,r=r.filter((e=>e.ytPlayer!==t)),r),t.destroy(),Dt(n,"display-none"),Mt(o,"loader");let l=i.querySelector(".coverImg");Dt(l,"fade-out"),Mt(l,"fade-in"),Dt(l,"fade-in"),Mt(l,"display-none"),Mt(l,"fade-out"),Mt(i,"display-none")}(e)}}}),c=`https://www.youtube.com/embed/${i}`;o.setAttribute("src",c),r.push({ytPlayer:s,headerIdx:t})}else{let e=n?.querySelector?.(".popup-img"),t=e.querySelector(".coverImg");Mt(n,"loader"),Mt(t,"display-none"),Mt(e,"display-none")}}function Y(e){if(j?.isMuted&&j?.getVolume){let t=j?.isMuted?.(),n=j?.getVolume?.();"boolean"==typeof t&&(t?e?.mute?.():e?.unMute?.()),"number"==typeof n&&(L!==n&&(L=n,Rn(L,"savedYtVolume")),e?.setVolume?.(L))}}async function K(e){if(await b({title:"List update is available",text:"Are you sure you want to refresh the list?"})){let t,n=e.target,o=n.classList;t=o.contains("list-update-container")?n.querySelector?.(".list-update-icon"):n?.closest(".list-update-container")?.querySelector?.(".list-update-icon"),B&&clearTimeout(B),Dt(t,"fa-spin"),w&&(w.terminate(),m(Oe,w=null,w)),wn().then((async e=>{m(ft,v=!1,v),B=setTimeout((()=>{Mt(t,"fa-spin")}),300),m(Oe,w=e.animeLoaderWorker,w),m(ot,g="",g),e?.isNew&&(m(Me,a=e.finalAnimeList,a),m(Fe,y=e.hiddenEntries,y),m(it,h=e.numberOfNextLoadedGrid,h)),m(Ue,l=null,l)})).catch((e=>{throw e}))}}let X,J,Q,Z,te,ne,oe,ie,le,re=!1;function se(e){let t=e.target.closest(".popup-main"),n=t?.querySelector?.(".anime-description-container");if(n){e.stopPropagation(),n.classList.contains("display-none")?(Mt(n,"display-none"),Mt(n,"fade-out"),Dt(n,"fade-in")):(Mt(n,"fade-in"),Dt(n,"fade-out"),setTimeout((()=>{Dt(n,"display-none"),Dt(n,"fade-out")}),300))}}function ae(e){let t=e.target;t.classList.contains("anime-description-container")||(t=t.closest(".anime-description-container")),t&&(e.stopPropagation(),Mt(t,"fade-in"),Dt(t,"fade-out"),setTimeout((()=>{Dt(t,"display-none"),Dt(t,"fade-out")}),300))}window.returnedAppIsVisible=e=>{if(!d)return;if(m(Ie,p=e,p),!i||c)return;let t=I?.querySelector?.(".trailer");if(t)if(p)for(let e=0;e<r.length;e++)r[e]?.ytPlayer.g===t&&(f||2===r[e]?.ytPlayer?.getPlayerState?.()&&re)?(Y(r[e]?.ytPlayer),r[e]?.ytPlayer?.playVideo?.()):r[e]?.ytPlayer?.pauseVideo?.();else{re=!1;for(let e=0;e<r.length;e++)r[e]?.ytPlayer.g===t&&1===r[e]?.ytPlayer?.getPlayerState?.()&&(re=!0),r[e]?.ytPlayer?.pauseVideo?.()}},document.addEventListener("visibilitychange",(()=>{if(d)return;if(m(Ie,p="visible"===document.visibilityState,p),!i||c)return;let e=I?.querySelector?.(".trailer");if(e)if(p)for(let t=0;t<r.length;t++)r[t]?.ytPlayer.g===e&&(f||2===r[t]?.ytPlayer?.getPlayerState?.()&&re)?(Y(r[t]?.ytPlayer),r[t]?.ytPlayer?.playVideo?.()):r[t]?.ytPlayer?.pauseVideo?.();else{re=!1;for(let t=0;t<r.length;t++)r[t]?.ytPlayer.g===e&&1===r[t]?.ytPlayer?.getPlayerState?.()&&(re=!0),r[t]?.ytPlayer?.pauseVideo?.()}})),window.addEventListener("online",(()=>{if(d)try{JSBridge.isOnline(!0)}catch(e){}m(Ue,l="Reconnected Successfully",l),c&&m(Je,c=!1,c),a?.length||m(kt,s=!s,s),N=!0,document.querySelectorAll("link")?.forEach((e=>{e.href&&(e.href=e.href)})),document.querySelectorAll("script")?.forEach((e=>{e.src&&"https://www.youtube.com/iframe_api?v=16"!==e.src&&(e.src=e.src)})),document.querySelectorAll("img")?.forEach((e=>{e.naturalHeight||(e.src=e.src)})),new Promise((e=>{let t=document.getElementById("www-widgetapi-script");t&&t.parentElement.removeChild(t);let n=document.createElement("script");n.src="https://www.youtube.com/iframe_api?v=16",n.onerror=()=>{e()},n.onload=()=>{window?.onYouTubeIframeAPIReady?.(),e()};let o=document.getElementsByTagName("script")[0];o.parentElement.insertBefore(n,o)})).then((()=>{m(Ke,r=r.filter((({ytPlayer:e})=>{if("function"!=typeof e?.playVideo||-1===e.getPlayerState()||isNaN(e.getPlayerState())){e.destroy();let t=e?.g?.closest?.(".popup-header")?.querySelector?.(".popup-img");return t instanceof Element&&Mt(t,"display-none"),!1}return!0})),r),W()}))})),window.addEventListener("offline",(()=>{m(Ue,l="Currently Offline...",l),N=!1})),window.addEventListener("click",(e=>{let t,n=e.target,o=n.classList;if(t=o?.contains?.("popup-main")?n:n?.closest?.(".popup-main"),t){let e=t.querySelector(".anime-description-container");e&&!e?.classList?.contains?.("fade-out")&&(Mt(e,"fade-in"),Dt(e,"fade-out"),setTimeout((()=>{Dt(e,"display-none"),Dt(e,"fade-out")}),300))}})),mt.subscribe((e=>{!0===e&&(clearTimeout(ie),m(pt,o=X=!1,o),n(5,le=0))}));return[T,P,F,O,U,le,o,i,a,f,v,E,A,_,function(e){return y?y[e]?"Show":"Hide":"N/A"},V,async function(e,t){if(a[t]){m(Me,a[t].isSeenMore=!a[t].isSeenMore,a),await ee();let n=e.popupContent||F.children?.[t],o=n?.getElementsByClassName?.("popup-header")[0];n instanceof Element&&(It(F,n,"bottom","instant"),I=o,W())}},function({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){let i=[];return o<t?i.push({caution:`Very Low Score (mean: ${Ct(t)})`,cautionColor:"purple"}):o<n&&i.push({caution:`Low Score (mean: ${Ct(n)})`,cautionColor:"orange"}),e?.caution?.length&&(i=i.concat(e?.caution.map((e=>({caution:e,cautionColor:"red"}))))),e?.semiCaution?.length&&(i=i.concat(e?.semiCaution.map((e=>({caution:e,cautionColor:"teal"}))))),i},K,function(e){return jt(e,"completed")?"green":jt(e,"current")||jt(e,"repeating")?"blue":jt(e,"planning")?"orange":jt(e,"paused")?"peach":jt(e,"dropped")?"red":void 0},function(e,t,n){if(!e?.length)return e;let o=At(t)&&!Tt(t),i=At(n)&&!Tt(n),l={},r={};i&&(n?.caution.forEach((e=>{l[e.trim().toLowerCase()]=!0})),n?.semiCaution.forEach((e=>{r[e.trim().toLowerCase()]=!0})));let s=[],a=[],c=[],d=[],u={};return e.forEach((e=>{let n=e?.trim?.().toLowerCase?.();i&&(l[n]?(u[e]=!0,a.push({tag:e,tagColor:"red"})):r[n]&&(u[e]=!0,c.push({tag:e,tagColor:"teal"}))),o&&!u[e]&&t[n]&&(u[e]=!0,s.push({tag:e,score:t[n]})),u[e]||d.push({tag:e,tagColor:null})})),s.sort(((e,t)=>t.score-e.score)),s=s.map((e=>({tag:`${e.tag} (${Ct(e.score)})`,tagColor:"green"}))),a.concat(c).concat(s).concat(d)},function(e,t){if(!e?.length)return e;let n=At(t)&&!Tt(t),o=[],i=[];return e.forEach((([e,l])=>{if(n){let n=e?.trim?.().toLowerCase?.();t[n]?o.push({studio:[e,l],score:t[n]}):i.push({studio:{studioName:e,studioUrl:l},studioColor:null})}else i.push({studio:{studioName:e,studioUrl:l},studioColor:null})})),o.sort(((e,t)=>t.score-e.score)),o=o.map((e=>({studio:{studioName:`${e.studio[0]} (${Ct(e.score)})`,studioUrl:e.studio[1]},studioColor:"green"}))),o.concat(i)},function(e,t,n){if(!e?.length)return e;let o=At(t)&&!Tt(t),i=At(n)&&!Tt(n),l={},r={};i&&(n?.caution.forEach((e=>{l[e.trim().toLowerCase()]=!0})),n?.semiCaution.forEach((e=>{r[e.trim().toLowerCase()]=!0})));let s=[],a=[],c=[],d=[],u={};return e.forEach((e=>{let n=e?.trim?.().toLowerCase?.();i&&(l[n]?(u[e]=!0,a.push({genre:e,genreColor:"red"})):r[n]&&(u[e]=!0,c.push({genre:e,genreColor:"teal"}))),o&&!u[e]&&t[n]&&(u[e]=!0,s.push({genre:e,score:t[n]})),u[e]||d.push({genre:e,genreColor:null})})),s.sort(((e,t)=>t.score-e.score)),s=s.map((e=>({genre:`${e.genre} (${Ct(e.score)})`,genreColor:"green"}))),s.concat(a).concat(c).concat(d)},function({episodes:e,format:t,duration:n,nextAiringEpisode:o}){let i=t;if(t){let l,r;if(i=`${t}`,"number"==typeof o?.episode&&"number"==typeof o?.airingAt){let e=new Date(1e3*o?.airingAt);r=o?.episode,e instanceof Date&&!isNaN(e)&&(l=e.getTime()-(new Date).getTime())}if(l>0&&"number"==typeof r&&e>r?i+=` (${r}/${e} in ${Nt(l,1)})`:l>0&&"number"==typeof r&&"number"!=typeof e?i+=` (Ep ${r} in ${Nt(l,1)})`:l<=0&&"number"==typeof r&&e>r?i+=` (${r}/${e})`:e>0&&(i+=` (${e})`),n>0){let e=Nt(60*n*1e3);i+=` | ${e||""}`}}return i},se,ae,function(e){Z=e.touches[0].clientX,ne=e.touches[0].clientY,J=e.touches[0].identifier,clearTimeout(ie);let t=e.target,n=!1;for(;t&&t!==document.body;){if(t.scrollWidth>t.clientWidth&&t.scrollLeft>=7.5){n="popup-container"!==t.id;break}t=t.parentElement}n||(ie=setTimeout((()=>{Q=!0}),0))},function(e){if(Q){Q=!1,te=e.touches[0].clientX,oe=e.touches[0].clientY;const t=te-Z,n=oe-ne;Math.abs(t)>Math.abs(n)&&(t>0?(e.stopImmediatePropagation(),m(pt,o=!0,o)):t<0&&(X=!0))}else if(o){te=e.touches[0].clientX;const t=te-Z;n(5,le=t>0?Math.min(t/48*100,100):0)}},function(e){if(clearTimeout(ie),o||X){te=Array.from(e.changedTouches).find((e=>e.identifier===J)).clientX;let t=48,l=te-Z;if(l>=t&&o)m(ct,i=!1,i);else if(l<=-t&&X){let t,n=e.target;for(;n&&n!==document.body;){if(n.scrollWidth>n.clientWidth){t=!0;break}n=n.parentElement}if(!t){let t=e.target.closest(".popup-main"),n=t?.querySelector?.(".anime-description-container");if(n){e.stopPropagation(),n.classList.contains("display-none")?(Mt(n,"display-none"),Mt(n,"fade-out"),Dt(n,"fade-in")):(Mt(n,"fade-in"),Dt(n,"fade-out"),setTimeout((()=>{Dt(n,"display-none"),Dt(n,"fade-out")}),300))}}}J=null,m(pt,o=X=!1,o),n(5,le=0)}else J=null,m(pt,o=X=!1,o),n(5,le=0)},function(){clearTimeout(ie),J=null,m(pt,o=X=!1,o),n(5,le=0)},e=>{Mt(e.target,"fade-out"),Dt(e.target,"fade-in")},e=>{Mt(e.target,"fade-out"),Dt(e.target,"fade-in")},e=>{Mt(e.target,"fade-out"),Dt(e.target,"fade-in")},e=>"Enter"===e.key&&ae(e),function(e,t,n){G[e?"unshift":"push"]((()=>{t[n].popupHeader=e}))},e=>"Enter"===e.key&&se(e),e=>"Enter"===e.key&&K(e),function(){f=this.checked,Xe.set(f)},e=>"Enter"===e.key&&m(Xe,f=!f,f),e=>"Enter"===e.key&&se(e),e=>Co(e,"info"),e=>Co(e,"info"),e=>Co(e,"info"),e=>Co(e,"info"),e=>Co(e,"info"),e=>Co(e,"info"),e=>Co(e,"info"),e=>Co(e,"info"),e=>Co(e,"info"),e=>Co(e,"info"),e=>Co(e,"info"),e=>Co(e,"info"),(e,t)=>"Enter"===t.key&&V(e.id),function(e,t,n){G[e?"unshift":"push"]((()=>{t[n].popupContent=e}))},function(e){G[e?"unshift":"push"]((()=>{F=e,n(2,F)}))},e=>"Enter"===e.key&&_(e),function(e){G[e?"unshift":"push"]((()=>{P=e,n(1,P)}))}]}function Do(e){let t,n,o,l,r,s,a,c,d,u,f,p,m,h,y,g,w,v,b,k,S,E,N=(e[3][e[1]]?"Show":"Hide")+" Anime";return{c(){t=L("div"),n=L("div"),o=L("div"),l=L("span"),r=L("h1"),s=$(e[0]),a=I(),c=L("div"),c.textContent="",d=I(),u=L("span"),u.innerHTML='<h2 class="option-title svelte-l9gjbd">Open Anime</h2>',f=I(),p=L("span"),p.innerHTML='<h2 class="option-title svelte-l9gjbd">Open In Anilist</h2>',m=I(),h=L("span"),h.innerHTML='<h2 class="option-title svelte-l9gjbd">Copy Title</h2>',y=I(),g=L("span"),w=L("h2"),v=$(N),F(r,"class","svelte-l9gjbd"),F(l,"class","anime-title svelte-l9gjbd"),F(c,"class","closing-x svelte-l9gjbd"),F(c,"tabindex","0"),F(o,"class","option-header svelte-l9gjbd"),F(u,"class","anime-option svelte-l9gjbd"),F(p,"class","anime-option svelte-l9gjbd"),F(h,"class","anime-option svelte-l9gjbd"),F(w,"class","option-title svelte-l9gjbd"),F(g,"class","anime-option svelte-l9gjbd"),F(n,"class","anime-options-container svelte-l9gjbd"),F(t,"class","anime-options svelte-l9gjbd")},m(i,b){A(i,t,b),x(t,n),x(n,o),x(o,l),x(l,r),x(r,s),x(o,a),x(o,c),x(n,d),x(n,u),x(n,f),x(n,p),x(n,m),x(n,h),x(n,y),x(n,g),x(g,w),x(w,v),k=!0,S||(E=[j(c,"click",e[4]),j(c,"keydown",e[9]),j(u,"click",e[5]),j(u,"keydown",e[10]),j(p,"click",e[6]),j(p,"keydown",e[11]),j(h,"click",e[7]),j(h,"keydown",e[12]),j(g,"click",e[8]),j(g,"keydown",e[13]),j(t,"click",e[4]),j(t,"keydown",e[14])],S=!0)},p(e,t){(!k||1&t)&&z(s,e[0]),(!k||10&t)&&N!==(N=(e[3][e[1]]?"Show":"Hide")+" Anime")&&z(v,N)},i(e){k||(te((()=>{k&&(b||(b=ge(n,_t,{y:20,duration:300},!0)),b.run(1))})),k=!0)},o(e){b||(b=ge(n,_t,{y:20,duration:300},!1)),b.run(0),k=!1},d(e){e&&T(t),e&&b&&b.end(),S=!1,i(E)}}}function Mo(e){let t,n,o=e[2]&&Do(e);return{c(){o&&o.c(),t=C()},m(e,i){o&&o.m(e,i),A(e,t,i),n=!0},p(e,[n]){e[2]?o?(o.p(e,n),4&n&&pe(o,1)):(o=Do(e),o.c(),pe(o,1),o.m(t.parentNode,t)):o&&(ue(),me(o,1,1,(()=>{o=null})),fe())},i(e){n||(pe(o),n=!0)},o(e){me(o),n=!1},d(e){o&&o.d(e),e&&T(t)}}}function Oo(e,t,n){let o,i,l,r,s,a,c,d,f,p,h,y,g,w;u(e,st,(e=>n(2,o=e))),u(e,Oe,(e=>n(19,i=e))),u(e,Ze,(e=>n(20,l=e))),u(e,Me,(e=>n(21,r=e))),u(e,Fe,(e=>n(3,s=e))),u(e,lt,(e=>n(22,a=e))),u(e,$e,(e=>n(23,c=e))),u(e,ct,(e=>n(24,d=e))),u(e,dt,(e=>n(25,f=e))),u(e,at,(e=>n(26,p=e)));let v,b=!0;function k(e){if(b&&"keydown"!==e.type)return;let t=e.target,n=t.classList;(n.contains("closing-x")||!t.closest(".anime-options-container")&&!n.contains("anime-options-container"))&&m(st,o=!1,o)}function x(e){b&&"keydown"!==e.type||(m(dt,f=w,f),m(ct,d=!0,d),m(st,o=!1,o))}function S(e){b&&"keydown"!==e.type||(g&&window.open(g,"_blank"),m(st,o=!1,o))}function E(e){if((!b||"keydown"===e.type)&&h){if(c)try{JSBridge.copyToClipBoard(h)}catch(e){}else navigator?.clipboard?.writeText?.(h);m(st,o=!1,o)}}async function A(e){if(b&&"keydown"!==e.type)return;s[y]?await a("Are you sure you want to show the anime?")&&(delete s[y],Fe.set(s),r.length&&i instanceof Worker&&l().then((()=>{i.postMessage({removeID:y})})),m(st,o=!1,o)):await a("Are you sure you want to hide the anime?")&&(m(Fe,s[y]=!0,s),r.length&&i instanceof Worker&&l().then((()=>{i.postMessage({removeID:y})})),m(st,o=!1,o))}st.subscribe((e=>{if(!0===e){b=!0,v=setTimeout((()=>{b=!1}),500);let e=r[p];e&&(n(0,h=e?.title?.userPreferred),n(1,y=e.id),g=e.animeUrl,w=p),m(at,p=null,p)}else v&&clearTimeout(v),b=!1}));return[h,y,o,s,k,x,S,E,A,e=>"Enter"===e.key&&k(e),e=>"Enter"===e.key&&x(e),e=>"Enter"===e.key&&S(e),e=>"Enter"===e.key&&E(e),e=>"Enter"===e.key&&A(e),e=>"Enter"===e.key&&k(e)]}function Uo(t){let n,o,l,r,s,c,d,u,f,m,h,y,g,w,v,b,k,S=(t[0]||"Your Anilist Username")+"";return{c(){n=L("div"),o=L("nav"),l=L("div"),r=L("i"),s=I(),c=L("div"),d=L("input"),u=I(),f=L("div"),m=$(S),h=I(),y=L("div"),g=L("img"),F(r,"class",p("goback fa-solid fa-arrow-left")+" svelte-wpsgre"),F(r,"tabindex","0"),F(l,"class","go-back-container svelte-wpsgre"),F(d,"id","usernameInput"),F(d,"type","search"),F(d,"enterkeyhint","search"),F(d,"autocomplete","off"),F(d,"placeholder","Your Anilist Username"),F(d,"class","svelte-wpsgre"),F(f,"class",p("usernameText")+" svelte-wpsgre"),F(c,"class","input-search svelte-wpsgre"),F(g,"class","logo-icon svelte-wpsgre"),a(g.src,w="./images/Kanshi-Logo.png")||F(g,"src","./images/Kanshi-Logo.png"),F(g,"alt","Kanshi Logo"),F(y,"class","logo-icon-container svelte-wpsgre"),F(o,"id","nav"),F(o,"class",v=p("nav "+(t[3]||t[4]?"popupvisible":t[1]===document?.activeElement?"inputfocused":""))+" svelte-wpsgre"),F(n,"class","nav-container svelte-wpsgre")},m(e,i){A(e,n,i),x(n,o),x(o,l),x(l,r),x(o,s),x(o,c),x(c,d),D(d,t[0]),t[15](d),x(c,u),x(c,f),x(f,m),x(o,h),x(o,y),x(y,g),t[18](o),b||(k=[j(r,"keydown",t[12]),j(l,"click",t[8]),j(d,"keydown",t[13]),j(d,"focusin",t[11]),j(d,"focusout",t[11]),j(d,"input",t[14]),j(f,"click",t[7]),j(f,"keydown",t[16]),j(g,"keydown",t[17]),j(y,"pointerdown",t[9]),j(y,"pointerup",t[10]),j(y,"pointercancel",t[10]),j(n,"keydown",t[19]),j(n,"click",t[6])],b=!0)},p(e,t){1&t[0]&&d.value!==e[0]&&D(d,e[0]),1&t[0]&&S!==(S=(e[0]||"Your Anilist Username")+"")&&z(m,S),26&t[0]&&v!==(v=p("nav "+(e[3]||e[4]?"popupvisible":e[1]===document?.activeElement?"inputfocused":""))+" svelte-wpsgre")&&F(o,"class",v)},i:e,o:e,d(e){e&&T(n),t[15](null),t[18](null),b=!1,i(k)}}}function _o(e,t,n){let o,i,l,r,s,a,c,d;u(e,lt,(e=>n(26,o=e))),u(e,Qe,(e=>n(27,i=e))),u(e,ct,(e=>n(3,l=e))),u(e,rt,(e=>n(4,r=e))),u(e,Ue,(e=>n(28,s=e))),u(e,Pe,(e=>n(29,a=e))),u(e,Me,(e=>n(30,c=e))),u(e,Je,(e=>n(31,d=e)));let f,p,h,y,g,w,v=[],b="",k=!1;async function x(e){if(d)return await async function(){return await o({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}(),void E();let t=e.target,i=t.classList;if("Enter"===e.key||"click"===e.type&&(i.contains("searchBtn")||t?.closest?.(".searchBtn"))){if(!b)return;if(b!==a){if(!navigator.onLine)return o({isAlert:!0,title:"Currently Offline",text:"It seems that you're currently offline and unable to update."});(async()=>{a?await o(`Currently connected to ${a}, do you want to change account?`)?(m(rt,r=!1,r),l||(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(Me,c=null,c)),m(Ue,s="Getting User Entries",s),Nn({username:b}).then((({newusername:e})=>{e&&(n(0,b=m(Pe,a=e||"",a)),vt.update((e=>!e)))})).catch((e=>{m(Ue,s="Something went wrong...",s),console.error(e)}))):E():await o(`Are you sure you want to connect to ${b}?`)?(m(rt,r=!1,r),l||(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(Me,c=null,c)),m(Ue,s="Getting User Entries",s),await Nn({username:b}).then((({newusername:e})=>{e&&n(0,b=m(Pe,a=e||"",a)),vt.update((e=>!e))})).catch((e=>{m(Ue,s="Something went wrong...",s),console.error(e)}))):E()})()}else y?.blur?.(),k=!1}}function S(e){if(w)return void(w=!1);let t=e.target.classList;return t.contains("nav")||t.contains("logo-icon")?k&&!t.contains("logo-icon")?(y?.blur?.(),void(k=!1)):void m(rt,r=!r,r):void 0}async function E(){y?.focus?.()}function A(){y===document.activeElement||k?(y?.blur?.(),k=!1):r?m(rt,r=!r,r):l&&m(ct,l=!1,l)}var T;q((()=>{n(2,h=h||document?.getElementById("nav")),n(1,y=y||document?.getElementById("usernameInput")),f=f||document?.getElementById("anime-grid"),p=p||document?.getElementById("popup-container"),v.push(Pe.subscribe((e=>{n(0,b=e||"")}))),document.addEventListener("scroll",(()=>{}))})),T=()=>{v.forEach((e=>e()))},H().$$.on_destroy.push(T);return e.$$.update=()=>{3&e.$$.dirty[0]&&b&&y?.setCustomValidity?.("")},[b,y,h,l,r,x,S,E,A,function(){g&&clearTimeout(g),g=setTimeout((()=>{w=!0,l?(p.scrollTop=p.scrollTop,p.scrollLeft=p.scrollLeft,p?.children?.[0]?.scrollIntoView?.({container:p,behavior:"smooth",block:"start",inline:"nearest"})):i?(f.scrollTop=f.scrollTop,f.scrollLeft=f.scrollLeft,f?.children?.[0]?.scrollIntoView?.({container:f,behavior:"smooth",block:"nearest",inline:"start"})):(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"}))}),500)},function(){g&&clearTimeout(g),w&&(g=setTimeout((()=>{w=!1}),50))},function(e){"focusin"===e.type?(k=!0,Dt(h,"inputfocused")):setTimeout((()=>{Mt(h,"inputfocused"),k=!1}),100)},e=>"Enter"===e.key&&A(),e=>"Enter"===e.key&&x(e),function(){b=this.value,n(0,b)},function(e){G[e?"unshift":"push"]((()=>{y=e,n(1,y)}))},e=>"Enter"===e.key&&E(),e=>"Enter"===e.key&&S(e),function(e){G[e?"unshift":"push"]((()=>{h=e,n(2,h)}))},e=>"Enter"===e.key&&S(e)]}function Vo(e){let t,n,o,l,r,s,a,c,d,u,f,m,h,y,g,w,v,b,k,S,E,N,C,P,z,D,M,O,U,_,V,W,B,R,H=e[1]&&Wo(e),q=e[1]&&Bo(e);return{c(){t=L("div"),n=L("div"),o=L("button"),o.textContent="Update List",r=I(),s=L("button"),s.textContent="Show All Hidden Entries",c=I(),d=L("button"),d.textContent="Import Data",f=I(),m=L("button"),m.textContent="Export Data",y=I(),H&&H.c(),g=I(),w=L("button"),w.textContent="Dark Mode",b=I(),k=L("button"),S=$("Auto Update"),C=I(),P=L("button"),z=$("Auto Export"),O=I(),U=L("button"),U.textContent="Create an Anilist Account",V=I(),q&&q.c(),F(o,"class","button svelte-rbzx1w"),F(s,"class","button svelte-rbzx1w"),F(d,"class","button svelte-rbzx1w"),F(m,"class","button svelte-rbzx1w"),F(w,"class","button selected svelte-rbzx1w"),F(k,"class",E=p("button "+(e[5]?"selected":""))+" svelte-rbzx1w"),F(P,"class",D=p("button "+(e[3]?"selected":""))+" svelte-rbzx1w"),F(U,"class","button svelte-rbzx1w"),F(n,"class","menu svelte-rbzx1w"),F(t,"class","menu-container svelte-rbzx1w")},m(i,l){A(i,t,l),x(t,n),x(n,o),x(n,r),x(n,s),x(n,c),x(n,d),x(n,f),x(n,m),x(n,y),H&&H.m(n,null),x(n,g),x(n,w),x(n,b),x(n,k),x(k,S),x(n,C),x(n,P),x(P,z),x(n,O),x(n,U),x(n,V),q&&q.m(n,null),W=!0,B||(R=[j(o,"click",e[10]),j(o,"keydown",e[20]),j(s,"click",e[14]),j(s,"keydown",e[21]),j(d,"click",e[7]),j(d,"keydown",e[22]),j(m,"click",e[9]),j(m,"keydown",e[23]),j(w,"click",e[6]),j(w,"keydown",e[25]),j(k,"click",e[11]),j(k,"keydown",e[26]),j(P,"click",e[12]),j(P,"keydown",e[27]),j(U,"click",e[15]),j(U,"keydown",e[28]),j(t,"click",e[13]),j(t,"keydown",e[32])],B=!0)},p(e,t){e[1]?H?(H.p(e,t),2&t[0]&&pe(H,1)):(H=Wo(e),H.c(),pe(H,1),H.m(n,g)):H&&(ue(),me(H,1,1,(()=>{H=null})),fe()),(!W||32&t[0]&&E!==(E=p("button "+(e[5]?"selected":""))+" svelte-rbzx1w"))&&F(k,"class",E),(!W||8&t[0]&&D!==(D=p("button "+(e[3]?"selected":""))+" svelte-rbzx1w"))&&F(P,"class",D),e[1]?q?(q.p(e,t),2&t[0]&&pe(q,1)):(q=Bo(e),q.c(),pe(q,1),q.m(n,null)):q&&(ue(),me(q,1,1,(()=>{q=null})),fe())},i(e){W||(te((()=>{W&&(l||(l=ge(o,_t,{x:50,duration:300},!0)),l.run(1))})),te((()=>{W&&(a||(a=ge(s,_t,{x:50,duration:300},!0)),a.run(1))})),te((()=>{W&&(u||(u=ge(d,_t,{x:50,duration:300},!0)),u.run(1))})),te((()=>{W&&(h||(h=ge(m,_t,{x:50,duration:300},!0)),h.run(1))})),pe(H),te((()=>{W&&(v||(v=ge(w,_t,{x:50,duration:300},!0)),v.run(1))})),te((()=>{W&&(N||(N=ge(k,_t,{x:50,duration:300},!0)),N.run(1))})),te((()=>{W&&(M||(M=ge(P,_t,{x:50,duration:300},!0)),M.run(1))})),te((()=>{W&&(_||(_=ge(U,_t,{x:50,duration:300},!0)),_.run(1))})),pe(q),W=!0)},o(e){l||(l=ge(o,_t,{x:50,duration:300},!1)),l.run(0),a||(a=ge(s,_t,{x:50,duration:300},!1)),a.run(0),u||(u=ge(d,_t,{x:50,duration:300},!1)),u.run(0),h||(h=ge(m,_t,{x:50,duration:300},!1)),h.run(0),me(H),v||(v=ge(w,_t,{x:50,duration:300},!1)),v.run(0),N||(N=ge(k,_t,{x:50,duration:300},!1)),N.run(0),M||(M=ge(P,_t,{x:50,duration:300},!1)),M.run(0),_||(_=ge(U,_t,{x:50,duration:300},!1)),_.run(0),me(q),W=!1},d(e){e&&T(t),e&&l&&l.end(),e&&a&&a.end(),e&&u&&u.end(),e&&h&&h.end(),H&&H.d(),e&&v&&v.end(),e&&N&&N.end(),e&&M&&M.end(),e&&_&&_.end(),q&&q.d(),B=!1,i(R)}}}function Wo(e){let t,n,o,l,r,s,a=(e[4]?"Change":"Set")+" Export Folder";return{c(){t=L("button"),n=$(a),F(t,"class","button svelte-rbzx1w")},m(o,i){A(o,t,i),x(t,n),l=!0,r||(s=[j(t,"click",Ho),j(t,"keydown",e[24])],r=!0)},p(e,t){(!l||16&t[0])&&a!==(a=(e[4]?"Change":"Set")+" Export Folder")&&z(n,a)},i(e){l||(te((()=>{l&&(o||(o=ge(t,_t,{x:50,duration:300},!0)),o.run(1))})),l=!0)},o(e){o||(o=ge(t,_t,{x:50,duration:300},!1)),o.run(0),l=!1},d(e){e&&T(t),e&&o&&o.end(),r=!1,i(s)}}}function Bo(t){let n,o,l,r,s,a,c,d,u,f=!window.location.protocol.startsWith("file:"),p=f&&function(t){let n,o,l,r,s;return{c(){n=L("button"),n.textContent="Check for Updates",F(n,"class","button svelte-rbzx1w")},m(e,o){A(e,n,o),l=!0,r||(s=[j(n,"keydown",t[30]),j(n,"click",t[17])],r=!0)},p:e,i(e){l||(te((()=>{l&&(o||(o=ge(n,_t,{x:50,duration:300},!0)),o.run(1))})),l=!0)},o(e){o||(o=ge(n,_t,{x:50,duration:300},!1)),o.run(0),l=!1},d(e){e&&T(n),e&&o&&o.end(),r=!1,i(s)}}}(t);return{c(){n=L("button"),n.textContent="Switch App Mode",l=I(),p&&p.c(),r=I(),s=L("button"),s.textContent="Refresh",F(n,"class","button svelte-rbzx1w"),F(s,"class","button svelte-rbzx1w")},m(e,o){A(e,n,o),A(e,l,o),p&&p.m(e,o),A(e,r,o),A(e,s,o),c=!0,d||(u=[j(n,"keydown",t[29]),j(n,"click",t[16]),j(s,"keydown",t[31]),j(s,"click",t[18])],d=!0)},p(e,t){f&&p.p(e,t)},i(e){c||(te((()=>{c&&(o||(o=ge(n,_t,{x:50,duration:300},!0)),o.run(1))})),pe(p),te((()=>{c&&(a||(a=ge(s,_t,{x:50,duration:300},!0)),a.run(1))})),c=!0)},o(e){o||(o=ge(n,_t,{x:50,duration:300},!1)),o.run(0),me(p),a||(a=ge(s,_t,{x:50,duration:300},!1)),a.run(0),c=!1},d(e){e&&T(n),e&&o&&o.end(),e&&T(l),p&&p.d(e),e&&T(r),e&&T(s),e&&a&&a.end(),d=!1,i(u)}}}function Ro(e){let t,n,o,i,l,r,s=e[2]&&Vo(e);return{c(){t=L("input"),n=I(),s&&s.c(),o=C(),F(t,"type","file"),F(t,"accept",".json"),M(t,"display","none")},m(a,c){A(a,t,c),e[19](t),A(a,n,c),s&&s.m(a,c),A(a,o,c),i=!0,l||(r=j(t,"change",e[8]),l=!0)},p(e,t){e[2]?s?(s.p(e,t),4&t[0]&&pe(s,1)):(s=Vo(e),s.c(),pe(s,1),s.m(o.parentNode,o)):s&&(ue(),me(s,1,1,(()=>{s=null})),fe())},i(e){i||(pe(s),i=!0)},o(e){me(s),i=!1},d(i){i&&T(t),e[19](null),i&&T(n),s&&s.d(i),i&&T(o),l=!1,r()}}}function Ho(){try{JSBridge.chooseExportFolder()}catch(e){}}function qo(e,t,n){let o,i,l,r,s,a,c,f,p,h,y,g,w,v,b,k;async function x(){o({isAlert:!0,text:"Sorry, this is still not working."})}async function S(){return g?F():k instanceof Element?void(await o({text:"Are you sure you want to import your Data?"})&&k.click()):m(Ue,c="Something went wrong...",c)}async function E(){return g?F():!v&&i?Ho():void(await o("Are you sure you want to export your data?")&&(m(rt,a=!1,a),wt.update((e=>!e))))}async function A(){return g?F():navigator.onLine?void(await o("Are you sure you want to update your list?")&&(m(rt,a=!1,a),gt.update((e=>!e)))):o({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to update."})}async function T(){await o(`Are you sure you want to ${b?"disable":"enable"} auto-update?`)&&m(We,b=!b,b)}async function N(){if(!v&&i)return Ho();await o(`Are you sure you want to ${w?"disable":"enable"} auto-export?`)&&m(qe,w=!w,w)}function L(e){e.target.classList.contains("button")||m(rt,a=!a,a)}async function $(){if(g)return F();if(Tt(y))o({isAlert:!0,text:"There is currently no hidden entries."});else if(await o("Are you sure you want to show all hidden anime entries?")){h&&(h.terminate(),m(Oe,h=null,h)),p||m(Me,f=null,f),m(Ue,c="Updating List",c),m(rt,a=!1,a);let e=s?.filterSelection?.findIndex?.((({filterSelectionName:e})=>"Anime Filter"===e)),t=s?.filterSelection?.[e??-1]?.filters?.Checkbox?.findIndex?.((({filName:e})=>"hidden anime"===e));e>=0&&t>=0&&m(ze,s.filterSelection[e??-1].filters.Checkbox[t??-1].isSelected=!1,s),r?.["Anime Filter"]&&m(De,r["Anime Filter"]=r["Anime Filter"].filter((({optionName:e,filterType:t})=>"hidden"!==e&&"checkbox"!==t)),r),await Rn(s,"filterOptions"),await Rn(r,"activeTagFilters"),await Rn({},"hiddenEntries"),bt.update((e=>!e))}}async function I(){await o("Are you sure want to sign-up an anilist account?")&&window.open("https://anilist.co/signup","_blank")}function C(){if(i)try{JSBridge.switchApp()}catch(e){}}function j(){if(!navigator.onLine)return o({isAlert:!0,title:"Currently offline",text:"It seems that you're currently offline and unable to check for updates."});if(i)try{JSBridge.checkAppID(l,!0)}catch(e){}}async function P(){if(await o("Are you sure want to refresh the app?")){if(!i)return;try{JSBridge.refreshWeb()}catch(e){}}}function F(){o({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}u(e,lt,(e=>n(33,o=e))),u(e,$e,(e=>n(1,i=e))),u(e,Le,(e=>n(34,l=e))),u(e,De,(e=>n(35,r=e))),u(e,ze,(e=>n(36,s=e))),u(e,rt,(e=>n(2,a=e))),u(e,Ue,(e=>n(37,c=e))),u(e,Me,(e=>n(38,f=e))),u(e,ct,(e=>n(39,p=e))),u(e,Oe,(e=>n(40,h=e))),u(e,Fe,(e=>n(41,y=e))),u(e,Je,(e=>n(42,g=e))),u(e,qe,(e=>n(3,w=e))),u(e,He,(e=>n(4,v=e))),u(e,We,(e=>n(5,b=e))),window.setExportPathAvailability=async(e=!0)=>{m(He,v=e,v),await Rn(e,"exportPathIsAvailable")};return[k,i,a,w,v,b,x,S,async function(){if(!(k instanceof Element))return m(Ue,c="Something went wrong...",c);let e=k.files?.[0];if(e){let i=e.name;await o(`File ${i?"named ["+i+"] ":""}has been detected, do you want to continue the import?`)?(await Rn(!0,"shouldProcessRecommendation"),m(rt,a=!1,a),p||(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window?.scrollTo?.({top:-9999,behavior:"smooth"}),m(Me,f=null,f)),(t={importedFile:e},new Promise(((e,n)=>{if(!d(Je)){if(gn)return;Wn(),_e.set(!0)}Cn&&Cn.terminate(),Ce.set(0),pn("./webapi/worker/importUserData.js").then((o=>{Cn=new Worker(o),In&&clearTimeout(In),Cn.postMessage(t),Cn.onmessage=({data:t})=>{t?.progress>=0&&t?.progress<=100?Ce.set(t.progress):void 0!==t?.error?(_e.set(!1),St.update((e=>!e)),window.confirmPromise?.({isAlert:!0,title:"Import Failed",text:"File has not been imported, please ensure that file is in a supported format (e.g., .json)"}),Ce.set(100),n(t?.error||"Something went wrong...")):void 0!==t?.status?(yn=!0,Ue.set(t.status)):"string"==typeof t?.importedUsername?Pe.set(t.importedUsername):At(t?.importedHiddenEntries)?Fe.set(t?.importedHiddenEntries):t?.importedlastRunnedAutoUpdateDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoUpdateDate)?Re.set(t.importedlastRunnedAutoUpdateDate):t?.importedlastRunnedAutoExportDate instanceof Date&&!isNaN(t?.importedlastRunnedAutoExportDate)?Ge.set(t.importedlastRunnedAutoExportDate):void 0!==t?.updateFilters?(_e.set(!1),Vn().then((e=>{De.set(e.activeTagFilters),ze.set(e.filterOptions)}))):void 0!==t?.updateRecommendationList?(_e.set(!1),vt.update((e=>!e))):(_e.set(!1),gt.update((e=>!e)),yn=!1,In=setTimeout((()=>{Cn.terminate()}),hn),Ce.set(100),e(t))},Cn.onerror=e=>{_e.set(!1),window.confirmPromise?.({isAlert:!0,title:"Import Failed",text:"File has not been imported, please ensure that file is in a supported format (e.g., .json)"}),St.update((e=>!e)),Ce.set(100),n(e||"Something went wrong...")}})).catch((e=>{Ce.set(100),_e.set(!1),St.update((e=>!e)),Bn(),n(e)}))}))).then((()=>{k instanceof Element&&n(0,k.value=null,k)})).catch((e=>{m(Ue,c=e||"Something went wrong...",c),n(0,k.value=null,k),vt.update((e=>!e))}))):k instanceof Element&&n(0,k.value=null,k)}else k instanceof Element&&n(0,k.value=null,k);var t},E,A,T,N,L,$,I,C,j,P,function(e){G[e?"unshift":"push"]((()=>{k=e,n(0,k)}))},e=>"Enter"===e.key&&A(),e=>"Enter"===e.key&&$(),e=>"Enter"===e.key&&S(),e=>"Enter"===e.key&&E(),e=>"Enter"===e.key&&Ho(),e=>"Enter"===e.key&&x(),e=>"Enter"===e.key&&T(),e=>"Enter"===e.key&&N(),e=>"Enter"===e.key&&I(),e=>"Enter"===e.key&&C(),e=>"Enter"===e.key&&j(),e=>"Enter"===e.key&&P(),e=>"Enter"===e.key&&L(e)]}function Yo(e,t,n){const o=e.slice();return o[94]=t[n].sortName,o[96]=n,o}function Go(e,t,n){const o=e.slice();return o[97]=t[n].optionName,o[98]=t[n].optionIdx,o[99]=t[n].selected,o[100]=t[n].changeType,o[101]=t[n].filterType,o[102]=t[n].categIdx,o[103]=t[n].optionValue,o[104]=t[n].optionType,o}function Ko(e,t,n){const o=e.slice();return o[121]=t[n],o}function Xo(e,t,n){const o=e.slice();return o[107]=t[n],o[108]=t,o[109]=n,o}function Jo(e,t,n){const o=e.slice();return o[110]=t[n],o[112]=n,o}function Qo(e,t,n){const o=e.slice();return o[113]=t[n],o[114]=t,o[115]=n,o}function Zo(e,t,n){const o=e.slice();return o[116]=t[n],o[117]=t,o[118]=n,o}function ei(e,t,n){const o=e.slice();return o[119]=t[n],o[98]=n,o}function ti(e,t,n){const o=e.slice();return o[124]=t[n].filterSelectionName,o[125]=t[n].isSelected,o}function ni(t){let n;return{c(){n=L("div"),F(n,"class","skeleton shimmer svelte-tczdkj")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function oi(e){let t,n,o,i=(e[7]?.filterSelection?.filter?.(Bi)?.[0]?.filterSelectionName||"")+"";return{c(){t=L("span"),n=L("h2"),o=$(i),F(n,"class","svelte-tczdkj"),F(t,"class","svelte-tczdkj")},m(e,i){A(e,t,i),x(t,n),x(n,o)},p(e,t){128&t[0]&&i!==(i=(e[7]?.filterSelection?.filter?.(Bi)?.[0]?.filterSelectionName||"")+"")&&z(o,i)},d(e){e&&T(t)}}}function ii(e){let t,n,o,i;function l(e,t){return e[11]?si:e[13]||e[9]?li:ri}let r=l(e),s=r(e);return{c(){t=L("span"),n=L("h2"),s.c(),F(n,"class","svelte-tczdkj"),F(t,"class","data-status svelte-tczdkj")},m(e,o){A(e,t,o),x(t,n),s.m(n,null),i=!0},p(e,t){r===(r=l(e))&&s?s.p(e,t):(s.d(1),s=r(e),s&&(s.c(),s.m(n,null)))},i(e){i||(o&&o.end(1),i=!0)},o(e){o=ye(t,Ut,{duration:300}),i=!1},d(e){e&&T(t),s.d(),e&&o&&o.end()}}}function li(t){let n;return{c(){n=$("")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function ri(t){let n;return{c(){n=$("No Anilist Username Found")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function si(e){let t;return{c(){t=$(e[11])},m(e,n){A(e,t,n)},p(e,n){2048&n[0]&&z(t,e[11])},d(e){e&&T(t)}}}function ai(e){let t,n,o,l,r,s,a,c,d,u,f,m,h=[],y=new Map,g=e[7]?.filterSelection||[];const w=e=>e[124];for(let t=0;t<g.length;t+=1){let n=ti(e,g,t),o=w(n);y.set(o,h[t]=ci(o,n))}return{c(){t=L("div"),n=L("div"),o=L("h2"),o.textContent="Filters",l=I(),r=L("div"),s=$(""),c=I(),d=L("div");for(let e=0;e<h.length;e+=1)h[e].c();F(o,"class","svelte-tczdkj"),F(r,"class","closing-x svelte-tczdkj"),F(r,"tabindex",a=e[3]&&e[1]<=425?"0":""),F(n,"class","header svelte-tczdkj"),F(d,"class","options svelte-tczdkj"),F(t,"class",u=p("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-tczdkj")},m(i,a){A(i,t,a),x(t,n),x(n,o),x(n,l),x(n,r),x(r,s),x(t,c),x(t,d);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(d,null);f||(m=[j(r,"keydown",e[38]),j(r,"click",e[17])],f=!0)},p(e,n){10&n[0]&&a!==(a=e[3]&&e[1]<=425?"0":"")&&F(r,"tabindex",a),65664&n[0]&&(g=e[7]?.filterSelection||[],h=be(h,n,w,1,e,g,y,d,we,ci,null,ti)),8&n[0]&&u!==(u=p("options-wrap-filter-info "+(e[3]?"":"hide"))+" svelte-tczdkj")&&F(t,"class",u)},d(e){e&&T(t);for(let e=0;e<h.length;e+=1)h[e].d();f=!1,i(m)}}}function ci(e,t){let n,o,r,s,a,c,d=(t[124]||"")+"";function u(...e){return t[39](t[124],...e)}return{key:e,first:null,c(){n=L("div"),o=L("h3"),r=$(d),s=I(),F(o,"class","svelte-tczdkj"),M(o,"color",t[125]?"#3db4f2":"inherit"),F(n,"class","option svelte-tczdkj"),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,r),x(n,s),a||(c=[j(n,"click",(function(){l(t[16](t[124]))&&t[16](t[124]).apply(this,arguments)})),j(n,"keydown",u)],a=!0)},p(e,n){t=e,128&n[0]&&d!==(d=(t[124]||"")+"")&&z(r,d),128&n[0]&&M(o,"color",t[125]?"#3db4f2":"inherit")},d(e){e&&T(n),a=!1,i(c)}}}function di(t){let n,o=Array(10),i=[];for(let e=0;e<o.length;e+=1)i[e]=fi(Ko(t,o,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=C()},m(e,t){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,t);A(e,n,t)},p:e,d(e){N(i,e),e&&T(n)}}}function ui(e){let t,n=[],o=new Map,i=e[7]?.filterSelection||[];const l=e=>e[107].filterSelectionName;for(let t=0;t<i.length;t+=1){let r=Xo(e,i,t),s=l(r);o.set(s,n[t]=$i(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=C()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);A(e,t,o)},p(e,r){8159943&r[0]|2&r[1]&&(i=e[7]?.filterSelection||[],n=be(n,r,l,1,e,i,o,t.parentNode,we,$i,t,Xo))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&T(t)}}}function fi(t){let n;return{c(){n=L("div"),n.innerHTML='<div class="filter-name skeleton shimmer svelte-tczdkj"></div> \n                    <div class="select skeleton shimmer svelte-tczdkj"></div> \n                ',F(n,"class","filter-select svelte-tczdkj")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function pi(t){let n;return{c(){n=L("i"),F(n,"class","icon fa-solid fa-angle-down svelte-tczdkj")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function mi(e){let t,n,o;function r(...t){return e[42](e[118],...t)}return{c(){t=L("i"),F(t,"class","icon fa-solid fa-angle-up svelte-tczdkj")},m(i,s){A(i,t,s),n||(o=[j(t,"keydown",r),j(t,"click",(function(){l(e[19](e[118]))&&e[19](e[118]).apply(this,arguments)}))],n=!0)},p(t,n){e=t},d(e){e&&T(t),n=!1,i(o)}}}function hi(t){let n;return{c(){n=L("div"),n.innerHTML='<h3 class="svelte-tczdkj">No Results</h3>',F(n,"class","option svelte-tczdkj")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function yi(e){let t,n=[],o=new Map,i=e[116].options||[];const l=e=>e[107].filterSelectionName+e[116].filName+e[119].optionName;for(let t=0;t<i.length;t+=1){let r=ei(e,i,t),s=l(r);o.set(s,n[t]=ki(s,r))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=C()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);A(e,t,o)},p(e,r){1048704&r[0]&&(i=e[116].options||[],n=be(n,r,l,1,e,i,o,t.parentNode,we,ki,t,ei))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&T(t)}}}function gi(t){let n;return{c(){n=L("i"),F(n,"class","fa-regular fa-circle-xmark async-element svelte-tczdkj"),M(n,"--optionColor","#e85d75")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function wi(e){let t;function n(e,t){return"Content Caution"===e[107].filterSelectionName?bi:vi}let o=n(e),i=o(e);return{c(){i.c(),t=C()},m(e,n){i.m(e,n),A(e,t,n)},p(e,l){o!==(o=n(e))&&(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&T(t)}}}function vi(e){let t;return{c(){t=L("i"),F(t,"class","fa-regular fa-circle-check async-element svelte-tczdkj"),M(t,"--optionColor","#5f9ea0")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function bi(e){let t;return{c(){t=L("i"),F(t,"class","fa-regular fa-circle-xmark async-element svelte-tczdkj"),M(t,"--optionColor","#5f9ea0")},m(e,n){A(e,t,n)},d(e){e&&T(t)}}}function ki(e,t){let n,o,r,s,a,c,d,u=(t[119].optionName||"")+"";function f(e,t){return"included"===e[119].selected?wi:"excluded"===e[119].selected&&"read"!==e[116].changeType?gi:void 0}let m=f(t),h=m&&m(t);function y(...e){return t[47](t[119],t[116],t[98],t[118],t[107],...e)}return{key:e,first:null,c(){n=L("div"),o=L("h3"),r=$(u),s=I(),h&&h.c(),F(o,"class","svelte-tczdkj"),F(n,"class",a=p("option "+(Vi(t[119].optionName,t[116].optKeyword)?"":"disable-interaction"))+" svelte-tczdkj"),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,r),x(n,s),h&&h.m(n,null),c||(d=[j(n,"click",(function(){l(t[20](t[119].optionName,t[116].filName,t[98],t[118],t[116].changeType,t[107].filterSelectionName))&&t[20](t[119].optionName,t[116].filName,t[98],t[118],t[116].changeType,t[107].filterSelectionName).apply(this,arguments)})),j(n,"keydown",y)],c=!0)},p(e,o){t=e,128&o[0]&&u!==(u=(t[119].optionName||"")+"")&&z(r,u),m===(m=f(t))&&h?h.p(t,o):(h&&h.d(1),h=m&&m(t),h&&(h.c(),h.m(n,null))),128&o[0]&&a!==(a=p("option "+(Vi(t[119].optionName,t[116].optKeyword)?"":"disable-interaction"))+" svelte-tczdkj")&&F(n,"class",a)},d(e){e&&T(n),h&&h.d(),c=!1,i(d)}}}function xi(e,t){let n,o,r,s,a,c,d,u,f,m,h,y,g,w,v,b,k,S,E,N,C,O,U,_,V,W,B,R,H,q,Y,G,K=(t[116].filName||"")+"",X=t[116].filName+"",J=`${t[2]}px`;function Q(...e){return t[35](t[116],...e)}function Z(){t[41].call(u,t[109],t[118])}function ee(e,t){return e[116].selected&&e[116].options.length&&!e[0]?mi:pi}let te=ee(t),ne=te(t);function oe(...e){return t[43](t[118],...e)}function ie(...e){return t[44](t[118],...e)}function le(...e){return t[45](t[118],...e)}function re(){t[46].call(U,t[109],t[118])}function se(e,t){return 128&t[0]&&(B=null),null==B&&(B=!!e[116].options?.filter?.(Q)?.length),B?yi:hi}let ae=se(t,[-1,-1,-1,-1,-1]),ce=ae(t);return{key:e,first:null,c(){n=L("div"),o=L("div"),r=L("h2"),s=$(K),a=I(),c=L("div"),d=L("div"),u=L("input"),m=I(),ne.c(),y=I(),g=L("div"),w=L("div"),v=L("div"),b=L("h2"),k=$(X),S=I(),E=L("div"),N=$(""),O=I(),U=L("input"),V=I(),W=L("div"),ce.c(),F(r,"class","svelte-tczdkj"),F(o,"class","filter-name svelte-tczdkj"),F(u,"placeholder","Any"),F(u,"type","search"),F(u,"enterkeyhint","search"),F(u,"autocomplete","off"),F(u,"class","value-input svelte-tczdkj"),u.disabled=f=!t[6]||t[1]<=425||!t[107].isSelected,F(d,"class","value-wrap svelte-tczdkj"),F(c,"class","select svelte-tczdkj"),F(c,"tabindex",h=t[6]&&t[1]<=425&&t[107].isSelected?"0":""),F(b,"class","svelte-tczdkj"),F(E,"class","closing-x svelte-tczdkj"),F(E,"tabindex",C=t[6]&&t[116].selected?"0":""),F(v,"class","header svelte-tczdkj"),F(U,"placeholder","Any"),F(U,"type","search"),F(U,"enterkeyhint","search"),F(U,"autocomplete","off"),U.disabled=_=!t[6]||!t[107].isSelected||!t[116].selected,F(U,"class","svelte-tczdkj"),F(W,"class","options svelte-tczdkj"),F(w,"class",R=p("options-wrap-filter-info "+(t[116].options.length&&!0===t[116].selected&&!t[0]?"":"hide"))+" svelte-tczdkj"),F(g,"class",H=p("options-wrap "+(t[116].options.length&&!0===t[116].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-tczdkj"),M(g,"--maxFilterSelectionHeight",J),F(n,"class",q=p("filter-select "+(t[107].isSelected?"":"disable-interaction"))+" svelte-tczdkj"),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,r),x(r,s),x(n,a),x(n,c),x(c,d),x(d,u),D(u,t[7].filterSelection[t[109]].filters.Dropdown[t[118]].optKeyword),x(c,m),ne.m(c,null),x(n,y),x(n,g),x(g,w),x(w,v),x(v,b),x(b,k),x(v,S),x(v,E),x(E,N),x(w,O),x(w,U),D(U,t[7].filterSelection[t[109]].filters.Dropdown[t[118]].optKeyword),x(w,V),x(w,W),ce.m(W,null),Y||(G=[j(u,"input",Z),j(c,"keydown",oe),j(c,"click",ie),j(E,"keydown",le),j(E,"click",(function(){l(t[19](t[118]))&&t[19](t[118]).apply(this,arguments)})),j(U,"input",re),j(W,"wheel",P(Ri),{passive:!0}),j(g,"wheel",P(Hi),{passive:!0})],Y=!0)},p(e,o){t=e,128&o[0]&&K!==(K=(t[116].filName||"")+"")&&z(s,K),194&o[0]&&f!==(f=!t[6]||t[1]<=425||!t[107].isSelected)&&(u.disabled=f),128&o[0]&&u.value!==t[7].filterSelection[t[109]].filters.Dropdown[t[118]].optKeyword&&D(u,t[7].filterSelection[t[109]].filters.Dropdown[t[118]].optKeyword),te===(te=ee(t))&&ne?ne.p(t,o):(ne.d(1),ne=te(t),ne&&(ne.c(),ne.m(c,null))),194&o[0]&&h!==(h=t[6]&&t[1]<=425&&t[107].isSelected?"0":"")&&F(c,"tabindex",h),128&o[0]&&X!==(X=t[116].filName+"")&&z(k,X),192&o[0]&&C!==(C=t[6]&&t[116].selected?"0":"")&&F(E,"tabindex",C),192&o[0]&&_!==(_=!t[6]||!t[107].isSelected||!t[116].selected)&&(U.disabled=_),128&o[0]&&U.value!==t[7].filterSelection[t[109]].filters.Dropdown[t[118]].optKeyword&&D(U,t[7].filterSelection[t[109]].filters.Dropdown[t[118]].optKeyword),ae===(ae=se(t,o))&&ce?ce.p(t,o):(ce.d(1),ce=ae(t),ce&&(ce.c(),ce.m(W,null))),129&o[0]&&R!==(R=p("options-wrap-filter-info "+(t[116].options.length&&!0===t[116].selected&&!t[0]?"":"hide"))+" svelte-tczdkj")&&F(w,"class",R),129&o[0]&&H!==(H=p("options-wrap "+(t[116].options.length&&!0===t[116].selected&&!t[0]?"":"disable-interaction hide"))+" svelte-tczdkj")&&F(g,"class",H),4&o[0]&&J!==(J=`${t[2]}px`)&&M(g,"--maxFilterSelectionHeight",J),128&o[0]&&q!==(q=p("filter-select "+(t[107].isSelected?"":"disable-interaction"))+" svelte-tczdkj")&&F(n,"class",q)},d(e){e&&T(n),ne.d(),ce.d(),Y=!1,i(G)}}}function Si(e){let t,n,o,l,r,s,a,c,d,u=(e[113].filName||"")+"";function f(e,t){return e[9]?Ai:Ei}let p=f(e),m=p(e);function h(...t){return e[51](e[113],e[115],e[107],...t)}function y(...t){return e[52](e[113],e[115],e[107],...t)}return{c(){t=L("div"),n=L("div"),o=I(),l=L("div"),m.c(),r=I(),s=L("div"),a=$(u),F(n,"class","svelte-tczdkj"),M(n,"visibility","none"),F(s,"class","checkbox-label svelte-tczdkj"),F(l,"class","checkbox-wrap svelte-tczdkj"),F(t,"class","filter-checkbox svelte-tczdkj")},m(e,i){A(e,t,i),x(t,n),x(t,o),x(t,l),m.m(l,null),x(l,r),x(l,s),x(s,a),c||(d=[j(l,"click",h),j(l,"keydown",y)],c=!0)},p(t,n){p===(p=f(e=t))&&m?m.p(e,n):(m.d(1),m=p(e),m&&(m.c(),m.m(l,r))),128&n[0]&&u!==(u=(e[113].filName||"")+"")&&z(a,u)},d(e){e&&T(t),m.d(),c=!1,i(d)}}}function Ei(e){let t,n,o,l;function r(...t){return e[49](e[113],e[115],e[107],...t)}function s(){e[50].call(t,e[114],e[115])}return{c(){t=L("input"),F(t,"type","checkbox"),F(t,"class","checkbox svelte-tczdkj"),t.disabled=n=!e[6]},m(n,i){A(n,t,i),t.checked=e[113].isSelected,o||(l=[j(t,"change",r),j(t,"change",s)],o=!0)},p(o,i){e=o,64&i[0]&&n!==(n=!e[6])&&(t.disabled=n),128&i[0]&&(t.checked=e[113].isSelected)},d(e){e&&T(t),o=!1,i(l)}}}function Ai(e){let t,n,o,i,l;return{c(){t=L("input"),F(t,"type","checkbox"),F(t,"class","checkbox svelte-tczdkj"),t.checked=n=e[113].isSelected,t.disabled=o=!e[6]},m(n,o){A(n,t,o),i||(l=j(t,"change",e[48]),i=!0)},p(e,i){128&i[0]&&n!==(n=e[113].isSelected)&&(t.checked=n),64&i[0]&&o!==(o=!e[6])&&(t.disabled=o)},d(e){e&&T(t),i=!1,l()}}}function Ti(e,t){let n,o,i=t[107].isSelected&&Si(t);return{key:e,first:null,c(){n=C(),i&&i.c(),o=C(),this.first=n},m(e,t){A(e,n,t),i&&i.m(e,t),A(e,o,t)},p(e,n){(t=e)[107].isSelected?i?i.p(t,n):(i=Si(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&T(n),i&&i.d(e),e&&T(o)}}}function Ni(e){let t,n,o,i,l,r,s,a,c,d,u,f,p,m=(e[110].filName||"")+"";function h(...t){return e[53](e[112],e[110],e[107],...t)}return{c(){t=L("div"),n=L("div"),o=L("h2"),i=$(m),l=I(),r=L("div"),s=L("input"),u=I(),F(o,"class","svelte-tczdkj"),F(n,"class","filter-input-number-name svelte-tczdkj"),F(s,"class","value-input-number svelte-tczdkj"),F(s,"type","text"),F(s,"placeholder",a="scoring system"===e[110].filName?"Default: User Scoring":e[15].includes(e[110].filName)?">123 or 123":null!==e[110].defaultValue?"Default: "+e[110].defaultValue:"123"),s.value=c=e[110].numberValue||"",s.disabled=d=!e[6],F(r,"class","value-input-number-wrap svelte-tczdkj"),F(t,"class","filter-input-number svelte-tczdkj"),M(t,"display",e[107].isSelected?"":"none")},m(e,a){A(e,t,a),x(t,n),x(n,o),x(o,i),x(t,l),x(t,r),x(r,s),x(t,u),f||(p=j(s,"input",h),f=!0)},p(n,o){e=n,128&o[0]&&m!==(m=(e[110].filName||"")+"")&&z(i,m),128&o[0]&&a!==(a="scoring system"===e[110].filName?"Default: User Scoring":e[15].includes(e[110].filName)?">123 or 123":null!==e[110].defaultValue?"Default: "+e[110].defaultValue:"123")&&F(s,"placeholder",a),128&o[0]&&c!==(c=e[110].numberValue||"")&&s.value!==c&&(s.value=c),64&o[0]&&d!==(d=!e[6])&&(s.disabled=d),128&o[0]&&M(t,"display",e[107].isSelected?"":"none")},d(e){e&&T(t),f=!1,p()}}}function Li(e,t){let n,o,i=t[107].isSelected&&Ni(t);return{key:e,first:null,c(){n=C(),i&&i.c(),o=C(),this.first=n},m(e,t){A(e,n,t),i&&i.m(e,t),A(e,o,t)},p(e,n){(t=e)[107].isSelected?i?i.p(t,n):(i=Ni(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&T(n),i&&i.d(e),e&&T(o)}}}function $i(e,t){let n,o,i,l,r=[],s=new Map,a=[],c=new Map,d=[],u=new Map,f=t[107].filters.Dropdown||[];const p=e=>e[107].filterSelectionName+e[116].filName;for(let e=0;e<f.length;e+=1){let n=Zo(t,f,e),o=p(n);s.set(o,r[e]=xi(o,n))}let m=t[107].filters.Checkbox||[];const h=e=>e[107].filterSelectionName+e[113].filName;for(let e=0;e<m.length;e+=1){let n=Qo(t,m,e),o=h(n);c.set(o,a[e]=Ti(o,n))}let y=t[107].filters["Input Number"]||[];const g=e=>e[107].filterSelectionName+e[110].filName;for(let e=0;e<y.length;e+=1){let n=Jo(t,y,e),o=g(n);u.set(o,d[e]=Li(o,n))}return{key:e,first:null,c(){n=C();for(let e=0;e<r.length;e+=1)r[e].c();o=I();for(let e=0;e<a.length;e+=1)a[e].c();i=I();for(let e=0;e<d.length;e+=1)d[e].c();l=C(),this.first=n},m(e,t){A(e,n,t);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,t);A(e,o,t);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,t);A(e,i,t);for(let n=0;n<d.length;n+=1)d[n]&&d[n].m(e,t);A(e,l,t)},p(e,n){t=e,1835207&n[0]&&(f=t[107].filters.Dropdown||[],r=be(r,n,p,1,t,f,s,o.parentNode,we,xi,o,Zo)),2097856&n[0]|2&n[1]&&(m=t[107].filters.Checkbox||[],a=be(a,n,h,1,t,m,c,i.parentNode,we,Ti,i,Qo)),4227264&n[0]&&(y=t[107].filters["Input Number"]||[],d=be(d,n,g,1,t,y,u,l.parentNode,we,Li,l,Jo))},d(e){e&&T(n);for(let t=0;t<r.length;t+=1)r[t].d(e);e&&T(o);for(let t=0;t<a.length;t+=1)a[t].d(e);e&&T(i);for(let t=0;t<d.length;t+=1)d[t].d(e);e&&T(l)}}}function Ii(e){let t,n,o;return{c(){t=L("div"),t.innerHTML='<i class="fa-solid fa-ban svelte-tczdkj"></i>',F(t,"tabindex","0"),F(t,"class","empty-tagFilter svelte-tczdkj"),F(t,"title","Remove Filters"),M(t,"display",e[10]?"":"none"),M(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(qi)]?.filterSelectionName]?.length?"visible":"hidden")},m(i,l){A(i,t,l),n||(o=[j(t,"click",e[25]),j(t,"keydown",e[55])],n=!0)},p(e,n){1024&n[0]&&M(t,"display",e[10]?"":"none"),1152&n[0]&&M(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(qi)]?.filterSelectionName]?.length?"visible":"hidden")},d(e){e&&T(t),n=!1,i(o)}}}function Ci(e){let t,n,o;return{c(){t=L("div"),t.innerHTML='<i class="fa-solid fa-ban svelte-tczdkj"></i>',F(t,"tabindex","0"),F(t,"class","empty-tagFilter svelte-tczdkj"),F(t,"title","Remove Filters"),M(t,"display",e[10]?"":"none"),M(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Yi)]?.filterSelectionName]?.length?"visible":"hidden")},m(i,l){A(i,t,l),n||(o=[j(t,"click",e[25]),j(t,"keydown",e[56])],n=!0)},p(e,n){1024&n[0]&&M(t,"display",e[10]?"":"none"),1152&n[0]&&M(t,"visibility",e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Yi)]?.filterSelectionName]?.length?"visible":"hidden")},d(e){e&&T(t),n=!1,i(o)}}}function ji(e){let t,n,o=(e[97]||"")+"";return{c(){t=L("h3"),n=$(o),F(t,"class","svelte-tczdkj")},m(e,o){A(e,t,o),x(t,n)},p(e,t){1152&t[0]&&o!==(o=(e[97]||"")+"")&&z(n,o)},d(e){e&&T(t)}}}function Pi(e){let t,n,o=(e[104]+": "+e[97]||"")+"";return{c(){t=L("h3"),n=$(o),F(t,"class","svelte-tczdkj")},m(e,o){A(e,t,o),x(t,n)},p(e,t){1152&t[0]&&o!==(o=(e[104]+": "+e[97]||"")+"")&&z(n,o)},d(e){e&&T(t)}}}function Fi(e){let t,n,o=(e[97]+": "+e[103]||"")+"";return{c(){t=L("h3"),n=$(o),F(t,"class","svelte-tczdkj")},m(e,o){A(e,t,o),x(t,n)},p(e,t){1152&t[0]&&o!==(o=(e[97]+": "+e[103]||"")+"")&&z(n,o)},d(e){e&&T(t)}}}function zi(e,t){let n,o,l,r,s,a,c,d;function u(e,t){return"input number"===e[101]?Fi:e[104]?Pi:ji}let f=u(t),p=f(t);function m(...e){return t[57](t[98],t[97],t[101],t[102],t[104],...e)}function h(...e){return t[58](t[98],t[97],t[101],t[102],t[104],...e)}function y(...e){return t[59](t[98],t[97],t[101],t[102],t[100],t[104],t[103],...e)}function g(...e){return t[60](t[98],t[97],t[101],t[102],t[100],t[104],t[103],...e)}return{key:e,first:null,c(){n=L("div"),p.c(),o=I(),l=L("i"),r=I(),F(l,"class","fa-solid fa-xmark svelte-tczdkj"),F(l,"tabindex","0"),F(n,"class","activeTagFilter svelte-tczdkj"),F(n,"tabindex","0"),M(n,"--activeTagFilterColor","included"===t[99]?"#5f9ea0":"read"===t[100]?"#000":"#e85d75"),this.first=n},m(e,t){var i;A(e,n,t),p.m(n,null),x(n,o),x(n,l),x(n,r),a=!0,c||(d=[j(l,"click",(i=m,function(e){return e.preventDefault(),i.call(this,e)})),j(l,"keydown",h),j(n,"click",y),j(n,"keydown",g)],c=!0)},p(e,i){f===(f=u(t=e))&&p?p.p(t,i):(p.d(1),p=f(t),p&&(p.c(),p.m(n,o))),1152&i[0]&&M(n,"--activeTagFilterColor","included"===t[99]?"#5f9ea0":"read"===t[100]?"#000":"#e85d75")},i(e){a||(te((()=>{a&&(s||(s=ge(n,_t,{x:-10,duration:300},!0)),s.run(1))})),a=!0)},o(e){s||(s=ge(n,_t,{x:-10,duration:300},!1)),s.run(0),a=!1},d(e){e&&T(n),p.d(),e&&s&&s.end(),c=!1,i(d)}}}function Di(t){let n;return{c(){n=L("div"),n.innerHTML='<div class="showHideActiveFilters skeleton shimmer svelte-tczdkj"></div> \n            <div class="sortFilter skeleton shimmer svelte-tczdkj"></div>',F(n,"class","last-filter-option svelte-tczdkj")},m(e,t){A(e,n,t)},p:e,d(e){e&&T(n)}}}function Mi(e){let t,n,o,l,r,s,a,c,d,u,f,m,h,y,g,w,v,b,k,S,E,N,C,P,D,O,U,_,V=(e[7]?.sortFilter?.[e[7]?.sortFilter.findIndex(Ji)]?.sortName||"")+"",W=[],B=new Map,R=`${e[2]}px`,H=e[7]?.sortFilter||[];const q=e=>e[94]+e[96];for(let t=0;t<H.length;t+=1){let n=Yo(e,H,t),o=q(n);B.set(o,W[t]=Ui(o,n))}return{c(){t=L("div"),n=L("div"),o=L("i"),r=I(),s=L("div"),a=L("i"),u=I(),f=L("h2"),m=$(V),y=I(),g=L("div"),w=L("div"),v=L("div"),b=L("h2"),b.textContent="Sort By",k=I(),S=L("div"),E=$(""),C=I(),P=L("div");for(let e=0;e<W.length;e+=1)W[e].c();F(o,"class",l=p("icon fa-solid fa-arrows-"+(e[8]??1?"up-down":"left-right"))+" svelte-tczdkj"),F(n,"tabindex","0"),F(n,"class","changeGridView svelte-tczdkj"),F(a,"tabindex",c=e[4]?"":"0"),F(a,"class",d=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(Xi)]?.sortType?"up":"down"))+" svelte-tczdkj"),F(f,"tabindex",h=e[4]?"":"0"),F(f,"class","svelte-tczdkj"),F(b,"class","svelte-tczdkj"),F(S,"class","closing-x svelte-tczdkj"),F(S,"tabindex",N=e[4]&&e[1]<=425?"0":""),F(v,"class","header svelte-tczdkj"),F(P,"class","options svelte-tczdkj"),F(w,"class",D=p("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-tczdkj"),F(g,"class",O=p("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-tczdkj"),M(g,"--maxFilterSelectionHeight",R),F(s,"class","sortFilter svelte-tczdkj"),F(t,"class","last-filter-option svelte-tczdkj")},m(i,l){A(i,t,l),x(t,n),x(n,o),x(t,r),x(t,s),x(s,a),x(s,u),x(s,f),x(f,m),x(s,y),x(s,g),x(g,w),x(w,v),x(v,b),x(v,k),x(v,S),x(S,E),x(w,C),x(w,P);for(let e=0;e<W.length;e+=1)W[e]&&W[e].m(P,null);U||(_=[j(n,"click",e[29]),j(n,"keydown",e[62]),j(a,"click",e[28]),j(a,"keydown",e[63]),j(f,"click",e[26]),j(f,"keydown",e[64]),j(S,"keydown",e[65]),j(S,"click",e[26])],U=!0)},p(e,t){256&t[0]&&l!==(l=p("icon fa-solid fa-arrows-"+(e[8]??1?"up-down":"left-right"))+" svelte-tczdkj")&&F(o,"class",l),16&t[0]&&c!==(c=e[4]?"":"0")&&F(a,"tabindex",c),128&t[0]&&d!==(d=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(Xi)]?.sortType?"up":"down"))+" svelte-tczdkj")&&F(a,"class",d),128&t[0]&&V!==(V=(e[7]?.sortFilter?.[e[7]?.sortFilter.findIndex(Ji)]?.sortName||"")+"")&&z(m,V),16&t[0]&&h!==(h=e[4]?"":"0")&&F(f,"tabindex",h),18&t[0]&&N!==(N=e[4]&&e[1]<=425?"0":"")&&F(S,"tabindex",N),134217856&t[0]&&(H=e[7]?.sortFilter||[],W=be(W,t,q,1,e,H,B,P,we,Ui,null,Yo)),16&t[0]&&D!==(D=p("options-wrap-filter-info "+(e[4]?"":"hide"))+" svelte-tczdkj")&&F(w,"class",D),16&t[0]&&O!==(O=p("options-wrap "+(e[4]?"":"disable-interaction hide"))+" svelte-tczdkj")&&F(g,"class",O),4&t[0]&&R!==(R=`${e[2]}px`)&&M(g,"--maxFilterSelectionHeight",R)},d(e){e&&T(t);for(let e=0;e<W.length;e+=1)W[e].d();U=!1,i(_)}}}function Oi(e){let t,n;return{c(){t=L("i"),F(t,"class",n=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(Qi)].sortType?"up":"down"))+" svelte-tczdkj")},m(e,n){A(e,t,n)},p(e,o){128&o[0]&&n!==(n=p("fa-duotone fa-sort-"+("asc"===e[7]?.sortFilter?.[e[7]?.sortFilter?.findIndex(Qi)].sortType?"up":"down"))+" svelte-tczdkj")&&F(t,"class",n)},d(e){e&&T(t)}}}function Ui(e,t){let n,o,r,s,a,c,d,u=(t[94]||"")+"",f=t[7]?.sortFilter?.[t[7]?.sortFilter?.findIndex(Wi)].sortName===t[94]&&t[94],p=f&&Oi(t);function m(...e){return t[66](t[94],...e)}return{key:e,first:null,c(){n=L("div"),o=L("h3"),r=$(u),s=I(),p&&p.c(),a=I(),F(o,"class","svelte-tczdkj"),F(n,"class","option svelte-tczdkj"),this.first=n},m(e,i){A(e,n,i),x(n,o),x(o,r),x(n,s),p&&p.m(n,null),x(n,a),c||(d=[j(n,"click",(function(){l(t[27](t[94]))&&t[27](t[94]).apply(this,arguments)})),j(n,"keydown",m)],c=!0)},p(e,o){t=e,128&o[0]&&u!==(u=(t[94]||"")+"")&&z(r,u),128&o[0]&&(f=t[7]?.sortFilter?.[t[7]?.sortFilter?.findIndex(Wi)].sortName===t[94]&&t[94]),f?p?p.p(t,o):(p=Oi(t),p.c(),p.m(n,a)):p&&(p.d(1),p=null)},d(e){e&&T(n),p&&p.d(),c=!1,i(d)}}}function _i(e){let t,n,o,l,r,s,a,c,d,u,m,h,y,g,w,v,b,k,S,E,N,$,C,P,z,O,U,_,V,W,B,R,H,q,Y=`${e[2]}px`,G=[],K=new Map;function X(e,t){return e[7]?oi:ni}let J=X(e),Q=J(e),Z=(e[11]||!e[13])&&ii(e),ee=e[7]&&ai(e);function te(e,t){return e[7]?ui:di}let ne=te(e),oe=ne(e),ie=!e[5]&&Ii(e),le=e[5]&&Ci(e),re=e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Gi)]?.filterSelectionName]||[];const se=e=>e[97]+e[98]+(e[104]??"");for(let t=0;t<re.length;t+=1){let n=Go(e,re,t),o=se(n);K.set(o,G[t]=zi(o,n))}function ae(e,t){return e[7]?Mi:Di}let ce=ae(e),de=ce(e);const he=e[34].default,ye=function(e,t,n,o){if(e){const i=f(e,t,n,o);return e[0](i)}}(he,e,e[33],null);return{c(){t=L("main"),n=L("div"),Q.c(),o=I(),Z&&Z.c(),l=I(),r=L("div"),s=L("input"),a=I(),c=L("div"),d=L("i"),m=I(),h=L("div"),ee&&ee.c(),g=I(),w=L("div"),v=L("i"),b=I(),k=L("div"),oe.c(),E=I(),N=L("div"),ie&&ie.c(),$=I(),C=L("div"),le&&le.c(),P=I();for(let e=0;e<G.length;e+=1)G[e].c();z=I(),O=L("div"),U=L("i"),W=I(),de.c(),B=I(),ye&&ye.c(),F(n,"class","home-status svelte-tczdkj"),F(s,"id","input-search"),F(s,"class","input-search svelte-tczdkj"),F(s,"type","search"),F(s,"enterkeyhint","search"),F(s,"autocomplete","off"),F(s,"placeholder","Search"),F(d,"class","input-search-wrap-icon fa-solid fa-sliders svelte-tczdkj"),F(d,"tabindex",u=e[3]?"":"0"),F(h,"class",y=p("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-tczdkj"),M(h,"--maxFilterSelectionHeight",Y),F(c,"class","filterType svelte-tczdkj"),F(v,"class",p("showFilterOptions fa-solid fa-filter")+" svelte-tczdkj"),F(v,"tabindex","0"),F(w,"class","showFilterOptions-container svelte-tczdkj"),F(r,"class","input-search-wrap svelte-tczdkj"),F(k,"class",S=p("filters "+(e[6]?"":"disable-interaction")+(e[14]?" hasWheel":""))+" svelte-tczdkj"),F(k,"id","filters"),M(k,"--maxPaddingHeight",e[2]+65+"px"),F(C,"id","tagFilters"),F(C,"class","tagFilters svelte-tczdkj"),M(C,"max-height",e[5]?"200px":"30px"),F(U,"class",_=p("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-tczdkj"),F(O,"tabindex","0"),F(O,"class","showHideActiveFilters svelte-tczdkj"),F(N,"class",V=p("activeFilters"+(e[5]?" seenMore":""))+" svelte-tczdkj"),M(N,"display",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Ki)]?.filterSelectionName]||[]).length?"":"none"),F(t,"class","svelte-tczdkj"),M(t,"--filters-space",e[6]?"80px":""),M(t,"--active-filter-space",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Zi)]?.filterSelectionName]||[]).length?"auto":"")},m(i,u){A(i,t,u),x(t,n),Q.m(n,null),x(n,o),Z&&Z.m(n,null),x(t,l),x(t,r),x(r,s),D(s,e[12]),x(r,a),x(r,c),x(c,d),x(c,m),x(c,h),ee&&ee.m(h,null),x(r,g),x(r,w),x(w,v),x(t,b),x(t,k),oe.m(k,null),x(t,E),x(t,N),ie&&ie.m(N,null),x(N,$),x(N,C),le&&le.m(C,null),x(C,P);for(let e=0;e<G.length;e+=1)G[e]&&G[e].m(C,null);x(N,z),x(N,O),x(O,U),x(t,W),de.m(t,null),x(t,B),ye&&ye.m(t,null),R=!0,H||(q=[j(s,"input",e[36]),j(d,"click",e[17]),j(d,"keydown",e[37]),j(v,"click",e[30]),j(v,"keydown",e[40]),j(k,"wheel",e[54]),j(O,"click",e[31]),j(O,"keydown",e[61])],H=!0)},p(e,i){J===(J=X(e))&&Q?Q.p(e,i):(Q.d(1),Q=J(e),Q&&(Q.c(),Q.m(n,o))),e[11]||!e[13]?Z?(Z.p(e,i),10240&i[0]&&pe(Z,1)):(Z=ii(e),Z.c(),pe(Z,1),Z.m(n,null)):Z&&(ue(),me(Z,1,1,(()=>{Z=null})),fe()),4096&i[0]&&s.value!==e[12]&&D(s,e[12]),(!R||8&i[0]&&u!==(u=e[3]?"":"0"))&&F(d,"tabindex",u),e[7]?ee?ee.p(e,i):(ee=ai(e),ee.c(),ee.m(h,null)):ee&&(ee.d(1),ee=null),(!R||8&i[0]&&y!==(y=p("options-wrap "+(e[3]?"":"disable-interaction hide"))+" svelte-tczdkj"))&&F(h,"class",y),4&i[0]&&Y!==(Y=`${e[2]}px`)&&M(h,"--maxFilterSelectionHeight",Y),ne===(ne=te(e))&&oe?oe.p(e,i):(oe.d(1),oe=ne(e),oe&&(oe.c(),oe.m(k,null))),(!R||16448&i[0]&&S!==(S=p("filters "+(e[6]?"":"disable-interaction")+(e[14]?" hasWheel":""))+" svelte-tczdkj"))&&F(k,"class",S),4&i[0]&&M(k,"--maxPaddingHeight",e[2]+65+"px"),e[5]?ie&&(ie.d(1),ie=null):ie?ie.p(e,i):(ie=Ii(e),ie.c(),ie.m(N,$)),e[5]?le?le.p(e,i):(le=Ci(e),le.c(),le.m(C,P)):le&&(le.d(1),le=null),25166976&i[0]&&(re=e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Gi)]?.filterSelectionName]||[],ue(),G=be(G,i,se,1,e,re,K,C,ve,zi,null,Go),fe()),32&i[0]&&M(C,"max-height",e[5]?"200px":"30px"),(!R||32&i[0]&&_!==(_=p("icon fa-solid fa-angle-"+(e[5]?"up":"down"))+" svelte-tczdkj"))&&F(U,"class",_),(!R||32&i[0]&&V!==(V=p("activeFilters"+(e[5]?" seenMore":""))+" svelte-tczdkj"))&&F(N,"class",V),1152&i[0]&&M(N,"display",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Ki)]?.filterSelectionName]||[]).length?"":"none"),ce===(ce=ae(e))&&de?de.p(e,i):(de.d(1),de=ce(e),de&&(de.c(),de.m(t,B))),ye&&ye.p&&(!R||4&i[1])&&function(e,t,n,o,i,l){if(i){const r=f(t,n,o,l);e.p(r,i)}}(ye,he,e,e[33],R?function(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}(he,e[33],i,null):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[33]),null),64&i[0]&&M(t,"--filters-space",e[6]?"80px":""),1152&i[0]&&M(t,"--active-filter-space",(e[10]?.[e[7]?.filterSelection?.[e[7]?.filterSelection?.findIndex(Zi)]?.filterSelectionName]||[]).length?"auto":"")},i(e){if(!R){pe(Z);for(let e=0;e<re.length;e+=1)pe(G[e]);pe(ye,e),R=!0}},o(e){me(Z);for(let e=0;e<G.length;e+=1)me(G[e]);me(ye,e),R=!1},d(e){e&&T(t),Q.d(),Z&&Z.d(),ee&&ee.d(),oe.d(),ie&&ie.d(),le&&le.d();for(let e=0;e<G.length;e+=1)G[e].d();de.d(),ye&&ye.d(e),H=!1,i(q)}}}function Vi(e,t){if("string"==typeof e&&"string"==typeof t)return e.toLowerCase().includes(t.trim().toLowerCase())}const Wi=({sortType:e})=>"none"!==e,Bi=({isSelected:e})=>e,Ri=()=>{},Hi=()=>{},qi=({isSelected:e})=>e,Yi=({isSelected:e})=>e,Gi=({isSelected:e})=>e,Ki=({isSelected:e})=>e,Xi=({sortType:e})=>"none"!==e,Ji=({sortType:e})=>"none"!==e,Qi=({sortType:e})=>"none"!==e,Zi=({isSelected:e})=>e;function el(e,t,n){let o,i,l,r,s,a,c,d,f,p,h,y,g,w,v;u(e,lt,(e=>n(76,o=e))),u(e,ze,(e=>n(7,i=e))),u(e,Oe,(e=>n(77,l=e))),u(e,Ze,(e=>n(78,r=e))),u(e,Me,(e=>n(79,s=e))),u(e,Qe,(e=>n(8,a=e))),u(e,Je,(e=>n(9,c=e))),u(e,De,(e=>n(10,d=e))),u(e,Ue,(e=>n(11,f=e))),u(e,it,(e=>n(80,p=e))),u(e,Fe,(e=>n(81,h=e))),u(e,ot,(e=>n(12,y=e))),u(e,_e,(e=>n(82,g=e))),u(e,Pe,(e=>n(13,w=e))),u(e,je,(e=>n(14,v=e)));let b,k,x,S,E,A,T,{$$slots:N={},$$scope:L}=t,$=!0,I=window.visualViewport.width,C=window.visualViewport.height,j=.3*C,P=!1,F=!1,z=["Algorithm Filter"],D=["sort","Anime Filter","Content Caution"],M=["weighted score","score","average score","user score","popularity"],O=!1,U=!1;async function _(e){c||(z.includes(e)?(O=!0,m(Ue,f="Updating List",f),async function(){await Rn(!0,"shouldProcessRecommendation"),kn({filterOptions:i,activeTagFilters:d}).then((async()=>{await Rn(!1,"shouldProcessRecommendation"),xt.update((e=>!e)),V()})).catch((e=>{throw V(),e}))}()):D.includes(e)?(U=!0,m(Ue,f="Updating List",f),V()):U||O||g||(await Rn(i,"filterOptions"),await Rn(d,"activeTagFilters")))}function V(){l&&(l.terminate(),m(Oe,l=null,l)),wn({filterOptions:i,activeTagFilters:d}).then((async e=>{O=U=!1,m(Oe,l=e.animeLoaderWorker,l),m(ot,y="",y),e?.isNew&&(m(Me,s=e.finalAnimeList,s),m(Fe,h=e.hiddenEntries,h),m(it,p=e.numberOfNextLoadedGrid,p)),m(Ue,f=null,f)})).catch((e=>{throw e}))}async function W(){let e=document.getElementById("tagFilters");await ee(),e instanceof Element&&(e.scrollTop=0)}function B(){C=window.visualViewport.height,n(2,j=.3*C),n(1,I=window.visualViewport.width)}async function R(e){if(c)return fe();let t=i?.filterSelection.findIndex((({isSelected:e})=>e)),o=i?.filterSelection?.[t].filterSelectionName;if(o!==e){n(4,x=!1),s?.length>36&&!a&&await ue(),i?.filterSelection?.[t].filters.Dropdown.forEach((e=>{e.selected=!1})),m(ze,i.filterSelection[t]=i?.filterSelection?.[t],i),k=null,m(ze,i.filterSelection[t].isSelected=!1,i);let o=i?.filterSelection?.findIndex((({filterSelectionName:t})=>t===e));m(ze,i.filterSelection[o].isSelected=!0,i),W(),_()}S instanceof Element&&S.closest(".filterType")&&(Mt(S,"highlight"),S=null),n(3,b=!1)}function H(e){if(c&&(i?.filterSelection?.length??0)<1)return fe();let t=e.target,o=t.classList,l=t.closest(".filterType"),r=t.closest(".options-wrap");!o.contains("filterType")&&!l||b?r&&!o.contains("closing-x")||o.contains("options-wrap")||(S instanceof Element&&S.closest(".filterType")&&(Mt(S,"highlight"),S=null),n(3,b=!1)):n(3,b=!0)}function Y(){E&&clearTimeout(E),A=!0,E=setTimeout((()=>{A=!1}),300)}function G(e,t){if(A&&"mouse"===e.pointerType)return;let o=e.target,l=o.closest(".filter-select");if(l===k)return;let r=i?.filterSelection?.findIndex((({isSelected:e})=>e));if(k instanceof Element){let e=Array.from(k.parentElement.children).filter((e=>!e.classList.contains("disable-interaction"))).indexOf(k);if(o.classList.contains("icon")&&!o.classList.contains("fa-angle-down")&&i?.filterSelection?.[r].filters.Dropdown[e].selected)return;m(ze,i.filterSelection[r].filters.Dropdown[e].selected=!1,i)}$&&n(0,$=!1),S instanceof Element&&S.closest(".filter-select")&&(Mt(S,"highlight"),S=null),m(ze,i.filterSelection[r].filters.Dropdown[t].selected=!0,i),k=l}function K(e){let t=i?.filterSelection?.findIndex((({isSelected:e})=>e));m(ze,i.filterSelection[t].filters.Dropdown[e].selected=!1,i),S instanceof Element&&S.closest(".filter-select")&&(Mt(S,"highlight"),S=null),k=null}async function X(e){if(i?.filterSelection?.length<1||!i)return;let t=e.target,o=t.classList;if(o.contains("options-wrap")&&"fixed"===getComputedStyle(t).position){S instanceof Element&&(Mt(S,"highlight"),S=null),n(3,b=!1),n(4,x=!1);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(ze,i.filterSelection[e]=i?.filterSelection?.[e],i),k=null}else if(!o.contains("options-wrap")&&!t.closest(".options-wrap")&&!o.contains("async-element")){let e=t.closest(".filterType");o.contains("filterType")||e||(S instanceof Element&&S.closest(".filterType")&&(Mt(S,"highlight"),S=null),n(3,b=!1));let l=t.closest(".sortFilter");o.contains("sortFilter")||l||(S instanceof Element&&S.closest(".sortFilter")&&(Mt(S,"highlight"),S=null),n(4,x=!1));let r=t.closest(".select");if(!o.contains("select")&&!o.contains("fa-angle-down")&&!r){S instanceof Element&&S.closest(".filter-select")&&(Mt(S,"highlight"),S=null);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(ze,i.filterSelection[e]=i?.filterSelection?.[e],i),k=null}}}function J(e,t,n,o,l,r){if(c)return fe();let s=i?.filterSelection?.findIndex((({isSelected:e})=>e)),a=i?.filterSelection?.[s].filterSelectionName,u=i?.filterSelection?.[s].filters.Dropdown[o].options[n].selected;"none"===u||!0===u||"read"===l&&"included"!==u?(m(ze,i.filterSelection[s].filters.Dropdown[o].options[n].selected="included",i),m(De,d[a]=d[a].filter((o=>o.optionName+o.optionIdx+o.optionType!==e+n+t)),d),d[a].unshift({optionName:e,optionType:t,optionIdx:n,categIdx:o,selected:"included",changeType:l,filterType:"dropdown"}),De.set(d)):"included"===u?"read"===l?(m(ze,i.filterSelection[s].filters.Dropdown[o].options[n].selected="none",i),m(De,d[a]=d[a].filter((i=>!(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&(!i.optionType||i.optionType===t)))),d)):(m(ze,i.filterSelection[s].filters.Dropdown[o].options[n].selected="excluded",i),m(De,d[a]=d[a].map((i=>(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&"included"===i.selected&&i.optionType===t&&(i.selected="excluded"),i))),d)):(m(ze,i.filterSelection[s].filters.Dropdown[o].options[n].selected="none",i),m(De,d[a]=d[a].filter((i=>!(i.optionIdx===n&&i.optionName===e&&"dropdown"===i.filterType&&i.categIdx===o&&i.optionType===t))),d)),_(r)}function Q(e,t,n,o){let l=e.target.classList,r=e.which||e.keyCode||0;if(l.contains("checkbox")&&"click"===e.type||l.contains("checkbox")&&13!==r&&"keydown"===e.type||A&&"mouse"===e.pointerType)return;if(c)return void(l.contains("checkbox")||fe());let s=i?.filterSelection?.findIndex((({isSelected:e})=>e)),a=i?.filterSelection?.[s].filterSelectionName,u=i?.filterSelection?.[s].filters.Checkbox[n].isSelected;u?m(De,d[a]=d[a].filter((e=>!(e.optionIdx===n&&e.optionName===t&&"checkbox"===e.filterType&&"included"===e.selected))),d):(m(De,d[a]=d[a].filter((e=>e.optionName+e.optionIdx!==t+n)),d),d[a].unshift({optionName:t,optionIdx:n,filterType:"checkbox",selected:"included",changeType:"read"}),De.set(d)),m(ze,i.filterSelection[s].filters.Checkbox[n].isSelected=!i?.filterSelection?.[s].filters.Checkbox[n].isSelected,i),_(o)}function Z(e,t,n,o,l,r,s){if(c)return fe();let a=i?.filterSelection?.findIndex((({isSelected:e})=>e)),u=i?.filterSelection?.[a].filterSelectionName,f=i?.filterSelection?.[a].filters["Input Number"][n].numberValue;if(M.includes(o)&&/^(>=|<=|<|>).*($)/.test(t)){let c=t.split(/(<=|>=|<|>)/).filter((e=>e));if(t!==f&&c.length<=2){let p,h,y=t.split(/(<=|>=|<|>)/).filter((e=>e));if(c[0].includes(">")||c[0].includes("<")?(p=c[0],h=c[1]):(p=c[1],h=c[0]),y[0].includes(">")||y[0].includes("<")?(y[0],y[1]):(y[1],y[0]),t!==f&&(!isNaN(h)&&(parseFloat(h)>=r||"number"!=typeof r)&&(parseFloat(h)<=l||"number"!=typeof l)||!h)){if(h){let e=d[u].findIndex((e=>e.optionName===o&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(m(De,d[u]=d[u].filter((e=>e.optionName+e.optionIdx!==o+n)),d),d[u].unshift({optionName:o,optionValue:t,CMPoperator:p,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(d[u].splice(e,1),m(De,d[u]=d[u].filter((e=>e.optionName+e.optionIdx!==o+n)),d),d[u].unshift({optionName:o,optionValue:t,CMPoperator:p,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),De.set(d)}else m(De,d[u]=d[u].filter((e=>!(e.optionIdx===n&&e.optionName===o&&e.optionValue===f&&"input number"===e.filterType))),d);m(ze,i.filterSelection[a].filters["Input Number"][n].numberValue=t,i),_(s)}else Pt(e.target,f)}else{let t=d[u].findIndex((e=>e.optionName===o&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));t>=0&&m(De,d[u][t].selected="included",d),Pt(e.target,f)}}else if(t!==f&&(!isNaN(t)&&(parseFloat(t)>=r||"number"!=typeof r)&&(parseFloat(t)<=l||"number"!=typeof l)||""===t)){if(""===t)m(De,d[u]=d[u].filter((e=>!(e.optionIdx===n&&e.optionName===o&&e.optionValue===f&&"input number"===e.filterType))),d);else{let e=d[u].findIndex((e=>e.optionName===o&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e?(m(De,d[u]=d[u].filter((e=>e.optionName+e.optionIdx!==o+n)),d),d[u].unshift({optionName:o,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})):(d[u].splice(e,1),m(De,d[u]=d[u].filter((e=>e.optionName+e.optionIdx!==o+n)),d),d[u].unshift({optionName:o,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"})),De.set(d)}m(ze,i.filterSelection[a].filters["Input Number"][n].numberValue=t,i),_(s)}else elementIdx>=0&&m(De,d[u][elementIdx].selected="included",d),Pt(e.target,f)}function te(e,t,n,o,l,r,s,a){if(c)return fe();let u=i?.filterSelection?.findIndex((({isSelected:e})=>e)),f=i?.filterSelection?.[u].filterSelectionName;if("input number"===o){let e=d[f].findIndex((e=>e.optionName===n&&e.optionValue===a&&e.optionIdx===t&&"input number"===e.filterType));if(e>=0){let t=d[f][e].selected;m(De,d[f][e].selected="included"===t?"excluded":"included",d)}}else if("checkbox"===o){let e=d[f].findIndex((e=>e.optionIdx===t&&e.optionName===n&&e.filterType===o)),l=d?.[f]?.[e]?.selected;"included"===l?(m(De,d[f][e].selected="excluded",d),m(ze,i.filterSelection[u].filters.Checkbox[t].isSelected=!1,i)):"excluded"===l&&(m(De,d[f][e].selected="included",d),m(ze,i.filterSelection[u].filters.Checkbox[t].isSelected=!0,i))}else if("dropdown"===o){let e=i?.filterSelection?.[u].filters.Dropdown[l].options[t].selected;"included"===e?(m(ze,i.filterSelection[u].filters.Dropdown[l].options[t].selected="excluded",i),m(De,d[f]=d[f].map((e=>(e.optionIdx!==t||e.optionName!==n||"included"!==e.selected||e.optionType&&e.optionType!==s||(e.selected="excluded"),e))),d)):"excluded"===e&&(m(ze,i.filterSelection[u].filters.Dropdown[l].options[t].selected="included",i),m(De,d[f]=d[f].map((e=>(e.optionIdx!==t||e.optionName!==n||"excluded"!==e.selected||e.optionType&&e.optionType!==s||(e.selected="included"),e))),d))}_(f)}function ne(e,t,n,o,l,r){if(c)return fe();let s=i?.filterSelection?.findIndex((({isSelected:e})=>e)),a=i?.filterSelection?.[s].filterSelectionName;m(ze,"checkbox"===o?i.filterSelection[s].filters.Checkbox[t].isSelected=!1:"input number"===o?i.filterSelection[s].filters["Input Number"][t].numberValue="":i.filterSelection[s].filters.Dropdown[l].options[t].selected="none",i),m(De,d[a]=d[a].filter((e=>!(e.optionName===n&&e.optionIdx===t&&e.filterType===o&&(!e.optionType||e.optionType===r)))),d),_(a)}async function oe(e){if(c)return fe();if(await o("Do you want to remove all filters?")){let e=i?.filterSelection?.findIndex((({isSelected:e})=>e)),t=i?.filterSelection?.[e].filterSelectionName;i?.filterSelection?.[e].filters["Input Number"].forEach((e=>{e.numberValue=""})),i?.filterSelection?.[e].filters.Checkbox.forEach((e=>{e.isSelected=!1})),i?.filterSelection?.[e].filters.Dropdown.forEach((({options:t},n)=>{t.forEach((({selected:t},o)=>{m(ze,i.filterSelection[e].filters.Dropdown[n].options[o].selected="none",i)}))})),m(ze,i.filterSelection[e]=i?.filterSelection?.[e],i),m(De,d[t]=[],d),_(t)}}function ie(e){let t=e.target,o=t.classList,i=t.closest(".sortFilter"),l=t.closest(".options-wrap");!o.contains("sortFilter")&&!i||x?l&&!o.contains("closing-x")||o.contains("options-wrap")||(S instanceof Element&&S.closest(".sortFilter")&&(Mt(S,"highlight"),S=null),n(4,x=!1)):n(4,x=!0)}function le(e){if(c)return fe();let{sortName:t,sortType:o}=i?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],l=i?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));if(t===e){let e="desc"===o?"asc":"desc";m(ze,i.sortFilter[l].sortType=e,i)}else if(t!==e){m(ze,i.sortFilter[l].sortType="none",i);let t=i?.sortFilter?.findIndex((({sortName:t})=>t===e));m(ze,i.sortFilter[t].sortType="desc",i)}_("sort"),S instanceof Element&&S.closest(".sortFilter")&&(Mt(S,"highlight"),S=null),n(4,x=!1)}function re(){if(c)return fe();let{sortType:e}=i?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],t=i?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));m(ze,i.sortFilter[t].sortType="desc"===e?"asc":"desc",i),_("sort")}function se(e){let t=e.which||e.keyCode||0;if(38==t||40==t){var o=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(o?.closest?.(".filterType")||o?.closest?.(".sortFilter")||o?.closest?.(".filter-select"))if(e.preventDefault(),S instanceof Element&&S?.closest?.(".options")?.children?.length){let e,n,o,i,l=S.closest(".options"),r=Array.from(l.querySelectorAll(".option")),s=r.indexOf(S);for(let l=0;l<r.length;l++)if(!r[l].classList.contains("disable-interaction"))if(38===t){if(i=r[l],l<s)n=r[l];else if(n){e=n;break}}else if(o||(o=r[l]),l>s){e=r[l];break}let a=!1;e instanceof Element||(o instanceof Element?(e=o,a=!0):i instanceof Element&&(e=i,a=!0)),e instanceof Element&&(Mt(S,"highlight"),S=e,Dt(S,"highlight"),S.scrollIntoView({behavior:a?"auto":"smooth",container:l,block:"nearest",inline:"nearest"}))}else{let e=o.querySelectorAll(".option:not(.disable-interaction)");S=e[0],S instanceof Element&&(Dt(S,"highlight"),S.scrollIntoView({behavior:"smooth",container:parent,block:"nearest",inline:"nearest"}))}}else if(13===t){if(S instanceof Element){let e=new KeyboardEvent("keydown",{key:"Enter"});S.dispatchEvent(e)}}else{o=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>!e.classList.contains("disable-interaction")));if(o?.closest?.(".filter-select")&&9!==t||o instanceof Element&&"fixed"===getComputedStyle(o).position)return;let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));n(3,b=null),n(4,x=null),i?.filterSelection?.length>0&&(i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(ze,i.filterSelection[e]=i?.filterSelection?.[e],i)),k=null,S instanceof Element&&(Mt(S,"highlight"),S=null)}}async function ae(){m(Qe,a=!a,a),Pn(a,"gridFullView")}async function ce(e=null){s?.length>36&&!a&&await ue(),n(6,F="boolean"==typeof e?e:!F)}async function de(e=null){s?.length>36&&!a&&await ue(),n(5,P="boolean"==typeof e?e:!P),W()}function ue(){return new Promise((e=>{l instanceof Worker&&(m(Me,s=null,s),r().then((()=>{l.postMessage({reload:!0})}))),T={resolve:e}}))}function fe(){o({isAlert:!0,title:"Initializing resources",text:"Please wait a moment..."})}yt.subscribe((e=>{"boolean"==typeof e&&T?.resolve?.()})),window.checkOpenDropdown=()=>(k||b||x)&&window.visualViewport.width<=425,window.closeDropdown=()=>{S instanceof Element&&(Mt(S,"highlight"),S=null),n(3,b=!1),n(4,x=!1);let e=i?.filterSelection?.findIndex((({isSelected:e})=>e));i?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),m(ze,i.filterSelection[e]=i?.filterSelection?.[e],i),k=null},q((()=>{let e=document.getElementById("filters");e.addEventListener("scroll",Y),((e,t="xy")=>{var n,o,i,l,r;let s=s=>{i&&"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(e.scrollTop=n-s.pageY+r),t.toLowerCase().includes("x")&&(e.scrollLeft=o-s.pageX+l))},a=s=>{"mouse"===s.pointerType&&(t.toLowerCase().includes("y")&&(n=s.pageY,r=e.scrollTop),t.toLowerCase().includes("x")&&(o=s.pageX,l=e.scrollLeft),i=!0)},c=e=>{"mouse"===e.pointerType&&(i=!1)};e.addEventListener("pointermove",s),e.addEventListener("pointerdown",a),window.addEventListener("pointerup",c),window.addEventListener("pointercancel",c)})(e,"x"),document.addEventListener("keydown",se),window.addEventListener("resize",B),window.addEventListener("click",X)}));return e.$$set=e=>{"$$scope"in e&&n(33,L=e.$$scope)},[$,I,j,b,x,P,F,i,a,c,d,f,y,w,v,M,R,H,G,K,J,Q,Z,te,ne,oe,ie,le,re,ae,ce,de,fe,L,N,(e,{optionName:t})=>Vi(t,e.optKeyword)||""===e.optKeyword,function(){y=this.value,ot.set(y)},e=>"Enter"===e.key&&H(e),e=>"Enter"===e.key&&H(e),(e,t)=>"Enter"===t.key&&R(e),e=>"Enter"===e.key&&ce(e),function(e,t){i.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,ze.set(i)},(e,t)=>"Enter"===t.key&&K(e),(e,t)=>("Enter"===t.key||"ArrowDown"===t.key||"ArrowUp"===t.key)&&G(t,e),(e,t)=>G(t,e),(e,t)=>"Enter"===t.key&&K(e),function(e,t){i.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,ze.set(i)},(e,t,n,o,i,l)=>"Enter"===l.key&&J(e.optionName,t.filName,n,o,t.changeType,i.filterSelectionName),e=>{e.target.checked=!1,fe()},(e,t,n,o)=>Q(o,e.filName,t,n.filterSelectionName),function(e,t){e[t].isSelected=this.checked},(e,t,n,o)=>Q(o,e.filName,t,n.filterSelectionName),(e,t,n,o)=>"Enter"===o.key&&Q(o,e.filName,t,n.filterSelectionName),(e,t,n,o)=>Z(o,o.target.value,e,t.filName,t.maxValue,t.minValue,n.filterSelectionName),e=>function(e,t){let n=e.target;n.classList.contains(t)||(n=n.closest("."+t)),n.scrollWidth<=n.clientWidth||0!==e.deltaY&&0===e.deltaX&&(e.preventDefault(),n.scrollLeft=Math.max(0,n.scrollLeft+e.deltaY))}(e,"filters"),e=>"Enter"===e.key&&oe(),e=>"Enter"===e.key&&oe(),(e,t,n,o,i,l)=>ne(0,e,t,n,o,i),(e,t,n,o,i,l)=>"Enter"===l.key&&ne(0,e,t,n,o,i),(e,t,n,o,i,l,r,s)=>te(0,e,t,n,o,0,l,r),(e,t,n,o,i,l,r,s)=>"Enter"===s.key&&te(0,e,t,n,o,0,l,r),e=>"Enter"===e.key&&de(),e=>"Enter"===e.key&&ae(),e=>"Enter"===e.key&&re(),e=>"Enter"===e.key&&ie(e),e=>"Enter"===e.key&&ie(e),(e,t)=>"Enter"===t.key&&le(e)]}function tl(e){let t,n,o,l,r,s,a,c,d,u,f,p,m,h,y,g,w,v,b=!e[1]&&nl(e);return{c(){t=L("div"),n=L("div"),o=L("div"),l=L("div"),r=L("h2"),s=$(e[2]),a=I(),c=L("h2"),d=$(e[3]),u=I(),f=L("div"),b&&b.c(),p=I(),m=L("button"),h=$(e[4]),F(r,"class","confirm-title svelte-1980t5h"),F(c,"class","confirm-text svelte-1980t5h"),F(l,"class","confirm-info-container svelte-1980t5h"),F(m,"class","button svelte-1980t5h"),F(f,"class","confirm-button-container svelte-1980t5h"),F(o,"class","confirm-container svelte-1980t5h"),F(n,"class","confirm-wrapper svelte-1980t5h"),M(n,"--height",e[7]?"calc(100% + 1px)":"100%"),F(t,"class","confirm svelte-1980t5h")},m(i,y){A(i,t,y),x(t,n),x(n,o),x(o,l),x(l,r),x(r,s),x(l,a),x(l,c),x(c,d),x(o,u),x(o,f),b&&b.m(f,null),x(f,p),x(f,m),x(m,h),e[12](m),g=!0,w||(v=[j(m,"click",e[8]),j(m,"keydown",e[13]),j(t,"click",e[10]),j(t,"keydown",e[14])],w=!0)},p(e,t){(!g||4&t)&&z(s,e[2]),(!g||8&t)&&z(d,e[3]),e[1]?b&&(b.d(1),b=null):b?b.p(e,t):(b=nl(e),b.c(),b.m(f,p)),(!g||16&t)&&z(h,e[4]),128&t&&M(n,"--height",e[7]?"calc(100% + 1px)":"100%")},i(e){g||(te((()=>{g&&(y||(y=ge(o,_t,{y:20,duration:300},!0)),y.run(1))})),g=!0)},o(e){y||(y=ge(o,_t,{y:20,duration:300},!1)),y.run(0),g=!1},d(n){n&&T(t),b&&b.d(),e[12](null),n&&y&&y.end(),w=!1,i(v)}}}function nl(e){let t,n,o,l;return{c(){t=L("button"),n=$(e[5]),F(t,"class","button svelte-1980t5h")},m(i,r){A(i,t,r),x(t,n),o||(l=[j(t,"click",e[9]),j(t,"keydown",e[11])],o=!0)},p(e,t){32&t&&z(n,e[5])},d(e){e&&T(t),o=!1,i(l)}}}function ol(e){let t,n,o=e[0]&&tl(e);return{c(){o&&o.c(),t=C()},m(e,i){o&&o.m(e,i),A(e,t,i),n=!0},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&pe(o,1)):(o=tl(e),o.c(),pe(o,1),o.m(t.parentNode,t)):o&&(ue(),me(o,1,1,(()=>{o=null})),fe())},i(e){n||(pe(o),n=!0)},o(e){me(o),n=!1},d(e){o&&o.d(e),e&&T(t)}}}function il(e,t,n){let o;u(e,ct,(e=>n(7,o=e)));const i=function(){const e=H();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const l=O(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,l)})),!l.defaultPrevented}return!0}}();let l,r,{showConfirm:s=!1}=t,{isAlert:a=!1}=t,{confirmTitle:c="Confirmation"}=t,{confirmText:d="Do you want to continue?"}=t,{confirmLabel:f="OK"}=t,{cancelLabel:p="CANCEL"}=t,m=!1;function h(e){m&&"keydown"!==e.type||(n(0,s=!1),i("confirmed"))}function y(e){m&&"keydown"!==e.type||(n(0,s=!1),i("cancelled"))}function g(e){if(m&&"keydown"!==e.type)return;let t=e.target,n=t.classList;t.closest(".confirm-container")||n.contains("confirm-container")||y(e)}var w;w=()=>{s?(m=!0,r=setTimeout((()=>{m=!1}),500),l?.focus?.()):(r&&clearTimeout(r),m=!1)},H().$$.after_update.push(w);return e.$$set=e=>{"showConfirm"in e&&n(0,s=e.showConfirm),"isAlert"in e&&n(1,a=e.isAlert),"confirmTitle"in e&&n(2,c=e.confirmTitle),"confirmText"in e&&n(3,d=e.confirmText),"confirmLabel"in e&&n(4,f=e.confirmLabel),"cancelLabel"in e&&n(5,p=e.cancelLabel)},[s,a,c,d,f,p,l,o,h,y,g,e=>"Enter"===e.key&&y(e),function(e){G[e?"unshift":"push"]((()=>{l=e,n(6,l)}))},e=>"Enter"===e.key&&h(e),e=>"Enter"===e.key&&g(e)]}var ll={Fixed:{Navigator:class extends Ae{constructor(e){super(),Ee(this,e,_o,Uo,r,{},null,[-1,-1])}},Menu:class extends Ae{constructor(e){super(),Ee(this,e,qo,Ro,r,{},null,[-1,-1])}}},Anime:{AnimeGrid:class extends Ae{constructor(e){super(),Ee(this,e,un,sn,r,{},null,[-1,-1])}},Fixed:{AnimePopup:class extends Ae{constructor(e){super(),Ee(this,e,zo,$o,r,{},null,[-1,-1,-1,-1])}},AnimeOptionsPopup:class extends Ae{constructor(e){super(),Ee(this,e,Oo,Mo,r,{})}}}},Others:{Search:class extends Ae{constructor(e){super(),Ee(this,e,el,_i,r,{},null,[-1,-1,-1,-1,-1])}},Confirm:class extends Ae{constructor(e){super(),Ee(this,e,il,ol,r,{showConfirm:0,isAlert:1,confirmTitle:2,confirmText:3,confirmLabel:4,cancelLabel:5})}}}},rl="@vercel/analytics",sl="1.0.1",al=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function cl(e="auto"){window.vam="auto"!==e?e:function(){try{const e=process.env.NODE_ENV;if("development"===e||"test"===e)return"development"}catch(e){}return"production"}()}function dl(){return"development"===(window.vam||"production")}function ul(e={debug:!0}){var t;if("undefined"==typeof window)return;cl(e.mode),al(),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const n=dl()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${n}"]`))return;const o=document.createElement("script");o.src=n,o.defer=!0,o.setAttribute("data-sdkn",rl),o.setAttribute("data-sdkv",sl),dl()&&!1===e.debug&&o.setAttribute("data-debug","false"),document.head.appendChild(o)}function fl(e){let t,n,o,i,l;return{c(){t=L("div"),F(t,"class","progress svelte-1pl1een"),M(t,"--progress","-"+(100-e[6])+"%")},m(e,n){A(e,t,n),o=!0,i||(l=j(t,"outrostart",yl),i=!0)},p(e,n){64&n[0]&&M(t,"--progress","-"+(100-e[6])+"%")},i(e){o||(n&&n.end(1),o=!0)},o(e){n=ye(t,Ut,{duration:0,delay:400}),o=!1},d(e){e&&T(t),e&&n&&n.end(),i=!1,l()}}}function pl(e){let t,n;return t=new ll.Anime.AnimeGrid({}),{c(){ke(t.$$.fragment)},m(e,o){xe(t,e,o),n=!0},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function ml(t){let n,o,l,r,s;return{c(){n=L("div"),n.innerHTML='<i class="list-update-icon fa-solid fa-arrows-rotate svelte-1pl1een"></i> \n\t\t\t<h3 class="list-update-label svelte-1pl1een">List Update Available</h3>',F(n,"class","list-update-container svelte-1pl1een"),F(n,"tabindex","0")},m(e,o){A(e,n,o),l=!0,r||(s=[j(n,"click",t[10]),j(n,"keydown",t[11])],r=!0)},p:e,i(e){l||(te((()=>{l&&(o||(o=ge(n,_t,{x:50,duration:300},!0)),o.run(1))})),l=!0)},o(e){o||(o=ge(n,_t,{x:50,duration:300},!1)),o.run(0),l=!1},d(e){e&&T(n),e&&o&&o.end(),r=!1,i(s)}}}function hl(e){let t,n,o,i,l,r,s,a,c,d,u,f,p,m,h,y,g=e[6]>0&&e[6]<100&&fl(e);o=new ll.Fixed.Navigator({}),l=new ll.Fixed.Menu({}),a=new ll.Others.Search({props:{$$slots:{default:[pl]},$$scope:{ctx:e}}}),d=new ll.Anime.Fixed.AnimePopup({}),f=new ll.Anime.Fixed.AnimeOptionsPopup({}),m=new ll.Others.Confirm({props:{showConfirm:e[0],isAlert:e[1],confirmTitle:e[2],confirmText:e[3],confirmLabel:e[4],cancelLabel:e[5]}}),m.$on("confirmed",e[8]),m.$on("cancelled",e[9]);let w=e[7]&&ml(e);return{c(){t=L("main"),g&&g.c(),n=I(),ke(o.$$.fragment),i=I(),ke(l.$$.fragment),r=I(),s=L("div"),ke(a.$$.fragment),c=I(),ke(d.$$.fragment),u=I(),ke(f.$$.fragment),p=I(),ke(m.$$.fragment),h=I(),w&&w.c(),F(s,"class","home svelte-1pl1een"),F(t,"class","svelte-1pl1een")},m(e,v){A(e,t,v),g&&g.m(t,null),x(t,n),xe(o,t,null),x(t,i),xe(l,t,null),x(t,r),x(t,s),xe(a,s,null),x(s,c),xe(d,s,null),x(t,u),xe(f,t,null),x(t,p),xe(m,t,null),x(t,h),w&&w.m(t,null),y=!0},p(e,o){e[6]>0&&e[6]<100?g?(g.p(e,o),64&o[0]&&pe(g,1)):(g=fl(e),g.c(),pe(g,1),g.m(t,n)):g&&(ue(),me(g,1,1,(()=>{g=null})),fe());const i={};268435456&o[1]&&(i.$$scope={dirty:o,ctx:e}),a.$set(i);const l={};1&o[0]&&(l.showConfirm=e[0]),2&o[0]&&(l.isAlert=e[1]),4&o[0]&&(l.confirmTitle=e[2]),8&o[0]&&(l.confirmText=e[3]),16&o[0]&&(l.confirmLabel=e[4]),32&o[0]&&(l.cancelLabel=e[5]),m.$set(l),e[7]?w?(w.p(e,o),128&o[0]&&pe(w,1)):(w=ml(e),w.c(),pe(w,1),w.m(t,null)):w&&(ue(),me(w,1,1,(()=>{w=null})),fe())},i(e){y||(pe(g),pe(o.$$.fragment,e),pe(l.$$.fragment,e),pe(a.$$.fragment,e),pe(d.$$.fragment,e),pe(f.$$.fragment,e),pe(m.$$.fragment,e),pe(w),y=!0)},o(e){me(g),me(o.$$.fragment,e),me(l.$$.fragment,e),me(a.$$.fragment,e),me(d.$$.fragment,e),me(f.$$.fragment,e),me(m.$$.fragment,e),me(w),y=!1},d(e){e&&T(t),g&&g.d(),Se(o),Se(l),Se(a),Se(d),Se(f),Se(m),w&&w.d()}}}const yl=e=>{e.target.style.setProperty("--progress","0%")};function gl(e,t,n){let o,i,l,r,s,a,c,d,f,p,h,y,g,w,v,b,k,x,S,E,A,T,N,L,$,I,C,j,P,F,z,D,M;u(e,Le,(e=>n(22,o=e))),u(e,$e,(e=>n(23,i=e))),u(e,lt,(e=>n(24,l=e))),u(e,Ue,(e=>n(25,r=e))),u(e,it,(e=>n(26,s=e))),u(e,Fe,(e=>n(27,a=e))),u(e,Me,(e=>n(28,c=e))),u(e,ot,(e=>n(29,d=e))),u(e,Oe,(e=>n(30,f=e))),u(e,ft,(e=>n(7,p=e))),u(e,mt,(e=>n(31,h=e))),u(e,ut,(e=>n(32,y=e))),u(e,Qe,(e=>n(33,g=e))),u(e,st,(e=>n(34,w=e))),u(e,ct,(e=>n(35,v=e))),u(e,rt,(e=>n(36,b=e))),u(e,Ve,(e=>n(37,k=e))),u(e,Je,(e=>n(38,x=e))),u(e,je,(e=>n(39,S=e))),u(e,ht,(e=>n(40,E=e))),u(e,Ge,(e=>n(41,A=e))),u(e,Ye,(e=>n(42,T=e))),u(e,qe,(e=>n(43,N=e))),u(e,Be,(e=>n(44,L=e))),u(e,We,(e=>n(45,$=e))),u(e,Re,(e=>n(46,I=e))),u(e,Xe,(e=>n(47,C=e))),u(e,ze,(e=>n(48,j=e))),u(e,De,(e=>n(49,P=e))),u(e,Pe,(e=>n(50,F=e))),u(e,He,(e=>n(51,z=e))),m($e,i=Ft(),i),(async()=>{m(He,z=await Hn("exportPathIsAvailable"),z)})(),ul(),window.onload=()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-PPMY92TJCE")};const O=new Function;window.onYouTubeIframeAPIReady=O;let U=[];m(Ue,r="Getting Existing Data",r);let _=setInterval((()=>{r||m(Ue,r="Please Wait...",r)}),300);function V(){Nn().then((()=>{m(Ve,k=!1,k),En().finally((()=>{W()}))})).catch((e=>{W(),m(Ve,k=!1,k),m(Ue,r="Something went wrong...",r),console.error(e)}))}function W(){if(N){let e=!1;A?A instanceof Date&&!isNaN(A)&&(new Date).getTime()-A.getTime()>B&&(e=!0):e=!0,e&&$n().then((()=>{m(Ge,A=new Date,A),Rn(A,"lastRunnedAutoExportDate")}))}}U.push(new Promise((async(e,t)=>{let n=await Hn("lastAnimeUpdate"),o=!(n instanceof Date&&!isNaN(n));if(!o){await Hn("animeEntriesIsEmpty")&&(o=!0)}var i;o?(m(Me,c=null,c),new Promise(((e,t)=>{zn=setInterval((()=>{Ue.set("Getting Anime Entries")}),300),Ce.set(0),pn("./webapi/worker/getAnimeEntries.js").then((n=>{Ce.set(25),zn&&(clearInterval(zn),zn=null);let o=new Worker(n);Fn&&clearTimeout(Fn),o.postMessage(i),o.onmessage=({data:t})=>{void 0!==t?.status?(yn=!0,Ue.set(t.status)):(Ce.set(100),yn=!1,kt.update((e=>!e)),Fn=setTimeout((()=>{o.terminate()}),hn),e(t))},o.onerror=e=>{Ce.set(100),t(e)}})).catch((e=>{Ce.set(100),zn&&(clearInterval(zn),zn=null),Ue.set(null),Bn(),t(e)}))})).then((()=>{e()})).catch((async()=>{t()}))):e()}))),U.push(new Promise((async e=>{let t=await Hn("username");t&&m(Pe,F=t,F),e()}))),U.push(new Promise((async e=>{var t;await Hn("animeFranchisesLength")<1?new Promise(((e,n)=>{Mn=setInterval((()=>{zn||Ue.set("Getting Anime Franchise")}),300),Ce.set(0),pn("./webapi/worker/getAnimeFranchises.js").then((o=>{Ce.set(25),Mn&&(clearInterval(Mn),Mn=null);let i=new Worker(o);Dn&&clearTimeout(Dn),i.postMessage(t),i.onmessage=({data:t})=>{void 0!==t?.status?(yn=!0,Ue.set(t.status)):(Ce.set(100),kt.update((e=>!e)),yn=!1,Dn=setTimeout((()=>{i.terminate()}),hn),e(t))},i.onerror=e=>{Ce.set(100),n(e)}})).catch((e=>{Ce.set(100),Mn&&(clearInterval(Mn),Mn=null),Ue.set(null),Bn(),n(e)}))})).then((()=>{e()})).catch((()=>{reject()})):e()}))),U.push(new Promise((async e=>{Vn().then((t=>{m(De,P=t.activeTagFilters,P),m(ze,j=t.filterOptions,j),e()})).catch((()=>{reject()}))}))),U.push(new Promise((async e=>{let t=await Hn("autoPlay");"boolean"==typeof t&&m(Xe,C=t,C);let n=await Hn("gridFullView")??!0;"boolean"==typeof n&&m(Qe,g=n,g),m(Fe,a=await Hn("hiddenEntries")||{},a),m(Re,I=await Hn("lastRunnedAutoUpdateDate"),I),m(Ge,A=await Hn("lastRunnedAutoExportDate"),A),m(We,$=await Hn("autoUpdate")??!1,$),m(qe,N=await Hn("autoExport")??!1,N),e()}))),Promise.all(U).then((async()=>{let e=await Hn("shouldProcessRecommendation");if(!e){await Hn("recommendedAnimeListLength")<1&&(e=!0)}new Promise((async t=>{e?kn().then((async()=>{await Rn(!1,"shouldProcessRecommendation"),t()})).catch((e=>{throw e})):t()})).then((()=>{wn().then((async e=>{m(Oe,f=e.animeLoaderWorker,f),m(ot,d="",d),e?.isNew&&(m(Me,c=e.finalAnimeList,c),m(Fe,a=e.hiddenEntries,a),m(it,s=e.numberOfNextLoadedGrid,s),m(Ue,r=null,r),V(),m(Je,x=!1,x))})).catch((e=>{throw e}))}))})).catch((async e=>{V(),m(Je,x=!1,x),m(Ue,r="Something went wrong...",r),l?.(i?{isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to restart and make sure you're running the latest version."}:{isAlert:!0,title:"Something Went Wrong",text:"App may not be working properly, you may want to refresh the page, or if not clear the cookies but backup your data first."}),console.error(e)})),Je.subscribe((async e=>{!1===e&&clearInterval(_)})),Me.subscribe((async e=>{x&&e?.length>0&&!1!==x&&m(Je,x=!1,x)})),bt.subscribe((async e=>{"boolean"!=typeof e||x||(m(ft,p=!1,p),f&&(f.terminate(),m(Oe,f=null,f)),wn().then((async e=>{m(Oe,f=e.animeLoaderWorker,f),m(ot,d="",d),e?.isNew&&(m(Me,c=e.finalAnimeList,c),m(Fe,a=e.hiddenEntries,a),m(it,s=e.numberOfNextLoadedGrid,s)),m(Ue,r=null,r)})).catch((e=>{throw e})))})),vt.subscribe((async e=>{"boolean"!=typeof e||x||(await Rn(!0,"shouldProcessRecommendation"),m(ft,p=!1,p),kn().then((async()=>{await Rn(!1,"shouldProcessRecommendation"),xt.update((e=>!e)),bt.update((e=>!e))})).catch((e=>{throw bt.update((e=>!e)),e})))})),kt.subscribe((async e=>{"boolean"!=typeof e||x||(await Rn(!0,"shouldProcessRecommendation"),kn().then((async()=>{await Rn(!1,"shouldProcessRecommendation"),xt.update((e=>!e)),St.update((e=>!e))})).catch((e=>{throw St.update((e=>!e)),e})))})),St.subscribe((async e=>{"boolean"!=typeof e||x||((v||(g?M.scrollLeft>500:window.scrollY>Math.max(0,M?.offsetTop-55)))&&c?.length?m(ft,p=!0,p):(f&&(f.terminate(),m(Oe,f=null,f)),wn().then((async e=>{m(Oe,f=e.animeLoaderWorker,f),m(ot,d="",d),e?.isNew&&(m(Me,c=e.finalAnimeList,c),m(Fe,a=e.hiddenEntries,a),m(it,s=e.numberOfNextLoadedGrid,s)),m(Ue,r=null,r)})).catch((e=>{throw e}))))})),xt.subscribe((async e=>{"boolean"!=typeof e||x||Vn()}));let B=36e5;We.subscribe((async e=>{if(!0===e){Rn(!0,"autoUpdate");let e=!1;if(I?I instanceof Date&&!isNaN(I)&&(new Date).getTime()-I.getTime()>B&&(e=!0):e=!0,e)gt.update((e=>!e)),L&&clearInterval(L),m(Be,L=setInterval((()=>{$&&gt.update((e=>!e))}),B),L);else{let e=B-((new Date).getTime()-I?.getTime())||0;setTimeout((()=>{!1!==$&&(gt.update((e=>!e)),L&&clearInterval(L),m(Be,L=setInterval((()=>{$&&gt.update((e=>!e))}),B),L))}),e)}}else!1===e&&(L&&clearInterval(L),Rn(!1,"autoUpdate"))})),gt.subscribe((e=>{"boolean"==typeof e&&!x&&navigator.onLine&&(m(Ve,k=!0,k),Nn().then((()=>{m(Ve,k=!1,k),En()})).catch((e=>{m(Ve,k=!1,k),m(Ue,r="Something went wrong...",r),console.error(e)})))})),qe.subscribe((async e=>{if(!0===e){Rn(!0,"autoExport");let e=!1;if(A?A instanceof Date&&!isNaN(A)&&(new Date).getTime()-A.getTime()>B&&(e=!0):e=!0,e)wt.update((e=>!e)),T&&clearInterval(T),m(Ye,T=setInterval((()=>{N&&wt.update((e=>!e))}),B),T);else{let e=B-((new Date).getTime()-A?.getTime())||0;setTimeout((()=>{!1!==N&&(wt.update((e=>!e)),T&&clearInterval(T),m(Ye,T=setInterval((()=>{N&&wt.update((e=>!e))}),B),T))}),e)}}else!1===e&&(T&&clearInterval(T),Rn(!1,"autoExport"))})),wt.subscribe((e=>{"boolean"!=typeof e||x||$n().then((()=>{m(Ge,A=new Date,A),Rn(A,"lastRunnedAutoExportDate")}))})),Et.subscribe((e=>{"boolean"==typeof e&&(h||m(mt,h=!0,h),E&&clearTimeout(E),m(ht,E=setTimeout((()=>{m(mt,h=!1,h)}),500),E))})),document.addEventListener("visibilitychange",(()=>{x||i||"visible"!==document.visibilityState||k||Nn({visibilityChange:!0})}));let R=!1;"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");let H,Y,G,K=()=>{m(je,S=!0,S),window.removeEventListener("wheel",K)};window.addEventListener("wheel",K),window.checkEntries=()=>{x||k||Nn({visibilityChange:!0})},window.addEventListener("popstate",(()=>{window.backPressed()})),window.backPressed=()=>{if(y&&!i)window.history.go(-1);else{if(i||window.history.pushState("visited",""),R)return le(),void n(0,R=!1);if(D&&D===document?.activeElement&&window.visualViewport.width<=750)D?.focus?.(),D?.blur?.();else{if(b)return void m(rt,b=!1,b);if(v)return void m(ct,v=!1,v);if(w)return void m(st,w=!1,w);if(window.checkOpenDropdown?.())return void window.closeDropdown?.();if(g?M.scrollLeft>500:window.scrollY>200)return g?(M.scrollTop=M.scrollTop,M.scrollLeft=M.scrollLeft,M?.children?.[0]?.scrollIntoView?.({container:M,behavior:"smooth",block:"nearest",inline:"start"})):(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"})),void window.setShouldGoBack(!0);g?(M.scrollTop=M.scrollTop,M.scrollLeft=M.scrollLeft,M?.children?.[0]?.scrollIntoView?.({container:M,behavior:"smooth",block:"nearest",inline:"start"})):(window.scrollY=window.scrollY,window.scrollX=window.scrollX,window.scrollTo({top:-9999,behavior:"smooth"})),window.setShouldGoBack(!0)}}},Qe.subscribe((async e=>{await ee(),e?M?.scrollLeft>500&&window.setShouldGoBack(!1):window?.scrollY>200&&window.setShouldGoBack(!1)})),ct.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),rt.subscribe((e=>{!0===e&&window.setShouldGoBack(!1)})),window.addEventListener("scroll",(()=>{0===window.scrollY||g||window.setShouldGoBack(!1),Et.update((e=>!e))})),window.addEventListener("resize",(()=>{})),q((()=>{D=document.getElementById("usernameInput"),M=document.getElementById("anime-grid"),M?.addEventListener("scroll",(()=>{g&&(0!==M.scrollLeft&&window.setShouldGoBack(!1),Et.update((e=>!e)))})),document.getElementById("popup-container").addEventListener("scroll",(()=>{Et.update((e=>!e))}))})),window.setShouldGoBack=e=>{if(i)try{JSBridge.setShouldGoBack(e)}catch(e){}else"visited"!==window.history.state&&window.history.pushState("visited",""),m(ut,y=e,y)},window.copyToClipBoard=e=>{if(i)try{JSBridge.copyToClipBoard(e)}catch(e){}else navigator?.clipboard?.writeText?.(e)},pt.subscribe((()=>{clearTimeout(Y),H=!0,Y=setTimeout((()=>{H=!1}),500)}));let X,J,Q,Z,te,ne,oe,ie=!1;function le(){ne?.resolve?.(!1),ne=n(1,X=n(2,J=n(3,Q=n(4,Z=n(5,te=void 0))))),n(0,R=!1)}async function re(e){if(await l({title:"List update is available",text:"Are you sure you want to refresh the list?"})){let t,n=e.target,o=n.classList;t=o.contains("list-update-container")?n.querySelector?.(".list-update-icon"):n?.closest(".list-update-container")?.querySelector?.(".list-update-icon"),oe&&clearTimeout(oe),Dt(t,"fa-spin"),f&&(f.terminate(),m(Oe,f=null,f)),wn().then((async e=>{m(ft,p=!1,p),oe=setTimeout((()=>{Mt(t,"fa-spin")}),300),m(Oe,f=e.animeLoaderWorker,f),m(ot,d="",d),e?.isNew&&(m(Me,c=e.finalAnimeList,c),m(Fe,a=e.hiddenEntries,a),m(it,s=e.numberOfNextLoadedGrid,s)),m(Ue,r=null,r)})).catch((e=>{throw e}))}}if(document.addEventListener("pointerdown",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ie=!0,G&&clearTimeout(G),G=setTimeout((()=>{let e=t.getAttribute("copy-value");e&&!h&&ie&&!H&&(t.style.pointerEvents="none",setTimeout((()=>{t.style.pointerEvents=""}),500),window.copyToClipBoard(e))}),500))})),document.addEventListener("pointerup",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ie=!1,G&&clearTimeout(G))})),document.addEventListener("pointercancel",(e=>{if("mouse"===e.pointerType)return;let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(ie=!1,G&&clearTimeout(G))})),m(lt,l=window.confirmPromise=async e=>new Promise((t=>{n(1,X=e?.isAlert||!1),n(2,J=e?.title||(X?"Heads Up":"Confirmation")),n(3,Q=("string"==typeof e?e:e?.text)||"Are you sure you want to continue"),n(4,Z=e?.confirmLabel||"OK"),n(5,te=e?.cancelLabel||"CANCEL"),n(0,R=!0),ne={resolve:t}})),l),window.updateAppAlert=async()=>{if(await(l?.({title:"New updates are available",text:"You may want to download the new version.",confirmLabel:"DOWNLOAD"})))try{JSBridge.downloadUpdate()}catch(e){window.open("https://github.com/u-Kuro/Kanshi.Anime-Recommendation/raw/main/Kanshi.apk","_blank")}},window.appIsUpToDate=()=>{l?.({isAlert:!0,text:"There are currently no updates available."})},i&&navigator.onLine)try{JSBridge.checkAppID(o,!1)}catch(e){window.updateAppAlert?.()}let se,ae=0;Ce.subscribe((e=>{cancelAnimationFrame(se),se=requestAnimationFrame((()=>{n(6,ae=e)}))}));return[R,X,J,Q,Z,te,ae,p,function(){ne?.resolve?.(!0),ne=n(1,X=n(2,J=n(3,Q=n(4,Z=n(5,te=void 0))))),n(0,R=!1)},le,re,e=>"Enter"===e.key&&re(e)]}var wl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};window.FontAwesomeKitConfig={asyncLoading:{enabled:!1},autoA11y:{enabled:!0},baseUrl:"https://ka-f.fontawesome.com",baseUrlKit:"https://kit.fontawesome.com",detectConflictsUntil:null,iconUploads:{},id:76794169,license:"free",method:"css",minify:{enabled:!0},token:"5a5fa257cb",v4FontFaceShim:{enabled:!0},v4shim:{enabled:!0},v5FontFaceShim:{enabled:!0},version:"6.2.0"},function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)),o}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){var n,i;n=e,i=o[t],t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){var n=t&&t.addOn||"",o=(n=t&&t.baseFilename||e.license+n,t&&t.minify?".min":""),i=t&&t.fileSuffix||e.method;return t=t&&t.subdir||e.method,e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/"+t+"/"+n+o+"."+i}function l(e,t){t="."+Array.prototype.join.call(t||["fa"],",."),t=e.querySelectorAll(t),Array.prototype.forEach.call(t,(function(t){var n=t.getAttribute("title"),o=(t.setAttribute("aria-hidden","true"),!t.nextElementSibling||!t.nextElementSibling.classList.contains("sr-only"));n&&o&&((o=e.createElement("span")).innerHTML=n,o.classList.add("sr-only"),t.parentNode.insertBefore(o,t.nextSibling))}))}function r(){}var s,a=void 0!==wl&&void 0!==wl.process&&"function"==typeof wl.process.emit,c="undefined"==typeof setImmediate?setTimeout:setImmediate,d=[];function u(){for(var e=0;e<d.length;e++)d[e][0](d[e][1]);s=!(d=[])}function f(e,t){d.push([e,t]),s||(s=!0,c(u,0))}function p(e){var t=(n=e.owner)._state,n=n._data,o=e[t],i=e.then;if("function"==typeof o){t="fulfilled";try{n=o(n)}catch(e){g(i,e)}}m(i,n)||("fulfilled"===t&&h(i,n),"rejected"===t&&g(i,n))}function m(t,n){var o;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===e(n))){var i=n.then;if("function"==typeof i)return i.call(n,(function(e){o||(o=!0,(n===e?y:h)(t,e))}),(function(e){o||(o=!0,g(t,e))})),1}}catch(i){return o||g(t,i),1}}function h(e,t){e!==t&&m(e,t)||y(e,t)}function y(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(v,e))}function g(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(b,e))}function w(e){e._then=e._then.forEach(p)}function v(e){e._state="fulfilled",w(e)}function b(e){e._state="rejected",w(e),!e._handled&&a&&wl.process.emit("unhandledRejection",e._data,e)}function k(e){wl.process.emit("rejectionHandled",e)}function x(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof x==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[];var t=e,n=this;function o(e){g(n,e)}try{t((function(e){h(n,e)}),o)}catch(t){o(t)}}x.prototype={constructor:x,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(r),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&a&&f(k,this)),"fulfilled"===this._state||"rejected"===this._state?f(p,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},x.all=function(e){if(Array.isArray(e))return new x((function(t,n){for(var o,i=[],l=0,r=0;r<e.length;r++)(o=e[r])&&"function"==typeof o.then?o.then(function(e){return l++,function(n){i[e]=n,--l||t(i)}}(r),n):i[r]=o;l||t(i)}));throw new TypeError("You must pass an array to Promise.all().")},x.race=function(e){if(Array.isArray(e))return new x((function(t,n){for(var o,i=0;i<e.length;i++)(o=e[i])&&"function"==typeof o.then?o.then(t,n):t(o)}));throw new TypeError("You must pass an array to Promise.race().")},x.resolve=function(t){return t&&"object"===e(t)&&t.constructor===x?t:new x((function(e){e(t)}))},x.reject=function(e){return new x((function(t,n){n(e)}))};var S,E,A,T,N="function"==typeof Promise?Promise:x;function L(e,t){var n=t.fetch,o=t.XMLHttpRequest,i=(t=t.token,e);return"URLSearchParams"in window?(i=new URL(e)).searchParams.set("token",t):i=i+"?token="+encodeURIComponent(t),i=i.toString(),new N((function(e,t){var l;"function"==typeof n?n(i,{mode:"cors",cache:"default"}).then((function(e){if(e.ok)return e.text();throw new Error("")})).then((function(t){e(t)})).catch(t):"function"==typeof o?((l=new o).addEventListener("loadend",(function(){this.responseText?e(this.responseText):t(new Error(""))})),["abort","error","timeout"].map((function(e){l.addEventListener(e,(function(){t(new Error(""))}))})),l.open("GET",i),l.send()):t(new Error(""))}))}function $(e,t,n){var i=e;return[[/(url\("?)\.\.\/\.\.\/\.\./g,function(e,n){return"".concat(n).concat(t)}],[/(url\("?)\.\.\/webfonts/g,function(e,o){return"".concat(o).concat(t,"/releases/v").concat(n,"/webfonts")}],[/(url\("?)https:\/\/kit-free([^.])*\.fontawesome\.com/g,function(e,n){return"".concat(n).concat(t)}]].forEach((function(e){t=2,e=function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,i=!1,l=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){i=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}return n}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t=e[0];e=e[1],i=i.replace(t,e)})),i}function I(e,t,o){o=2<arguments.length&&void 0!==o?o:function(){};var r=t.document||r,s=(r=l.bind(l,r,["fa","fab","fas","far","fal","fad","fak"]),0<Object.keys(e.iconUploads||{}).length);return e.autoA11y.enabled&&o(r),o=[{id:"fa-main",addOn:void 0}],e.v4shim&&e.v4shim.enabled&&o.push({id:"fa-v4-shims",addOn:"-v4-shims"}),e.v5FontFaceShim&&e.v5FontFaceShim.enabled&&o.push({id:"fa-v5-font-face",addOn:"-v5-font-face"}),e.v4FontFaceShim&&e.v4FontFaceShim.enabled&&o.push({id:"fa-v4-font-face",addOn:"-v4-font-face"}),s&&o.push({id:"fa-kit-upload",customCss:!0}),r=o.map((function(o){return new N((function(l,r){L(o.customCss?e.baseUrlKit+"/"+e.token+"/"+e.id+"/kit-upload.css":i(e,{addOn:o.addOn,minify:e.minify.enabled}),t).then((function(i){var r,s,a;l((r=n(n({},t),{},{baseUrl:e.baseUrl,version:e.version,id:o.id,contentFilter:function(e,t){return $(e,t.baseUrl,t.version)}}),s=r.contentFilter||function(e,t){return e},a=document.createElement("style"),s=document.createTextNode(s(i,r)),a.appendChild(s),a.media="all",r.id&&a.setAttribute("id",r.id),r&&r.detectingConflicts&&r.detectionIgnoreAttr&&a.setAttributeNode(document.createAttribute(r.detectionIgnoreAttr)),a))})).catch(r)}))})),N.all(r)}function C(e,t){t.autoA11y=e.autoA11y.enabled,"pro"===e.license&&(t.autoFetchSvg=!0,t.fetchSvgFrom=e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/svgs",t.fetchUploadedSvgFrom=e.uploadsUrl);var o=[];return e.v4shim.enabled&&o.push(new N((function(o,l){L(i(e,{addOn:"-v4-shims",minify:e.minify.enabled}),t).then((function(e){o(j(e,n(n({},t),{},{id:"fa-v4-shims"})))})).catch(l)}))),o.push(new N((function(o,l){L(i(e,{minify:e.minify.enabled}),t).then((function(e){var i,l,r;e=j(e,n(n({},t),{},{id:"fa-main"})),o((l=(i=t)&&void 0!==i.autoFetchSvg?i.autoFetchSvg:void 0,void 0!==(r=i&&void 0!==i.autoA11y?i.autoA11y:void 0)&&e.setAttribute("data-auto-a11y",r?"true":"false"),l&&(e.setAttributeNode(document.createAttribute("data-auto-fetch-svg")),e.setAttribute("data-fetch-svg-from",i.fetchSvgFrom),e.setAttribute("data-fetch-uploaded-svg-from",i.fetchUploadedSvgFrom)),e))})).catch(l)}))),N.all(o)}function j(e,t){var n=document.createElement("SCRIPT");return e=document.createTextNode(e),n.appendChild(e),n.referrerPolicy="strict-origin",t.id&&n.setAttribute("id",t.id),t&&t.detectingConflicts&&t.detectionIgnoreAttr&&n.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),n}function P(e){var t,n=[],o=document,i=(o.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState);i||o.addEventListener("DOMContentLoaded",t=function(){for(o.removeEventListener("DOMContentLoaded",t),i=1;t=n.shift();)t()}),i?setTimeout(e,0):n.push(e)}try{window.FontAwesomeKitConfig&&(S=window.FontAwesomeKitConfig,E={detectingConflicts:S.detectConflictsUntil&&new Date<=new Date(S.detectConflictsUntil),detectionIgnoreAttr:"data-fa-detection-ignore",fetch:window.fetch,token:S.token,XMLHttpRequest:window.XMLHttpRequest,document:document},A=document.currentScript,T=A?A.parentElement:document.head,function(e,t){return t=1<arguments.length&&void 0!==t?t:{},"js"===(e=0<arguments.length&&void 0!==e?e:{}).method?C(e,t):"css"===e.method?I(e,t,(function(e){P(e),"undefined"!=typeof MutationObserver&&new MutationObserver(e).observe(document,{childList:!0,subtree:!0})})):void 0}(S,E).then((function(e){e.map((function(e){try{T.insertBefore(e,A?A.nextSibling:null)}catch(t){T.appendChild(e)}})),E.detectingConflicts&&A&&P((function(){A.setAttributeNode(document.createAttribute(E.detectionIgnoreAttr)),e=S,n=E,t=document.createElement("script"),n.detectionIgnoreAttr&&t.setAttributeNode(document.createAttribute(n.detectionIgnoreAttr)),t.src=i(e,{baseFilename:"conflict-detection",fileSuffix:"js",subdir:"js",minify:e.minify.enabled});var e,t,n=t;document.body.appendChild(n)}))})).catch((function(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))})))}catch(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))}}();return new class extends Ae{constructor(e){super(),Ee(this,e,gl,hl,r,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
