var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(n)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s;function a(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function c(t,n,o){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function u(e){return null==e?"":e}function d(e,t,n){return e.set(n),t}const f="undefined"!=typeof window;let p=f?()=>window.performance.now():()=>Date.now(),m=f?e=>requestAnimationFrame(e):e;const h=new Set;function v(e){h.forEach((t=>{t.c(e)||(h.delete(t),t.f())})),0!==h.size&&m(v)}function y(e){let t;return 0===h.size&&m(v),{promise:new Promise((n=>{h.add(t={c:e,f:n})})),abort(){h.delete(t)}}}function g(e,t){e.appendChild(t)}function w(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function b(e){const t=A("style");return function(e,t){g(e.head||e,t),t.sheet}(w(e),t),t.sheet}function x(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function k(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function A(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function $(){return E(" ")}function N(){return E("")}function T(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function C(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function I(e,t){t=""+t,e.data!==t&&(e.data=t)}function L(e,t){e.value=null==t?"":t}function F(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}const M=new Map;let q,D=0;function _(e,t,n,o,i,r,l,s=0){const a=16.666/o;let c="{\n";for(let e=0;e<=1;e+=a){const o=t+(n-t)*r(e);c+=100*e+`%{${l(o,1-o)}}\n`}const u=c+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,f=w(e),{stylesheet:p,rules:m}=M.get(f)||function(e,t){const n={stylesheet:b(t),rules:{}};return M.set(e,n),n}(f,e);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${i}ms 1 both`,D+=1,d}function P(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),D-=i,D||m((()=>{D||(M.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&S(t)})),M.clear())})))}function O(e){q=e}function j(){if(!q)throw new Error("Function called outside component initialization");return q}function U(e){j().$$.on_mount.push(e)}const R=[],H=[];let B=[];const W=[],V=Promise.resolve();let z=!1;function K(){z||(z=!0,V.then(Z))}function Y(){return K(),V}function G(e){B.push(e)}const J=new Set;let X,Q=0;function Z(){if(0!==Q)return;const e=q;do{try{for(;Q<R.length;){const e=R[Q];Q++,O(e),ee(e.$$)}}catch(e){throw R.length=0,Q=0,e}for(O(null),R.length=0,Q=0;H.length;)H.pop()();for(let e=0;e<B.length;e+=1){const t=B[e];J.has(t)||(J.add(t),t())}B.length=0}while(R.length);for(;W.length;)W.pop()();z=!1,J.clear(),O(e)}function ee(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}function te(){return X||(X=Promise.resolve(),X.then((()=>{X=null}))),X}function ne(e,t,n){e.dispatchEvent(function(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}(`${t?"intro":"outro"}${n}`))}const oe=new Set;let ie;function re(){ie={r:0,c:[],p:ie}}function le(){ie.r||i(ie.c),ie=ie.p}function se(e,t){e&&e.i&&(oe.delete(e),e.i(t))}function ae(e,t,n,o){if(e&&e.o){if(oe.has(e))return;oe.add(e),ie.c.push((()=>{oe.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const ce={duration:0};function ue(n,o,l,s){const a={direction:"both"};let c=o(n,l,a),u=s?0:1,d=null,f=null,m=null;function h(){m&&P(n,m)}function v(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(o){const{delay:r=0,duration:l=300,easing:s=t,tick:a=e,css:g}=c||ce,w={start:p()+r,b:o};o||(w.group=ie,ie.r+=1),d||f?f=w:(g&&(h(),m=_(n,u,o,l,r,s,g)),o&&a(0,1),d=v(w,l),G((()=>ne(n,o,"start"))),y((e=>{if(f&&e>f.start&&(d=v(f,l),f=null,ne(n,d.b,"start"),g&&(h(),m=_(n,u,d.b,d.duration,0,s,c.css))),d)if(e>=d.end)a(u=d.b,1-u),ne(n,d.b,"end"),f||(d.b?h():--d.group.r||i(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*s(t/d.duration),a(u,1-u)}return!(!d&&!f)})))}return{run(e){r(c)?te().then((()=>{c=c(a),g(e)})):g(e)},end(){h(),d=f=null}}}function de(e,t){e.d(1),t.delete(e.key)}function fe(e,t,n,o,r,l,s,a,c,u,d,f){let p=e.length,m=l.length,h=p;const v={};for(;h--;)v[e[h].key]=h;const y=[],g=new Map,w=new Map,b=[];for(h=m;h--;){const e=f(r,l,h),i=n(e);let a=s.get(i);a?o&&b.push((()=>a.p(e,t))):(a=u(i,e),a.c()),g.set(i,y[h]=a),i in v&&w.set(i,Math.abs(h-v[i]))}const x=new Set,S=new Set;function k(e){se(e,1),e.m(a,d),s.set(e.key,e),d=e.first,m--}for(;p&&m;){const t=y[m-1],n=e[p-1],o=t.key,i=n.key;t===n?(d=t.first,p--,m--):g.has(i)?!s.has(o)||x.has(o)?k(t):S.has(i)?p--:w.get(o)>w.get(i)?(S.add(o),k(t)):(x.add(i),p--):(c(n,s),p--)}for(;p--;){const t=e[p];g.has(t.key)||c(t,s)}for(;m;)k(y[m-1]);return i(b),y}function pe(e){e&&e.c()}function me(e,t,o,l){const{fragment:s,after_update:a}=e.$$;s&&s.m(t,o),l||G((()=>{const t=e.$$.on_mount.map(n).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),a.forEach(G)}function he(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];B.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),B=t}(n.after_update),i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ve(t,n,r,l,s,a,c,u=[-1]){const d=q;O(t);const f=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=r?r(t,n.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),p&&function(e,t){-1===e.$$.dirty[0]&&(R.push(e),K(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(S)}else f.fragment&&f.fragment.c();n.intro&&se(t.$$.fragment),me(t,n.target,n.anchor,n.customElement),Z()}O(d)}class ye{$destroy(){he(this,1),this.$destroy=e}$on(t,n){if(!r(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ge=[];function we(t,n=e){let o;const i=new Set;function r(e){if(l(t,e)&&(t=e,o)){const e=!ge.length;for(const e of i)e[1](),ge.push(e,t);if(e){for(let e=0;e<ge.length;e+=2)ge[e][0](ge[e+1]);ge.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(l,s=e){const a=[l,s];return i.add(a),1===i.size&&(o=n(r)||e),l(t),()=>{i.delete(a),0===i.size&&o&&(o(),o=null)}}}}const be=we(null),xe=we(null),Se=we(null),ke=we(null),Ae=we(null),Ee=we(null),$e=we(null),Ne=we(null),Te=we(null),Ce=we(null),Ie=we(null),Le=we(null),Fe=we(null),Me=we(null),qe=we(null),De=we(null),_e=we([]),Pe=we(null),Oe=we(!0),je=we(null),Ue=we(""),Re=we(null),He=we(!1),Be=we(!1),We=we(null),Ve=we(!1),ze=we(null),Ke=we(!0),Ye=we(null),Ge=we(null),Je=we(null),Xe=we(null),Qe=we(null),Ze=we(null),et=we(null),tt=we(null),nt=e=>"[object Object]"===Object.prototype.toString.call(e),ot=e=>{for(const t in e)return!1;return!0};function it(e,t,n=.5){try{"string"==typeof e&&(e=document.querySelector(parentSelector));var o=e.querySelectorAll(t),i=null,r=0;return o.forEach((t=>{var o=e.getBoundingClientRect(),l=t.getBoundingClientRect(),s=(Math.min(l.bottom,o.bottom)-Math.max(l.top,o.top))/l.height;s>=n&&s>r&&(r=s,i=t)})),i}catch(e){return void console.error(e)}}const rt=e=>{try{return Array.from(e.parentNode.children).indexOf(e)}catch(e){return}},lt=(e,t,n="top",o,i=0)=>{try{let r;if(e===window)r=t.offsetTop;else if("string"==typeof e&&(e=document.querySelector(e)),"string"==typeof t&&(t=document.querySelector(t)),"bottom"===n)r=t.offsetTop+t.offsetHeight-e.offsetHeight;else{let n=t.getBoundingClientRect(),o=e.getBoundingClientRect();r=n.top-o.top+e.scrollTop}e===window?"smooth"===o?window.scrollTo({top:r+i,behavior:"smooth"}):window.scrollTo({top:r+i}):"smooth"===o?e.scrollBy({top:r+i,behavior:"smooth"}):e.scrollTop=r+i}catch(e){return void console.error(e)}},st=(e,t=2)=>{if("number"==typeof e){const n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,minimumFractionDigits:0,notation:"compact",compactDisplay:"short"});return Math.abs(e)>=1e3?n.format(e):Math.abs(e)<.01?e.toExponential(0):e.toFixed(t)||e.toLocaleString("en-US",{maximumFractionDigits:t})}return null},at=(e,t)=>"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase(),ct=(e,t)=>{let n=Math.max(e.selectionStart-1||0,0);e.value=t,e.setSelectionRange(n,n)},ut=(e,t="xy")=>{var n,o,i,r,l;let s=s=>{i&&(t.toLowerCase().includes("y")&&(e.scrollTop=n-s.pageY+l),t.toLowerCase().includes("x")&&(e.scrollLeft=o-s.pageX+r))},a=s=>{t.toLowerCase().includes("y")&&(n=s.pageY,l=e.scrollTop),t.toLowerCase().includes("x")&&(o=s.pageX,r=e.scrollLeft),i=!0},c=()=>{i=!1};return e.addEventListener("pointermove",s),e.addEventListener("pointerdown",a),window.addEventListener("pointerup",c),window.addEventListener("pointercancel",c),()=>{e.removeEventListener("pointermove",s),e.removeEventListener("pointerdown",a),window.removeEventListener("pointerup",c),window.removeEventListener("pointercancel",c)}},dt=()=>{try{return JSBridge.exportJSON,!0}catch(e){return!1}};let ft;function pt(e,t,n){const o=e.slice();return o[22]=t[n],o}function mt(e,t,n){const o=e.slice();return o[22]=t[n],o}function ht(e,t,n){const o=e.slice();return o[25]=t[n],o[26]=t,o[27]=n,o}function vt(t){let n;return{c(){n=A("div"),n.textContent="No Results",C(n,"class","empty svelte-2prx2w")},m(e,t){x(e,n,t)},p:e,d(e){e&&S(n)}}}function yt(t){let n,o=Array($t),i=[];for(let e=0;e<o.length;e+=1)i[e]=wt(pt(t,o,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=N()},m(e,t){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,t);x(e,n,t)},p:e,d(e){k(i,e),e&&S(n)}}}function gt(e){let t,n,o=[],i=new Map,r=e[2]||[];const l=e=>e[25].id;for(let t=0;t<r.length;t+=1){let n=ht(e,r,t),s=l(n);i.set(s,o[t]=St(s,n))}let s=e[2]?.length&&!e[0]&&kt(e);return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=$(),s&&s.c(),n=N()},m(e,i){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,i);x(e,t,i),s&&s.m(e,i),x(e,n,i)},p(e,a){510&a&&(r=e[2]||[],o=fe(o,a,l,1,e,r,i,t.parentNode,de,St,t,ht)),e[2]?.length&&!e[0]?s?s.p(e,a):(s=kt(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&S(t),s&&s.d(e),e&&S(n)}}}function wt(t){let n,o,i,r;return{c(){n=A("div"),o=A("div"),i=A("img"),r=$(),C(i,"class","image-grid__card-thumb skeleton svelte-2prx2w"),C(i,"alt",""),F(i,"opacity","0"),C(o,"class","shimmer svelte-2prx2w"),C(n,"class","image-grid__card skeleton svelte-2prx2w")},m(e,t){x(e,n,t),g(n,o),g(o,i),g(n,r)},p:e,d(e){e&&S(n)}}}function bt(e){let t,n=(st(e[25].weightedScore)||"N/A")+"";return{c(){t=E(n)},m(e,n){x(e,t,n)},p(e,o){4&o&&n!==(n=(st(e[25].weightedScore)||"N/A")+"")&&I(t,n)},d(e){e&&S(t)}}}function xt(e){let t,n=(e[7](e[25])||"N/A")+"";return{c(){t=E(n)},m(e,n){x(e,t,n)},p(e,o){4&o&&n!==(n=(e[7](e[25])||"N/A")+"")&&I(t,n)},d(e){e&&S(t)}}}function St(e,t){let n,o,l,s,c,d,f,p,m,h,v,y,w,b,k,N,L,M,q,D,_,P,O,j,U=(t[25].title||"N/A")+"",R=`${t[25].format||"N/A"}${t[25].episodes?" ["+t[25].episodes+"]":""}`,H=t[26],B=t[27];function W(e,t){return e[1]?xt:bt}let V=W(t),z=V(t);const K=()=>t[9](n,H,B),Y=()=>t[9](null,H,B);return{key:e,first:null,c(){n=A("div"),o=A("div"),l=A("img"),c=$(),d=A("span"),f=A("span"),p=E(U),m=$(),h=A("span"),v=A("div"),y=A("i"),b=$(),k=E(R),N=$(),L=A("div"),M=A("i"),D=$(),z.c(),C(l,"class","image-grid__card-thumb svelte-2prx2w"),C(l,"alt","anime-cover"),a(l.src,s=t[25].coverImageUrl)||C(l,"src",s),F(l,"opacity","0"),C(o,"class","shimmer svelte-2prx2w"),C(f,"class","title svelte-2prx2w"),C(y,"class",w=u(`${t[8](t[25].userStatus)}-color fa-solid fa-circle`)+" svelte-2prx2w"),C(v,"class","brief-info svelte-2prx2w"),C(M,"class",q=u(`${Nt(t[25])}-color fa-solid fa-star`)+" svelte-2prx2w"),C(L,"class","brief-info svelte-2prx2w"),C(h,"class","brief-info svelte-2prx2w"),C(d,"class","image-grid__card-title copy svelte-2prx2w"),C(d,"copy-value",_=t[25].title||""),C(n,"class","image-grid__card svelte-2prx2w"),C(n,"title",P=t[6](t[25])),this.first=n},m(e,i){x(e,n,i),g(n,o),g(o,l),g(n,c),g(n,d),g(d,f),g(f,p),g(d,m),g(d,h),g(h,v),g(v,y),g(v,b),g(v,k),g(h,N),g(h,L),g(L,M),g(L,D),z.m(L,null),K(),O||(j=[T(l,"load",Tt),T(l,"click",(function(){r(t[3](t[27]))&&t[3](t[27]).apply(this,arguments)})),T(l,"pointerdown",(function(){r(t[4](t[27]))&&t[4](t[27]).apply(this,arguments)})),T(l,"pointerup",t[5]),T(l,"pointercancel",t[5]),T(l,"keydown",(function(){r(t[3](t[27]))&&t[3](t[27]).apply(this,arguments)})),T(d,"click",(function(){r(t[3](t[27]))&&t[3](t[27]).apply(this,arguments)})),T(d,"keydown",(function(){r(t[3](t[27]))&&t[3](t[27]).apply(this,arguments)}))],O=!0)},p(e,o){t=e,4&o&&!a(l.src,s=t[25].coverImageUrl)&&C(l,"src",s),4&o&&U!==(U=(t[25].title||"N/A")+"")&&I(p,U),4&o&&w!==(w=u(`${t[8](t[25].userStatus)}-color fa-solid fa-circle`)+" svelte-2prx2w")&&C(y,"class",w),4&o&&R!==(R=`${t[25].format||"N/A"}${t[25].episodes?" ["+t[25].episodes+"]":""}`)&&I(k,R),4&o&&q!==(q=u(`${Nt(t[25])}-color fa-solid fa-star`)+" svelte-2prx2w")&&C(M,"class",q),V===(V=W(t))&&z?z.p(t,o):(z.d(1),z=V(t),z&&(z.c(),z.m(L,null))),4&o&&_!==(_=t[25].title||"")&&C(d,"copy-value",_),4&o&&P!==(P=t[6](t[25]))&&C(n,"title",P),H===t[26]&&B===t[27]||(Y(),H=t[26],B=t[27],K())},d(e){e&&S(n),z.d(),Y(),O=!1,i(j)}}}function kt(t){let n,o=Array(1),i=[];for(let e=0;e<o.length;e+=1)i[e]=At(mt(t,o,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=N()},m(e,t){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,t);x(e,n,t)},p:e,d(e){k(i,e),e&&S(n)}}}function At(t){let n,o,i,r;return{c(){n=A("div"),o=A("div"),i=A("img"),r=$(),C(i,"class","image-grid__card-thumb skeleton svelte-2prx2w"),C(i,"alt",""),F(i,"opacity","0"),C(o,"class","shimmer svelte-2prx2w"),C(n,"class","image-grid__card skeleton svelte-2prx2w")},m(e,t){x(e,n,t),g(n,o),g(o,i),g(n,r)},p:e,d(e){e&&S(n)}}}function Et(t){let n,o;function i(e,t){return e[2]?.length?gt:e[2]?vt:yt}let r=i(t),l=r(t);return{c(){n=A("main"),o=A("div"),l.c(),C(o,"id","anime-grid"),C(o,"class","image-grid svelte-2prx2w"),C(n,"class","svelte-2prx2w")},m(e,t){x(e,n,t),g(n,o),l.m(o,null)},p(e,[t]){r===(r=i(e))&&l?l.p(e,t):(l.d(1),l=r(e),l&&(l.c(),l.m(o,null)))},i:e,o:e,d(e){e&&S(n),l.d()}}}let $t=20;function Nt({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":o<t?"purple":o<n?"orange":e?.semiCaution?.length?"teal":"green"}const Tt=e=>e.target.style.opacity=1;function Ct(e,t,n){let o,i,r,l,s,a,u,f,p;c(e,Ae,(e=>n(1,o=e))),c(e,Be,(e=>n(14,i=e))),c(e,We,(e=>n(15,r=e))),c(e,Ve,(e=>n(16,l=e))),c(e,ze,(e=>n(17,s=e))),c(e,Ne,(e=>n(18,a=e))),c(e,je,(e=>n(19,u=e))),c(e,$e,(e=>n(2,f=e))),c(e,Te,(e=>n(20,p=e)));let m,h,v,y=!1;return Ne.subscribe((e=>{e instanceof Worker&&(e.onmessage=async({data:e})=>{await Y(),void 0!==e?.status?d(Te,p=e.status,p):e.finalAnimeList instanceof Array&&f instanceof Array?!0===e.isNew?(h=e.finalAnimeList,d($e,f=h,f)):!1===e.isNew&&(h=h.concat(e.finalAnimeList),d($e,f=h,f),e.isLast&&(n(0,y=!0),u&&(u.disconnect(),d(je,u=null,u)))):!0===e.isRemoved&&"number"==typeof e.removedID&&(h=h.filter((({id:t})=>t!==e.removedID)),d($e,f=h,f))},e.onerror=e=>{console.error(e)})})),$e.subscribe((e=>{e||(h=null),!h&&e instanceof Array&&(h=e),e instanceof Array&&e.length?(u&&(u.disconnect(),d(je,u=null,u)),f.length&&!y&&(async()=>{d(je,u=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(t.unobserve(e.target),m&&clearTimeout(m),m=setTimeout((()=>{a.postMessage({loadMore:!0})}),1e3))}))}),{root:null,rootMargin:"100%",threshold:0}),u),await Y();try{u.observe(f[f.length-1].gridElement)}catch(e){}})()):u&&(u.disconnect(),d(je,u=null,u))})),Ue.subscribe((async e=>{"string"==typeof e&&a instanceof Worker&&(n(0,y=!1),a.postMessage({filterKeyword:e}))})),[y,o,f,function(e){d(ze,s=e,s),d(Ve,l=!0,l)},function(e){v&&clearTimeout(v),v=setTimeout((()=>{d(We,r=e,r),d(Be,i=!0,i)}),500)},function(){v&&clearTimeout(v)},function({contentCaution:e,favoriteContents:t,meanScoreAll:n,meanScoreAbove:o,score:i}){let r=[];t?.forEach((e=>{nt(e)?r.push(Object.keys(e)[0]):"string"==typeof e&&r.push(e)}));let l=(e?.caution||[]).concat(e?.semiCaution||[]);i<n?l.push(`Very Low Score (mean: ${st(n)})`):i<o&&l.push(`Low Score (mean: ${st(o)})`);let s="";return r.length&&(s+="Favorite Contents: "+r.join(", ")||""),l.length&&(s+="\n\nContent Cautions: "+l.join(", ")),s},function({weightedScore:e,score:t,averageScore:n,userScore:i}){let r=o?.sortFilter.filter((({sortType:e})=>"none"!==e))?.[0]?.sortName;return"score"===r?st(t):"user score"===r?i:"average score"===r?n:st(e)},function(e){return at(e,"completed")?"green":at(e,"current")||at(e,"repeating")?"blue":at(e,"planning")?"orange":at(e,"paused")?"peach":at(e,"dropped")?"red":"lightgrey"},function(e,t,n){H[e?"unshift":"push"]((()=>{t[n].gridElement=e}))}]}let It,Lt=1e3,Ft=!1;const Mt=e=>(Ft=!0,new Promise(((t,n)=>{It&&It.terminate(),It=new Worker("./webapi/worker/animeLoader.js"),It.postMessage(e),It.onmessage=({data:e})=>{void 0!==e?.status?(Ft=!0,Te.set(e.status)):e?.isNew&&(Ft=!1,It.onmessage=null,t(Object.assign({},e,{animeLoaderWorker:It})))},It.onerror=e=>{n(e)}})));let qt,Dt;const _t=e=>(Ft=!0,new Promise(((t,n)=>{Dt&&Dt.terminate(),Dt=new Worker("./webapi/worker/processRecommendedAnimeList.js"),qt&&clearTimeout(qt),Dt.postMessage(e),Dt.onmessage=({data:e})=>{void 0!==e?.status?(Ft=!0,Te.set(e.status)):(Ft=!1,qt=setTimeout((()=>{Dt.terminate()}),Lt),Ze.update((e=>!e)),et.update((e=>!e)))},Dt.onerror=e=>{n(e)}})));let Pt,Ot;const jt=e=>new Promise(((t,n)=>{Ot&&Ot.terminate(),Ot=new Worker("./webapi/worker/requestAnimeEntries.js"),Pt&&clearTimeout(Pt),Ot.postMessage(e),Ot.onmessage=({data:e})=>{void 0!==e?.status?Ft||Te.set(e.status):void 0!==e?.updateRecommendationList?Qe.update((e=>!e)):(Pt=setTimeout((()=>{Ot.terminate()}),Lt),t(e))},Ot.onerror=e=>{n(e)}}));let Ut,Rt;const Ht=e=>new Promise(((t,n)=>{Rt&&Rt.terminate(),Rt=new Worker("./webapi/worker/requestUserEntries.js"),Ut&&clearTimeout(Ut),Rt.postMessage(e),Rt.onmessage=({data:e})=>{void 0!==e?.status?Ft||Te.set(e.status):void 0!==e?.updateRecommendationList?Qe.update((e=>!e)):(Ut=setTimeout((()=>{Rt.terminate()}),Lt),t(e))},Rt.onerror=e=>{n(e)}}));let Bt;const Wt=e=>new Promise(((e,t)=>{Bt&&Bt.terminate(),Bt=new Worker("./webapi/worker/exportUserData.js"),dt()?Bt.postMessage("android"):Bt.postMessage("browser"),Bt.onmessage=({data:t})=>{if(void 0!==t?.status)Ft=!0,Te.set(t.status);else if(dt()){Ft=!1;let n=t.chunk,o=t.state;if(0===o)JSBridge.exportJSON("",0,"");else if(1===o)JSBridge.exportJSON(n,1,"");else if(2===o){let o=t.username??null;JSBridge.exportJSON(n,2,`Kanshi.${o.toLowerCase()||"Backup"}.json`),Bt.terminate(),e(t)}}else{Ft=!1;let n=t.username??null;((e,t)=>{ft&&setTimeout((()=>URL.revokeObjectURL(ft)),0),ft=e;const n=document.createElement("a");n.href=e,n.download=t,n.click()})(t.url,`Kanshi.${n.toLowerCase()||"Backup"}.json`),e(t)}},Bt.onerror=e=>{t(e)}}));let Vt,zt;const Kt=e=>{let t=new Worker("./webapi/worker/getIDBdata.js");return new Promise(((n,o)=>{t.postMessage({name:e}),t.onmessage=({data:e})=>{void 0!==e?.status?Te.set(e.status):(t.terminate(),n(e))},t.onerror=e=>{o(e)}}))},Yt=(e,t)=>new Promise(((n,o)=>{let i=new Worker("./webapi/worker/saveIDBdata.js");i.onmessage=({data:e})=>{void 0!==e?.status?Te.set(e.status):(setTimeout((()=>{i.terminate(),i=null}),Lt),n())},i.onerror=e=>{o(e)},i.postMessage({data:e,name:t})}));let Gt;let Jt;let Xt;function Qt(e,t){return new Promise((async(n,o)=>{await Yt(e,t).then((e=>{n(e)})).catch((e=>{o(e)}))}))}async function Zt(e){return new Promise((async(t,n)=>{await Kt(e).then((e=>{t(e)})).catch((e=>{n(e)}))}))}function en(e,t={}){if(e instanceof Window||e instanceof Element||e instanceof Document)e=[e];else if("string"==typeof e||e instanceof String){if(0===(e=document.querySelectorAll(e)).length)return;e=Array.from(e)}else if(!(e instanceof HTMLCollection||e instanceof NodeList))return;if(void 0!==t.keyframes||void 0!==t.keyframe){const o={duration:200,fill:"forwards",easing:"ease"};let i=[];for(const e in t)"keyframes"!==e&&"keyframe"!==e&&"styles"!==e&&"style"!==e&&(o[e]=t[e]);const r=t.keyframes||t.keyframe;if("number"==typeof o.duration&&r instanceof Array)for(let t=0;t<e.length;t++)n(e[t])&&i.push([e[t].animate(r,o),e[t]]);if(void 0===t.onfinish){const e=r.slice(-1)[0];i.forEach((([n,o],r)=>{n.onfinish=()=>{Object.assign(o.style,e),n.cancel(),r===i.length-1&&"function"==typeof t.callback&&t.callback()}}))}return i=i.map((e=>e[0])),1===i.length?i[0]:i}if(void 0!==t.styles||void 0!==t.style){const n=t?.styles||t?.style;if(n)for(let t=0;t<e.length;t++)o(e[t])&&Object.assign(e[t].style,n);return e}return;function n(e){return Element.prototype.animate.toString()===e?.animate?.toString?.()}function o(e){return e?.style instanceof CSSStyleDeclaration}}function tn(e,t=new Function){var n,o,i,r=!1;function l(t){if(t.pointerId===i&&r){const i=(o=t.clientX)-n;tt.update((e=>!e)),i>=50&&en(e,{keyframes:[{transform:`translateX(${i}px)`}]})}else e.removeEventListener("pointermove",l),d("none",e)}function s(t){if(e.removeEventListener("pointermove",l),t.pointerId===i&&r){o=t.clientX;var s=e.getBoundingClientRect(),a=Math.min(s.width,window.innerWidth);d(o-n>=.4*a?"slideRight":"none",e),u()}}function a(t){"mouse"!==t.pointerType&&(n=t.clientX,i=t.pointerId,e.setPointerCapture(i),r=!0,e.addEventListener("pointermove",l))}function c(t){e.removeEventListener("pointermove",l),t.pointerId===i&&r&&(d("none",e),u())}function u(){e.releasePointerCapture(i),r=!1}function d(e,n){"slideRight"===e?en(n,{keyframes:[{transform:`translateX(${window.innerWidth}px)`}],callback:()=>{t().then((()=>{en(n,{styles:{transform:""}})}))}}):"none"===e&&en(n,{keyframes:[{transform:""}]})}return e.addEventListener("pointerdown",a),e.addEventListener("pointerup",s),e.addEventListener("pointercancel",c),()=>{e.removeEventListener("pointerdown",a),e.removeEventListener("pointerup",s),e.removeEventListener("pointermove",l),e.removeEventListener("pointercancel",c)}}function nn(e,t,n){const o=e.slice();return o[27]=t[n],o[28]=t,o[29]=n,o}function on(e,t,n){const o=e.slice();return o[30]=t[n],o[32]=n,o}function rn(e,t,n){const o=e.slice();return o[33]=t[n],o[32]=n,o}function ln(e,t,n){const o=e.slice();return o[35]=t[n][0],o[36]=t[n][1],o}function sn(e,t,n){const o=e.slice();return o[39]=t[n],o[32]=n,o}function an(e,t,n){const o=e.slice();return o[35]=t[n][0],o[36]=t[n][1],o[42]=n,o}function cn(e){let t,n=[],o=new Map,i=e[2]||[];const r=e=>e[27].id;for(let t=0;t<i.length;t+=1){let l=nn(e,i,t),s=r(l);o.set(s,n[t]=Nn(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){1004&l[0]&&(i=e[2]||[],n=fe(n,l,r,1,e,i,o,t.parentNode,de,Nn,t,nn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function un(e){let t;return{c(){t=A("div"),C(t,"class","trailer")},m(e,n){x(e,t,n)},d(e){e&&S(t)}}}function dn(t){let n;return{c(){n=E("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&S(n)}}}function fn(e){let t,n=[],o=new Map,i=Object.entries(e[27].studios||{});const r=e=>e[35];for(let t=0;t<i.length;t+=1){let l=an(e,i,t),s=r(l);o.set(s,n[t]=mn(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){4&l[0]&&(i=Object.entries(e[27].studios||{}),n=fe(n,l,r,1,e,i,o,t.parentNode,de,mn,t,an))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function pn(e){let t,n,o,i,r=e[35]+(Object.entries(e[27]?.studios||{}).length-1>e[42]?", ":"");return{c(){t=A("a"),n=E(r),C(t,"class","copy svelte-fiqm3o"),C(t,"copy-value",o=e[35]||""),C(t,"rel","noopener noreferrer"),C(t,"target","_blank"),C(t,"href",i=e[36]||"")},m(e,o){x(e,t,o),g(t,n)},p(e,l){4&l[0]&&r!==(r=e[35]+(Object.entries(e[27]?.studios||{}).length-1>e[42]?", ":""))&&I(n,r),4&l[0]&&o!==(o=e[35]||"")&&C(t,"copy-value",o),4&l[0]&&i!==(i=e[36]||"")&&C(t,"href",i)},d(e){e&&S(t)}}}function mn(e,t){let n,o,i=t[35]&&pn(t);return{key:e,first:null,c(){n=N(),i&&i.c(),o=N(),this.first=n},m(e,t){x(e,n,t),i&&i.m(e,t),x(e,o,t)},p(e,n){(t=e)[35]?i?i.p(t,n):(i=pn(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&S(n),i&&i.d(e),e&&S(o)}}}function hn(t){let n;return{c(){n=E("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&S(n)}}}function vn(e){let t,n=[],o=new Map,i=e[27].genres;const r=e=>e[39];for(let t=0;t<i.length;t+=1){let l=sn(e,i,t),s=r(l);o.set(s,n[t]=yn(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){4&l[0]&&(i=e[27].genres,n=fe(n,l,r,1,e,i,o,t.parentNode,de,yn,t,sn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function yn(e,t){let n,o,i,r,l=(t[32]<t[27].genres.length-1?t[39]+", ":t[39])+"";return{key:e,first:null,c(){n=A("span"),o=E(l),i=$(),C(n,"class","copy"),C(n,"copy-value",r=t[39]||""),this.first=n},m(e,t){x(e,n,t),g(n,o),g(n,i)},p(e,i){t=e,4&i[0]&&l!==(l=(t[32]<t[27].genres.length-1?t[39]+", ":t[39])+"")&&I(o,l),4&i[0]&&r!==(r=t[39]||"")&&C(n,"copy-value",r)},d(e){e&&S(n)}}}function gn(t){let n;return{c(){n=E("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&S(n)}}}function wn(e){let t,n=[],o=new Map,i=e[27].favoriteContents||[];const r=e=>e[33];for(let t=0;t<i.length;t+=1){let l=rn(e,i,t),s=r(l);o.set(s,n[t]=kn(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){4&l[0]&&(i=e[27].favoriteContents||[],n=fe(n,l,r,1,e,i,o,t.parentNode,de,kn,t,rn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function bn(e){let t,n,o,i,r=e[33]+(e[32]<e[27].favoriteContents.length-1?", ":"");return{c(){t=A("span"),n=E(r),o=$(),C(t,"class","copy"),C(t,"copy-value",i=e[33]||"")},m(e,i){x(e,t,i),g(t,n),g(t,o)},p(e,o){4&o[0]&&r!==(r=e[33]+(e[32]<e[27].favoriteContents.length-1?", ":""))&&I(n,r),4&o[0]&&i!==(i=e[33]||"")&&C(t,"copy-value",i)},d(e){e&&S(t)}}}function xn(e){let t,n=[],o=new Map,i=Object.entries(e[33])||[];const r=e=>e[35];for(let t=0;t<i.length;t+=1){let l=ln(e,i,t),s=r(l);o.set(s,n[t]=Sn(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){4&l[0]&&(i=Object.entries(e[33])||[],n=fe(n,l,r,1,e,i,o,t.parentNode,de,Sn,t,ln))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function Sn(e,t){let n,o,i,r,l,s=t[35]+"",a=t[32]<t[27].favoriteContents.length-1?", ":"";return{key:e,first:null,c(){n=A("a"),o=E(s),l=E(a),C(n,"class","copy svelte-fiqm3o"),C(n,"copy-value",i=t[35]||""),C(n,"rel","noopener noreferrer"),C(n,"target","_blank"),C(n,"href",r=t[36]),this.first=n},m(e,t){x(e,n,t),g(n,o),x(e,l,t)},p(e,c){t=e,4&c[0]&&s!==(s=t[35]+"")&&I(o,s),4&c[0]&&i!==(i=t[35]||"")&&C(n,"copy-value",i),4&c[0]&&r!==(r=t[36])&&C(n,"href",r),4&c[0]&&a!==(a=t[32]<t[27].favoriteContents.length-1?", ":"")&&I(l,a)},d(e){e&&S(n),e&&S(l)}}}function kn(e,t){let n,o,i;function r(e,t){return 4&t[0]&&(o=null),null==o&&(o=!!nt(e[33])),o?xn:"string"==typeof e[33]?bn:void 0}let l=r(t,[-1,-1]),s=l&&l(t);return{key:e,first:null,c(){n=N(),s&&s.c(),i=N(),this.first=n},m(e,t){x(e,n,t),s&&s.m(e,t),x(e,i,t)},p(e,n){l===(l=r(t=e,n))&&s?s.p(t,n):(s&&s.d(1),s=l&&l(t),s&&(s.c(),s.m(i.parentNode,i)))},d(e){e&&S(n),s&&s.d(e),e&&S(i)}}}function An(t){let n;return{c(){n=E("N/A")},m(e,t){x(e,n,t)},p:e,d(e){e&&S(n)}}}function En(e){let t,n=[],o=new Map,i=e[27].tags;const r=e=>e[30];for(let t=0;t<i.length;t+=1){let l=on(e,i,t),s=r(l);o.set(s,n[t]=$n(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){4&l[0]&&(i=e[27].tags,n=fe(n,l,r,1,e,i,o,t.parentNode,de,$n,t,on))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function $n(e,t){let n,o,i,r,l=(t[32]<t[27].tags.length-1?t[30]+", ":t[30])+"";return{key:e,first:null,c(){n=A("span"),o=E(l),i=$(),C(n,"class","copy"),C(n,"copy-value",r=t[30]||""),this.first=n},m(e,t){x(e,n,t),g(n,o),g(n,i)},p(e,i){t=e,4&i[0]&&l!==(l=(t[32]<t[27].tags.length-1?t[30]+", ":t[30])+"")&&I(o,l),4&i[0]&&r!==(r=t[30]||"")&&C(n,"copy-value",r)},d(e){e&&S(n)}}}function Nn(e,t){let n,o,l,s,c,d,f,p,m,h,v,y,w,b,k,N,L,M,q,D,_,P,O,j,U,R,H,B,W,V,z,K,Y,G,J,X,Q,Z,ee,te,ne,oe,ie,re,le,se,ae,ce,ue,de,fe,pe,me,he,ve,ye,ge,we,be,xe,Se,ke,Ae,Ee,$e,Ne,Te,Ce,Ie,Le,Fe,Me,qe,De,_e,Pe,Oe,je,Ue,Re,He,Be,We,Ve,ze,Ke,Ye,Ge,Je,Xe,Qe,Ze,et,tt,nt,ot,it,rt,lt,at,ct,ut,dt,ft,pt,mt,ht,vt,yt,gt,wt,bt,xt,St,kt,At,Et,$t,Nt,Tt,Ct,It,Lt,Ft,Mt,qt,Dt,_t,Pt=t[28],Ot=t[29],jt=(t[27]?.title||"N/A")+"",Ut=(t[9](t[27])||"N/A")+"",Rt=(st(t[27].score)||"N/A")+"",Ht=(t[8](t[27])||"N/A")+"",Bt=(t[27].userStatus||"N/A")+"",Wt=(t[27].status||"N/A")+"",Vt=(t[27].averageScore||"N/A")+"",zt=(`${t[27]?.season||""}${t[27]?.year?" "+t[27].year:""}`||"N/A")+"",Kt=(t[27].userScore||"N/A")+"",Yt=(t[27].popularity||"N/A")+"",Gt=(st(t[27].weightedScore)||"N/A")+"",Jt="See "+(t[27].isSeenMore?"Less":"More"),Xt=(t[5](t[27].id)||"N/A")+"",Qt=t[27].trailerID&&un();const Zt=()=>t[10](l,Pt,Ot),en=()=>t[10](null,Pt,Ot);function tn(e,t){return 4&t[0]&&(te=null),null==te&&(te=!!Object.entries(e[27]?.studios||{}).length),te?fn:dn}let nn=tn(t,[-1,-1]),on=nn(t);function rn(e,t){return e[27].genres.length?vn:hn}let ln=rn(t),sn=ln(t);function an(e,t){return e[27].favoriteContents?.length?wn:gn}let cn=an(t),pn=cn(t);function mn(e,t){return e[27].tags.length?En:An}let yn=mn(t),bn=yn(t);const xn=()=>t[12](n,Pt,Ot),Sn=()=>t[12](null,Pt,Ot);return{key:e,first:null,c(){n=A("div"),o=A("div"),l=A("div"),Qt&&Qt.c(),s=$(),c=A("div"),d=A("img"),p=$(),m=A("img"),v=$(),y=A("div"),w=A("h3"),w.textContent="Auto Play",b=$(),k=A("label"),N=A("input"),L=$(),M=A("span"),q=$(),D=A("div"),_=A("div"),P=A("a"),O=E(jt),H=$(),B=A("div"),W=A("div"),V=A("div"),V.textContent="Format",z=$(),K=A("div"),Y=E(Ut),J=$(),X=A("div"),Q=A("div"),Q.textContent="Studio",Z=$(),ee=A("div"),on.c(),ne=$(),oe=A("div"),ie=A("div"),ie.textContent="Genres",re=$(),le=A("div"),sn.c(),se=$(),ae=A("div"),ce=A("div"),ce.textContent="Score",ue=$(),de=A("div"),fe=E(Rt),me=$(),he=A("div"),ve=A("div"),ve.textContent="Favorite Contents",ye=$(),ge=A("div"),pn.c(),we=$(),be=A("div"),xe=A("div"),xe.textContent="Content Cautions",Se=$(),ke=A("div"),Ae=E(Ht),$e=$(),Ne=A("div"),Te=A("div"),Te.textContent="User Status",Ce=$(),Ie=A("div"),Le=E(Bt),Me=$(),qe=A("div"),De=A("div"),De.textContent="Status",_e=$(),Pe=A("div"),Oe=E(Wt),Ue=$(),Re=A("div"),He=A("div"),He.textContent="Tags",Be=$(),We=A("div"),bn.c(),Ve=$(),ze=A("div"),Ke=A("div"),Ke.textContent="Average Score",Ye=$(),Ge=A("div"),Je=E(Vt),Qe=$(),Ze=A("div"),et=A("div"),et.textContent="Season Year",tt=$(),nt=A("div"),ot=E(zt),rt=$(),lt=A("div"),at=A("div"),at.textContent="User Score",ct=$(),ut=A("div"),dt=E(Kt),pt=$(),mt=A("div"),ht=A("div"),ht.textContent="Popularity",vt=$(),yt=A("div"),gt=E(Yt),bt=$(),xt=A("div"),St=A("div"),St.textContent="Wscore",kt=$(),At=A("div"),Et=E(Gt),Nt=$(),Tt=A("div"),Ct=A("button"),It=E(Jt),Lt=$(),Ft=A("button"),Mt=E(Xt),qt=$(),a(d.src,f=t[27].bannerImageUrl)||C(d,"src",f),C(d,"alt","bannerImg"),C(d,"class","bannerImg svelte-fiqm3o"),F(d,"opacity","0"),a(m.src,h=t[27].coverImageUrl)||C(m,"src",h),C(m,"alt","coverImg"),C(m,"class","coverImg svelte-fiqm3o"),F(m,"opacity","0"),C(c,"class","popup-img svelte-fiqm3o"),F(c,"display",t[27].trailerID?"none":""),C(l,"class","popup-header svelte-fiqm3o"),C(w,"class","svelte-fiqm3o"),C(N,"type","checkbox"),C(N,"class","autoplayToggle svelte-fiqm3o"),C(M,"class","slider round svelte-fiqm3o"),C(k,"class","switch svelte-fiqm3o"),C(y,"class","button-container svelte-fiqm3o"),C(P,"rel","noopener noreferrer"),C(P,"target","_blank"),C(P,"href",j=t[27].animeUrl||""),C(P,"class",U=u(Cn(t[27])+"-color anime-title copy")+" svelte-fiqm3o"),C(P,"copy-value",R=t[27].title||""),C(_,"class","anime-title-container svelte-fiqm3o"),C(V,"class","info-categ svelte-fiqm3o"),C(K,"class","format-popup info copy svelte-fiqm3o"),C(K,"copy-value",G=t[9](t[27])||""),C(W,"class","svelte-fiqm3o"),C(Q,"class","info-categ svelte-fiqm3o"),C(ee,"class","studio-popup info svelte-fiqm3o"),C(X,"class","svelte-fiqm3o"),C(ie,"class","info-categ svelte-fiqm3o"),C(le,"class","genres-popup info svelte-fiqm3o"),C(oe,"class","svelte-fiqm3o"),C(ce,"class","info-categ svelte-fiqm3o"),C(de,"class","score-popup info copy svelte-fiqm3o"),C(de,"copy-value",pe=t[27].score??""),C(ae,"class","svelte-fiqm3o"),C(ve,"class","info-categ svelte-fiqm3o"),C(ge,"class","top-similarities-popup info svelte-fiqm3o"),C(he,"class","svelte-fiqm3o"),C(xe,"class","info-categ svelte-fiqm3o"),C(ke,"class","content-caution-popup info copy svelte-fiqm3o"),C(ke,"copy-value",Ee=t[8](t[27])||""),C(be,"class","svelte-fiqm3o"),C(Te,"class","info-categ svelte-fiqm3o"),C(Ie,"class","user-status-popup info copy svelte-fiqm3o"),C(Ie,"copy-value",Fe=t[27].userStatus||""),C(Ne,"class","svelte-fiqm3o"),C(De,"class","info-categ svelte-fiqm3o"),C(Pe,"class","status-popup info copy svelte-fiqm3o"),C(Pe,"copy-value",je=t[27].status||""),C(qe,"class","svelte-fiqm3o"),C(He,"class","info-categ svelte-fiqm3o"),C(We,"class","tags-popup info svelte-fiqm3o"),C(Re,"class","svelte-fiqm3o"),C(Ke,"class","info-categ svelte-fiqm3o"),C(Ge,"class","average-score-popup info copy svelte-fiqm3o"),C(Ge,"copy-value",Xe=t[27].averageScore??""),C(ze,"class","svelte-fiqm3o"),C(et,"class","info-categ svelte-fiqm3o"),C(nt,"class","season-year-popup info copy svelte-fiqm3o"),C(nt,"copy-value",it=`${t[27]?.season||""}${t[27]?.year?" "+t[27].year:""}`||""),C(Ze,"class","svelte-fiqm3o"),C(at,"class","info-categ svelte-fiqm3o"),C(ut,"class","user-score-popup info copy svelte-fiqm3o"),C(ut,"copy-value",ft=t[27].userScore??""),C(lt,"class","svelte-fiqm3o"),C(ht,"class","info-categ svelte-fiqm3o"),C(yt,"class","popularity-popup info copy svelte-fiqm3o"),C(yt,"copy-value",wt=t[27].popularity??""),C(mt,"class","svelte-fiqm3o"),C(St,"class","info-categ svelte-fiqm3o"),C(At,"class","wscore-popup info copy svelte-fiqm3o"),C(At,"copy-value",$t=t[27].weightedScore??""),C(xt,"class","svelte-fiqm3o"),C(B,"class","info-list svelte-fiqm3o"),F(B,"max-height",t[27].isSeenMore?"none":""),C(Ct,"class","seemoreless svelte-fiqm3o"),C(Ft,"class","hideshowbtn svelte-fiqm3o"),C(Tt,"class","footer svelte-fiqm3o"),C(D,"class","popup-body svelte-fiqm3o"),C(o,"class","popup-main svelte-fiqm3o"),C(n,"class","popup-content svelte-fiqm3o"),this.first=n},m(e,i){x(e,n,i),g(n,o),g(o,l),Qt&&Qt.m(l,null),g(l,s),g(l,c),g(c,d),g(c,p),g(c,m),Zt(),g(o,v),g(o,y),g(y,w),g(y,b),g(y,k),g(k,N),N.checked=t[3],g(k,L),g(k,M),g(o,q),g(o,D),g(D,_),g(_,P),g(P,O),g(D,H),g(D,B),g(B,W),g(W,V),g(W,z),g(W,K),g(K,Y),g(B,J),g(B,X),g(X,Q),g(X,Z),g(X,ee),on.m(ee,null),g(B,ne),g(B,oe),g(oe,ie),g(oe,re),g(oe,le),sn.m(le,null),g(B,se),g(B,ae),g(ae,ce),g(ae,ue),g(ae,de),g(de,fe),g(B,me),g(B,he),g(he,ve),g(he,ye),g(he,ge),pn.m(ge,null),g(B,we),g(B,be),g(be,xe),g(be,Se),g(be,ke),g(ke,Ae),g(B,$e),g(B,Ne),g(Ne,Te),g(Ne,Ce),g(Ne,Ie),g(Ie,Le),g(B,Me),g(B,qe),g(qe,De),g(qe,_e),g(qe,Pe),g(Pe,Oe),g(B,Ue),g(B,Re),g(Re,He),g(Re,Be),g(Re,We),bn.m(We,null),g(B,Ve),g(B,ze),g(ze,Ke),g(ze,Ye),g(ze,Ge),g(Ge,Je),g(B,Qe),g(B,Ze),g(Ze,et),g(Ze,tt),g(Ze,nt),g(nt,ot),g(B,rt),g(B,lt),g(lt,at),g(lt,ct),g(lt,ut),g(ut,dt),g(B,pt),g(B,mt),g(mt,ht),g(mt,vt),g(mt,yt),g(yt,gt),g(B,bt),g(B,xt),g(xt,St),g(xt,kt),g(xt,At),g(At,Et),g(D,Nt),g(D,Tt),g(Tt,Ct),g(Ct,It),g(Tt,Lt),g(Tt,Ft),g(Ft,Mt),g(n,qt),xn(),Dt||(_t=[T(d,"load",In),T(m,"load",Ln),T(N,"change",t[11]),T(Ct,"click",(function(){r(t[7](t[27],t[29]))&&t[7](t[27],t[29]).apply(this,arguments)})),T(Ct,"keydown",(function(){r(t[7](t[27],t[29]))&&t[7](t[27],t[29]).apply(this,arguments)})),T(Ft,"click",(function(){r(t[6](t[27].id))&&t[6](t[27].id).apply(this,arguments)})),T(Ft,"keydown",(function(){r(t[6](t[27].id))&&t[6](t[27].id).apply(this,arguments)}))],Dt=!0)},p(e,n){(t=e)[27].trailerID?Qt||(Qt=un(),Qt.c(),Qt.m(l,s)):Qt&&(Qt.d(1),Qt=null),4&n[0]&&!a(d.src,f=t[27].bannerImageUrl)&&C(d,"src",f),4&n[0]&&!a(m.src,h=t[27].coverImageUrl)&&C(m,"src",h),4&n[0]&&F(c,"display",t[27].trailerID?"none":""),Pt===t[28]&&Ot===t[29]||(en(),Pt=t[28],Ot=t[29],Zt()),8&n[0]&&(N.checked=t[3]),4&n[0]&&jt!==(jt=(t[27]?.title||"N/A")+"")&&I(O,jt),4&n[0]&&j!==(j=t[27].animeUrl||"")&&C(P,"href",j),4&n[0]&&U!==(U=u(Cn(t[27])+"-color anime-title copy")+" svelte-fiqm3o")&&C(P,"class",U),4&n[0]&&R!==(R=t[27].title||"")&&C(P,"copy-value",R),4&n[0]&&Ut!==(Ut=(t[9](t[27])||"N/A")+"")&&I(Y,Ut),4&n[0]&&G!==(G=t[9](t[27])||"")&&C(K,"copy-value",G),nn===(nn=tn(t,n))&&on?on.p(t,n):(on.d(1),on=nn(t),on&&(on.c(),on.m(ee,null))),ln===(ln=rn(t))&&sn?sn.p(t,n):(sn.d(1),sn=ln(t),sn&&(sn.c(),sn.m(le,null))),4&n[0]&&Rt!==(Rt=(st(t[27].score)||"N/A")+"")&&I(fe,Rt),4&n[0]&&pe!==(pe=t[27].score??"")&&C(de,"copy-value",pe),cn===(cn=an(t))&&pn?pn.p(t,n):(pn.d(1),pn=cn(t),pn&&(pn.c(),pn.m(ge,null))),4&n[0]&&Ht!==(Ht=(t[8](t[27])||"N/A")+"")&&I(Ae,Ht),4&n[0]&&Ee!==(Ee=t[8](t[27])||"")&&C(ke,"copy-value",Ee),4&n[0]&&Bt!==(Bt=(t[27].userStatus||"N/A")+"")&&I(Le,Bt),4&n[0]&&Fe!==(Fe=t[27].userStatus||"")&&C(Ie,"copy-value",Fe),4&n[0]&&Wt!==(Wt=(t[27].status||"N/A")+"")&&I(Oe,Wt),4&n[0]&&je!==(je=t[27].status||"")&&C(Pe,"copy-value",je),yn===(yn=mn(t))&&bn?bn.p(t,n):(bn.d(1),bn=yn(t),bn&&(bn.c(),bn.m(We,null))),4&n[0]&&Vt!==(Vt=(t[27].averageScore||"N/A")+"")&&I(Je,Vt),4&n[0]&&Xe!==(Xe=t[27].averageScore??"")&&C(Ge,"copy-value",Xe),4&n[0]&&zt!==(zt=(`${t[27]?.season||""}${t[27]?.year?" "+t[27].year:""}`||"N/A")+"")&&I(ot,zt),4&n[0]&&it!==(it=`${t[27]?.season||""}${t[27]?.year?" "+t[27].year:""}`||"")&&C(nt,"copy-value",it),4&n[0]&&Kt!==(Kt=(t[27].userScore||"N/A")+"")&&I(dt,Kt),4&n[0]&&ft!==(ft=t[27].userScore??"")&&C(ut,"copy-value",ft),4&n[0]&&Yt!==(Yt=(t[27].popularity||"N/A")+"")&&I(gt,Yt),4&n[0]&&wt!==(wt=t[27].popularity??"")&&C(yt,"copy-value",wt),4&n[0]&&Gt!==(Gt=(st(t[27].weightedScore)||"N/A")+"")&&I(Et,Gt),4&n[0]&&$t!==($t=t[27].weightedScore??"")&&C(At,"copy-value",$t),4&n[0]&&F(B,"max-height",t[27].isSeenMore?"none":""),4&n[0]&&Jt!==(Jt="See "+(t[27].isSeenMore?"Less":"More"))&&I(It,Jt),4&n[0]&&Xt!==(Xt=(t[5](t[27].id)||"N/A")+"")&&I(Mt,Xt),Pt===t[28]&&Ot===t[29]||(Sn(),Pt=t[28],Ot=t[29],xn())},d(e){e&&S(n),Qt&&Qt.d(),en(),on.d(),sn.d(),pn.d(),bn.d(),Sn(),Dt=!1,i(_t)}}}function Tn(t){let n,o,r,l,s,a,c=t[2]?.length&&cn(t);return{c(){n=A("div"),o=A("div"),c&&c.c(),r=$(),l=A("div"),l.textContent="Ã—",C(o,"id","popup-container"),C(o,"class","popup-container hide svelte-fiqm3o"),F(o,"--translateY",window.innerHeight+"px"),C(l,"id","closing-x"),C(l,"class","closing-x svelte-fiqm3o"),C(n,"id","popup-wrapper"),C(n,"class","popup-wrapper svelte-fiqm3o")},m(e,i){x(e,n,i),g(n,o),c&&c.m(o,null),t[13](o),g(n,r),g(n,l),t[14](n),s||(a=[T(l,"click",t[4]),T(l,"keydown",t[4]),T(n,"click",t[4]),T(n,"keydown",t[4])],s=!0)},p(e,t){e[2]?.length?c?c.p(e,t):(c=cn(e),c.c(),c.m(o,null)):c&&(c.d(1),c=null)},i:e,o:e,d(e){e&&S(n),c&&c.d(),t[13](null),t[14](null),s=!1,i(a)}}}function Cn({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){return e?.caution?.length?"red":o<t?"purple":o<n?"orange":e?.semiCaution?.length?"teal":"green"}"undefined"!=typeof module&&void 0!==module?.exports&&(module.exports=en);const In=e=>e.target.style.opacity=.75,Ln=e=>e.target.style.opacity=1;function Fn(e,t,n){let o,i,r,l,s,a,u,f;c(e,_e,(e=>n(18,o=e))),c(e,Ve,(e=>n(19,i=e))),c(e,$e,(e=>n(2,r=e))),c(e,Pe,(e=>n(3,l=e))),c(e,je,(e=>n(20,s=e))),c(e,ze,(e=>n(21,a=e))),c(e,Ne,(e=>n(22,u=e))),c(e,ke,(e=>n(23,f=e)));let p,m,h,v,y=window.navigator.onLine;async function g(e=!1){if(!i)return;await Y();let t,n=it(m,".popup-header",0)||it(m,".popup-content",1)?.querySelector(".popup-header"),s=n?.querySelector?.(".trailer"),a=r?.[rt(n?.closest?.(".popup-content"))??-1]?.gridElement;if(a instanceof Element&&lt(window,a,"top","smooth",-66),s instanceof Element&&(t=o?.some((e=>e.g===s))),t)o?.forEach((async e=>{e.g===s&&1!==e?.getPlayerState?.()&&l?(await Y(),p?.classList?.contains?.("visible")&&e?.playVideo?.()):e.g!==s&&e?.pauseVideo?.()}));else if(o?.forEach((e=>e?.pauseVideo?.())),s instanceof Element&&v!==s){v=s;let t=s?.closest?.(".popup-content"),n=r?.[rt(t)??-1];n&&!e&&w(n)}}function w(e){let t=e.popupHeader.querySelector(".trailer");if(y){if(!(e&&e.popupHeader instanceof Element&&e.trailerID&&p?.classList?.contains("visible")))return;let n=e.trailerID;if(t instanceof Element&&n){if(o.some((e=>e.g===t)))return;if(o.length>=8){let e=o.shift();e?.destroy?.();let n=t.parentElement,i=document.createElement("div");i.className="trailer",n.replaceChild(i,t),t=n.querySelector(".trailer")}}t.setAttribute("id","yt-player"+Date.now()+Math.random());let i=new YT.Player(t,{playerVars:{cc_lang_pref:"en",cc_load_policy:1,enablejsapi:1,loop:1,modestbranding:1,playsinline:1,playlist:n},events:{onReady:e=>{!function(e){let t=e.target,n=t?.g,i=n?.parentNode,l=i?.querySelector?.(".popup-img"),s=i?.closest?.(".popup-content"),a=r?.[rt(s)??-1];if(!(a&&n instanceof Element&&l instanceof Element))return;if(-1===t.getPlayerState()||"IFRAME"!==n.tagName||!y){d(_e,o=o.filter((e=>e!==t)),o),t.destroy();let e=a?.bannerImageUrl,i=l.querySelector(".bannerImg");!e||0!==i?.naturalHeight&&0!==i?.naturalWidth||(i.src=e);let r=a.coverImageUrl,s=l.querySelector(".coverImg");return!r||0!==s?.naturalHeight&&0!==s?.naturalWidth||(s.src=r),l.style.display="",void(n.style.display="none")}n.style.display="",l.style.display="none";g(!0)}(e)}}}),l=`https://www.youtube.com/embed/${n}?playlist=${n}&cc_load_policy=1&cc_lang_pref=en&enablejsapi=1&loop=1&modestbranding=1&playsinline=1`;t.setAttribute("src",l),o.push(i)}else{let n=t?.parentNode,i=n?.querySelector?.(".popup-img"),r=o?.some((({g:e})=>e===t));if(r)return;let l=e?.bannerImageUrl,s=i.querySelector(".bannerImg");!l||0!==s?.naturalHeight&&0!==s?.naturalWidth||(s.src=l);let a=e.coverImageUrl,c=i.querySelector(".coverImg");!a||0!==c?.naturalHeight&&0!==c?.naturalWidth||(c.src=a),i.style.display="",t.style.display="none"}}return ke.subscribe((async e=>{nt(e)&&await Qt(e,"hiddenEntries")})),Ve.subscribe((async e=>{if(p instanceof Element&&m instanceof Element)if(!0===e){Object.assign(m.style,{"--translateY":window.innerHeight+"px"});let e=m?.children[a??0];if(e instanceof Element){lt(m,e),p.classList.add("visible"),m.classList.add("show");let t=r[a],n=t?.popupHeader?.querySelector(".trailer"),i=!0;for(let e=0;e<o?.length??-1;e++)if(o[e].g===n){l&&(await Y(),p?.classList?.contains?.("visible")&&o[e]?.playVideo?.()),i=!1;break}i&&w(t),d(ze,a=null,a)}else p.classList.add("visible"),m.classList.add("show")}else!1===e&&(m.classList.remove("show"),m.classList.add("hide"),setTimeout((()=>{o?.forEach((e=>e?.pauseVideo?.())),p.classList.remove("visible")}),300))})),$e.subscribe((async e=>{if(e instanceof Array&&e.length){await Y();try{s&&s.observe(r[r.length-1].popupContent),g()}catch(e){}}})),Pe.subscribe((async e=>{"boolean"==typeof e&&(await Qt(e,"autoPlay"),!0===e?g():o?.forEach((e=>e?.pauseVideo?.())))})),U((()=>{document.getElementById("popup-container").addEventListener("scroll",(()=>{g()})),window.innerWidth<=768&&(h=tn(m,(()=>new Promise((e=>{d(Ve,i=!1,i),setTimeout(e,300)}))))),window.addEventListener("resize",(()=>{window.innerWidth<=768&&!h?h=tn(m,(()=>new Promise((e=>{d(Ve,i=!1,i),setTimeout(e,300)})))):h&&window.innerWidth>768&&(h&&h(),h=null)}))})),window.returnedAppIsVisible=e=>{let t=it(m,".trailer");if(t||(t=it(m,".popup-main",0)||it(m,".popup-content",0),t=t?t.querySelector(".trailer"):void 0),t&&i)for(var n of o)if(n.g===t){if(!e){n?.pauseVideo?.();break}if(2===n?.getPlayerState?.()){n?.playVideo?.();break}}},window.addEventListener("online",(()=>{y=!0,new Promise((e=>{var t=document.getElementById("www-widgetapi-script");t&&t.parentNode.removeChild(t);var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api?v=16",n.onerror=()=>{console.error("Failed to load YouTube API script."),e()},n.onload=()=>{window?.onYouTubeIframeAPIReady?.(),e()};var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)})).then((()=>{v=void 0,g()}))})),window.addEventListener("offline",(()=>{y=!1})),[p,m,r,l,function(e){let t=e.target,n=t.classList;t.closest(".popup-container")||n.contains("popup-container")||d(Ve,i=!1,i)},function(e){return f?f[e]?"Show":"Hide":"N/A"},function(e){f[e]?confirm("Are you sure you want to show the anime?")&&(delete f[e],ke.set(f),r.length&&u instanceof Worker&&u.postMessage({removeID:e})):confirm("Are you sure you want to hide the anime?")&&(d(ke,f[e]=!0,f),r.length&&u instanceof Worker&&u.postMessage({removeID:e}))},async function(e,t){if(r[t]){d($e,r[t].isSeenMore=!r[t].isSeenMore,r),await Y();let n=e.popupContent;if(!m instanceof Element)return;n instanceof Element||(n=e?.popupHeader?.closest?.(".popup-content")),n instanceof Element&&lt(m,n,"bottom")}},function({contentCaution:e,meanScoreAll:t,meanScoreAbove:n,score:o}){let i=(e?.caution||[]).concat(e?.semiCaution||[]);return o<t?i.push(`Very Low Score (mean: ${st(t)})`):o<n&&i.push(`Low Score (mean: ${st(n)})`),i.join(", ")||""},function({episodes:e,format:t,duration:n}){let o=t;if(e>0&&t&&(o=`${t} [${e}]`,n>0)){let e=function(e){try{let t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),o=Math.floor(e/36e5%24),i=Math.floor(e/864e5%7),r=Math.floor(e/6048e5%4),l=Math.floor(e/24192e5%12),s=Math.floor(e/290304e5%10),a=Math.floor(e/290304e6%10),c=Math.floor(e/290304e7%10),u=Math.floor(e/290304e8%10),d=[];return u<=0&&c<=0&&a<=0&&s<=0&&l<=0&&r<=0&&i<=0&&o<=0&&n<=0&&t<=0?"0s":(u>0&&d.push(1===u?`${u}mil`:`${u}mils`),a>0&&d.push(1===a?`${a}de`:`${a}des`),s>0&&d.push(`${s}y`),l>0&&d.push(1===l?`${l}mo`:`${l}mos`),r>0&&d.push(`${r}w`),i>0&&d.push(`${i}d`),o>0&&d.push(`${o}h`),n>0&&d.push(`${n}m`),t>0&&d.push(`${t}s`),d.join(" "))}catch(e){return}}(60*n*1e3);o=`${o} | ${e||""}`}return o},function(e,t,n){H[e?"unshift":"push"]((()=>{t[n].popupHeader=e}))},function(){l=this.checked,Pe.set(l)},function(e,t,n){H[e?"unshift":"push"]((()=>{t[n].popupContent=e}))},function(e){H[e?"unshift":"push"]((()=>{m=e,n(1,m)}))},function(e){H[e?"unshift":"push"]((()=>{p=e,n(0,p)}))}]}function Mn(e,{delay:n=0,duration:o=400,easing:i=t}={}){const r=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:i,css:e=>"opacity: "+e*r}}function qn(e){let t,n,o,r,l,s,a,c,u,d,f,p,m,h,v,y,w,b,k,N=(e[3][e[1]]?"Show":"Hide")+" Anime";return{c(){t=A("div"),n=A("div"),o=A("span"),r=A("h1"),l=E(e[0]),s=$(),a=A("span"),a.innerHTML='<h2 class="svelte-ff52zf">Open Anime</h2>',c=$(),u=A("span"),u.innerHTML='<h2 class="svelte-ff52zf">Open In Anilist</h2>',d=$(),f=A("span"),f.innerHTML='<h2 class="svelte-ff52zf">Copy Title</h2>',p=$(),m=A("span"),h=A("h2"),v=E(N),C(r,"class","svelte-ff52zf"),C(o,"class","anime-title svelte-ff52zf"),C(a,"class","svelte-ff52zf"),C(u,"class","svelte-ff52zf"),C(f,"class","svelte-ff52zf"),C(h,"class","svelte-ff52zf"),C(m,"class","svelte-ff52zf"),C(n,"class","anime-options-container svelte-ff52zf"),C(t,"class","anime-options svelte-ff52zf")},m(i,y){x(i,t,y),g(t,n),g(n,o),g(o,r),g(r,l),g(n,s),g(n,a),g(n,c),g(n,u),g(n,d),g(n,f),g(n,p),g(n,m),g(m,h),g(h,v),w=!0,b||(k=[T(a,"click",e[5]),T(a,"keydown",e[5]),T(u,"click",e[6]),T(u,"keydown",e[6]),T(f,"click",e[7]),T(f,"keydown",e[7]),T(m,"click",e[8]),T(m,"keydown",e[8]),T(t,"click",e[4]),T(t,"keydown",e[4])],b=!0)},p(e,t){(!w||1&t)&&I(l,e[0]),(!w||10&t)&&N!==(N=(e[3][e[1]]?"Show":"Hide")+" Anime")&&I(v,N)},i(e){w||(G((()=>{w&&(y||(y=ue(t,Mn,{duration:200},!0)),y.run(1))})),w=!0)},o(e){y||(y=ue(t,Mn,{duration:200},!1)),y.run(0),w=!1},d(e){e&&S(t),e&&y&&y.end(),b=!1,i(k)}}}function Dn(e){let t,n,o=e[2]&&qn(e);return{c(){o&&o.c(),t=N()},m(e,i){o&&o.m(e,i),x(e,t,i),n=!0},p(e,[n]){e[2]?o?(o.p(e,n),4&n&&se(o,1)):(o=qn(e),o.c(),se(o,1),o.m(t.parentNode,t)):o&&(re(),ae(o,1,1,(()=>{o=null})),le())},i(e){n||(se(o),n=!0)},o(e){ae(o),n=!1},d(e){o&&o.d(e),e&&S(t)}}}function _n(e,t,n){let o,i,r,l,s,a,u,f,p,m,h,v;c(e,Be,(e=>n(2,o=e))),c(e,Ne,(e=>n(12,i=e))),c(e,$e,(e=>n(13,r=e))),c(e,ke,(e=>n(3,l=e))),c(e,be,(e=>n(14,s=e))),c(e,Ve,(e=>n(15,a=e))),c(e,ze,(e=>n(16,u=e))),c(e,We,(e=>n(17,f=e)));let y=!0;return Be.subscribe((e=>{if(!0===e){y=!0,setTimeout((()=>{y=!1}),500);let e=r[f];e&&(n(0,p=e.title),n(1,m=e.id),h=e.animeUrl,v=f),d(We,f=null,f)}else y=!1})),[p,m,o,l,function(e){if(y)return;let t=e.target,n=t.classList;t.closest(".anime-options-container")||n.contains("anime-options-container")||d(Be,o=!1,o)},function(){y||(d(ze,u=v,u),d(Ve,a=!0,a),d(Be,o=!1,o))},function(){y||(h&&window.open(h,"_blank"),d(Be,o=!1,o))},function(){if(!y&&p){if(s)try{JSBridge.copyToClipBoard(p)}catch(e){}else navigator?.clipboard?.writeText?.(p);d(Be,o=!1,o)}},function(){if(y)return;l[m]?confirm("Are you sure you want to show the anime?")&&(delete l[m],ke.set(l),r.length&&i instanceof Worker&&i.postMessage({removeID:m}),d(Be,o=!1,o)):confirm("Are you sure you want to hide the anime?")&&(d(ke,l[m]=!0,l),r.length&&i instanceof Worker&&i.postMessage({removeID:m}),d(Be,o=!1,o))}]}function Pn(t){let n,o,i;return{c(){n=A("div"),n.innerHTML='<div id="warnAnimeModal" class="swal2-popup-custom swal2-modal-custom swal2-hide-custom darkMode" style="display: grid;"><div class="swal2-html-container-custom" style="display: block;">Customize Content Caution</div> \n        <div class="swal2-html-container-custom" style="display: block;"><div class="filter-container-custom"><input type="text" placeholder="Add Anime Caution (Yellow: Content, Red: !Content)" class="flexdatalistWarnAnime" data-search-in="info" multiple="multiple" data-min-length="1" data-search-by-word="true" data-max-shown-results="7" name="filter"/></div></div> \n        <div class="swal2-actions-custom" style="display: flex;"><button id="cancelWarnAnime" type="button" class="darkMode swal2-deny-custom swal2-styled-custom swal2-default-outline-custom" style="display: inline-block; background-color: rgb(226, 125, 129);">Later</button> \n            <button id="submitWarnAnime" type="button" class="darkMode swal2-confirm-custom swal2-styled-custom swal2-default-outline-custom" style="display: inline-block; background-color: rgb(0, 0, 0);">Submit</button></div> \n        <div class="swal2-timer-progress-bar-container-custom"></div></div>',o=$(),i=A("div"),i.innerHTML='<div id="filterAlgoModal" class="darkMode swal2-popup-custom swal2-modal-custom" style="display: grid;"><div class="swal2-html-container-custom" style="display: block;">Customize Recommendation Algorithm</div> \n        <div class="swal2-html-container-custom" style="display: block;"><div class="filter-container-custom"><input type="text" placeholder="Edit Recs (Include: Content, Exclude: !Content, WScore&gt;=N)" class="flexdatalistFilterAlgo" data-search-in="info" multiple="multiple" data-min-length="1" data-search-by-word="true" data-max-shown-results="7" name="filter"/></div></div> \n        <div class="darkMode swal2-validation-message" id="filterAlgo-validation" style="display: none;"><div id="UsernameValidation" style="display:flex; align-items:center; justify-content:center; "><div><div style="margin-right:0.5ch;" class="dataStatusSpinner spinner darkMode"></div></div> \n                <div>Checking Username...</div></div></div> \n        <div class="swal2-actions-custom" style="display: flex;"><button id="cancelFilterAlgo" type="button" class="darkMode swal2-deny-custom swal2-styled-custom swal2-default-outline-custom" style="display: inline-block; background-color: rgb(226, 125, 129);">Later</button> \n            <button id="submitFilterAlgo" type="button" class="darkMode swal2-confirm-custom swal2-styled-custom swal2-default-outline-custom" style="display: inline-block; background-color: rgb(0, 0, 0);">Submit</button></div> \n        <div class="swal2-timer-progress-bar-container-custom"></div></div>',C(n,"id","warnAnimeContainer"),C(n,"class","swal2-container-custom swal2-center-custom swal2-backdrop-show-custom"),F(n,"display","none"),F(n,"overflow-y","auto"),F(n,"display","none"),C(i,"id","filterAlgoContainer"),C(i,"class","swal2-container-custom swal2-center-custom swal2-backdrop-show-custom"),F(i,"display","none"),F(i,"overflow-y","auto"),F(i,"display","none")},m(e,t){x(e,n,t),x(e,o,t),x(e,i,t)},p:e,i:e,o:e,d(e){e&&S(n),e&&S(o),e&&S(i)}}}function On(t){let n,o,r,l,s,c,u,d,f,p,m,h,v,y;return{c(){n=A("div"),o=A("nav"),r=A("h1"),r.textContent="Kanshi.",l=$(),s=A("div"),c=A("input"),d=$(),f=A("div"),f.innerHTML='<i class="fa-solid fa-magnifying-glass svelte-nerh2v"></i>',p=$(),m=A("img"),C(r,"class","textLogo copy-value svelte-nerh2v"),C(r,"data-copy-value","Kanshi."),C(c,"id","usernameInput"),C(c,"type","search"),C(c,"enterkeyhint","search"),C(c,"autocomplete","off"),C(c,"placeholder",u=(t[0]>415?"Your ":"")+"Anilist Username"),C(c,"class","svelte-nerh2v"),C(f,"class","searchBtn svelte-nerh2v"),C(s,"class","input-search svelte-nerh2v"),C(m,"class","menu-icon svelte-nerh2v"),a(m.src,h="./images/Kanshi-Logo.png")||C(m,"src","./images/Kanshi-Logo.png"),C(m,"alt","menubar"),C(o,"class","nav svelte-nerh2v"),C(n,"class","nav-container svelte-nerh2v")},m(e,i){x(e,n,i),g(n,o),g(o,r),g(o,l),g(o,s),g(s,c),L(c,t[1]),g(s,d),g(s,f),g(o,p),g(o,m),v||(y=[T(c,"keydown",t[2]),T(c,"input",t[4]),T(f,"keydown",t[2]),T(f,"click",t[2]),T(n,"keydown",t[3]),T(n,"click",t[3])],v=!0)},p(e,[t]){1&t&&u!==(u=(e[0]>415?"Your ":"")+"Anilist Username")&&C(c,"placeholder",u),2&t&&c.value!==e[1]&&L(c,e[1])},i:e,o:e,d(e){e&&S(n),v=!1,i(y)}}}function jn(e,t,n){let o,i,r,l;c(e,He,(e=>n(5,o=e))),c(e,$e,(e=>n(6,i=e))),c(e,Se,(e=>n(7,r=e))),c(e,Te,(e=>n(8,l=e)));let s,a,u=[];function f(){n(0,s=window.innerWidth)}var p;return U((()=>{n(0,s=window.innerWidth),window.addEventListener("resize",f),u.push(Se.subscribe((e=>{n(1,a=e)})))})),p=()=>{u.forEach((e=>e())),window.removeEventListener("resize",f)},j().$$.on_destroy.push(p),[s,a,function(e){let t=e.target,s=t.classList;("Enter"===e.key||"click"===e.type&&(s.contains("searchBtn")||t?.closest?.(".searchBtn")))&&a!==r&&(async()=>{r?confirm(`Currently connected to ${r}, do you want to update?`)&&(d(He,o=!1,o),d(Te,l="Getting User Entries",l),Ht({username:a}).then((({message:e,newusername:t})=>{t&&(n(1,a=d(Se,r=t,r)),_t().then((()=>{Mt().then((e=>{d($e,i=e.finalAnimeList,i)})).catch((e=>{throw e}))})).catch((e=>{throw e})))})).catch((e=>alert(e)))):(d(He,o=!1,o),d(Te,l="Getting User Entries",l),await Ht({username:a}).then((({message:e,newusername:t})=>{t&&n(1,a=d(Se,r=t,r)),_t().then((()=>{Mt().then((e=>{d($e,i=e.finalAnimeList,i)})).catch((e=>{throw e}))})).catch((e=>{throw e}))})).catch((e=>alert(e))))})()},function(e){let t=e.target.classList;(t.contains("menu-icon")||t.contains("nav"))&&He.set(!o)},function(){a=this.value,n(1,a)}]}function Un(e){let t,n,o,r,l,s,a,c,d,f,p,m,h,v,y,w,b,k,N,I,L,F,M,q,D,_,P=e[4]&&Rn(e);return{c(){t=A("div"),n=A("div"),o=A("button"),o.textContent="Update List",r=$(),l=A("button"),l.textContent="Show All Hidden Entries",s=$(),a=A("button"),a.textContent="Import Data",c=$(),d=A("button"),d.textContent="Export Data",f=$(),P&&P.c(),p=$(),m=A("button"),m.textContent="Dark Mode",h=$(),v=A("button"),y=E("Auto Update"),b=$(),k=A("button"),N=E("Auto Export"),L=$(),F=A("button"),F.textContent="Create an Anilist Account",C(o,"class","button svelte-vwrpyk"),C(l,"class","button svelte-vwrpyk"),C(a,"class","button svelte-vwrpyk"),C(d,"class","button svelte-vwrpyk"),C(m,"class","button selected svelte-vwrpyk"),C(v,"class",w=u("button "+(e[3]?"selected":""))+" svelte-vwrpyk"),C(k,"class",I=u("button "+(e[2]?"selected":""))+" svelte-vwrpyk"),C(F,"class","button svelte-vwrpyk"),C(n,"class","menu svelte-vwrpyk"),C(t,"class","menu-container svelte-vwrpyk")},m(i,u){x(i,t,u),g(t,n),g(n,o),g(n,r),g(n,l),g(n,s),g(n,a),g(n,c),g(n,d),g(n,f),P&&P.m(n,null),g(n,p),g(n,m),g(n,h),g(n,v),g(v,y),g(n,b),g(n,k),g(k,N),g(n,L),g(n,F),q=!0,D||(_=[T(o,"click",e[9]),T(o,"keydown",e[9]),T(l,"click",e[13]),T(l,"keydown",e[13]),T(a,"click",e[6]),T(a,"keydown",e[6]),T(d,"click",e[8]),T(d,"keydown",e[8]),T(m,"click",Bn),T(m,"keydown",Bn),T(v,"click",e[10]),T(v,"keydown",e[10]),T(k,"click",e[11]),T(k,"keydown",e[11]),T(F,"click",e[14]),T(F,"keydown",e[14]),T(t,"click",e[12]),T(t,"keydown",e[12])],D=!0)},p(e,t){e[4]?P?P.p(e,t):(P=Rn(e),P.c(),P.m(n,p)):P&&(P.d(1),P=null),(!q||8&t&&w!==(w=u("button "+(e[3]?"selected":""))+" svelte-vwrpyk"))&&C(v,"class",w),(!q||4&t&&I!==(I=u("button "+(e[2]?"selected":""))+" svelte-vwrpyk"))&&C(k,"class",I)},i(e){q||(G((()=>{q&&(M||(M=ue(t,Mn,{duration:200},!0)),M.run(1))})),q=!0)},o(e){M||(M=ue(t,Mn,{duration:200},!1)),M.run(0),q=!1},d(e){e&&S(t),P&&P.d(),e&&M&&M.end(),D=!1,i(_)}}}function Rn(e){let t,n,o,r,l=(e[5]?"Change":"Set")+" Export Folder";return{c(){t=A("button"),n=E(l),C(t,"class","button svelte-vwrpyk")},m(e,i){x(e,t,i),g(t,n),o||(r=[T(t,"click",Wn),T(t,"keydown",Wn)],o=!0)},p(e,t){32&t&&l!==(l=(e[5]?"Change":"Set")+" Export Folder")&&I(n,l)},d(e){e&&S(t),o=!1,i(r)}}}function Hn(e){let t,n,o,i,r,l,s=e[1]&&Un(e);return{c(){t=A("input"),n=$(),s&&s.c(),o=N(),C(t,"type","file"),C(t,"accept",".json"),F(t,"display","none")},m(a,c){x(a,t,c),e[15](t),x(a,n,c),s&&s.m(a,c),x(a,o,c),i=!0,r||(l=T(t,"change",e[7]),r=!0)},p(e,[t]){e[1]?s?(s.p(e,t),2&t&&se(s,1)):(s=Un(e),s.c(),se(s,1),s.m(o.parentNode,o)):s&&(re(),ae(s,1,1,(()=>{s=null})),le())},i(e){i||(se(s),i=!0)},o(e){ae(s),i=!1},d(i){i&&S(t),e[15](null),i&&S(n),s&&s.d(i),i&&S(o),r=!1,l()}}}function Bn(){alert("Still Fixing This")}function Wn(){console.log("WebtoApp: Choose an Export Path")}function Vn(e,t,n){let o,i,r,l,s,a,u,f,p,m,h,v,y;return c(e,He,(e=>n(1,o=e))),c(e,Te,(e=>n(16,i=e))),c(e,$e,(e=>n(17,r=e))),c(e,Ue,(e=>n(18,l=e))),c(e,Ne,(e=>n(19,s=e))),c(e,ke,(e=>n(20,a=e))),c(e,Ee,(e=>n(21,u=e))),c(e,Ae,(e=>n(22,f=e))),c(e,Me,(e=>n(2,p=e))),c(e,Ce,(e=>n(3,m=e))),c(e,be,(e=>n(4,h=e))),c(e,Fe,(e=>n(5,v=e))),window.setExportPathAvailability=async(e=!0)=>{d(Fe,v=e,v),await Qt(e,"exportPathIsAvailable")},[y,o,p,m,h,v,function(){if(!(y instanceof Element))return d(Te,i="Something went wrong...",i);confirm("Are you sure you want to import your Data?")&&y.click()},async function(){if(!(y instanceof Element))return d(Te,i="Something went wrong...",i);let e=y.files?.[0];if(e){let n=e.name;confirm(`File ${n?"named ["+n+"] ":""}has been detected, do you want to continue the import?`)&&(await Qt(!0,"shouldProcessRecommendation"),d(He,o=!1,o),t={importedFile:e},new Promise(((e,n)=>{zt&&zt.terminate(),zt=new Worker("./webapi/worker/importUserData.js"),Vt&&clearTimeout(Vt),zt.postMessage(t),zt.onmessage=({data:t})=>{void 0!==t?.status?(Ft=!0,Te.set(t.status)):"string"==typeof t?.importedUsername?Se.set(t.importedUsername):void 0!==t?.updateFilters?Ze.update((e=>!e)):void 0!==t?.updateRecommendationList?Qe.update((e=>!e)):(Ft=!1,Vt=setTimeout((()=>{zt.terminate()}),Lt),e(t))},zt.onerror=e=>{n(e)}})))}var t},async function(){if(!v&&h)return Wn();confirm("Are you sure you want to export your Data?")&&(d(He,o=!1,o),Wt())},function(){confirm("Are you sure you want to update your list?")&&(d(He,o=!1,o),Je.update((e=>!e)))},function(){confirm(`Are you sure you want to ${m?"disable":"enable"} auto-update?`)&&(d(He,o=!1,o),d(Ce,m=!m,m))},async function(){if(!v&&h)return Wn();confirm(`Are you sure you want to ${m?"disable":"enable"} auto-export?`)&&(d(He,o=!1,o),d(Me,p=!p,p))},function(e){e.target.classList.contains("button")||d(He,o=!o,o)},async function(){if(ot(a))alert("No Hidden Entries");else if(confirm("Are you sure you want to show all hidden Anime Entries?")){s&&(s.terminate(),d(Ne,s=null,s)),d($e,r=null,r),d(Te,i="Updating List",i),d(He,o=!1,o);let e=f?.filterSelection?.findIndex?.((({filterSelectionName:e})=>"Anime Filter"===e)),t=f?.filterSelection?.[e??-1]?.filters?.Checkbox?.findIndex?.((({filName:e})=>"hidden anime"===e));e>=0&&t>=0&&d(Ae,f.filterSelection[e??-1].filters.Checkbox[t??-1].isSelected=!1,f),u?.["Anime Filter"]&&d(Ee,u["Anime Filter"]=u["Anime Filter"].filter((({optionName:e,filterType:t})=>"hidden"!==e&&"checkbox"!==t)),u),d(ke,a={},a),await Qt(f,"filterOptions"),await Qt(u,"activeTagFilters"),await Qt(a,"hiddenEntries"),Mt().then((async e=>{d(Ne,s=e.animeLoaderWorker,s),d(Ue,l="",l),d($e,r=e.finalAnimeList,r),d(Te,i=null,i)})).catch((e=>{throw e}))}},function(){confirm("Do you want to sign-up an Anilist account?")&&(d(He,o=!1,o),window.open("https://anilist.co/signup","_blank"))},function(e){H[e?"unshift":"push"]((()=>{y=e,n(0,y)}))}]}function zn(t){let n,o,i;return{c(){n=A("div"),o=A("div"),i=E(t[0]),C(o,"class","toast-message svelte-1s713da"),C(n,"class","toast-container svelte-1s713da"),F(n,"display",t[0]?"":"none")},m(e,t){x(e,n,t),g(n,o),g(o,i)},p(e,[t]){1&t&&I(i,e[0]),1&t&&F(n,"display",e[0]?"":"none")},i:e,o:e,d(e){e&&S(n)}}}function Kn(e,t,n){let o;return c(e,Re,(e=>n(0,o=e))),[o]}function Yn(t){let n;return{c(){n=A("div"),n.innerHTML='<div><h1 id="loaderText">Loading...</h1></div>',C(n,"id","loader"),F(n,"display","none")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&S(n)}}}class Gn extends ye{constructor(e){super(),ve(this,e,null,null,l,{})}}function Jn(e,t,n){const o=e.slice();return o[55]=t[n].sortName,o[57]=n,o}function Xn(e,t,n){const o=e.slice();return o[58]=t[n].optionName,o[59]=t[n].optionIdx,o[60]=t[n].selected,o[61]=t[n].changeType,o[62]=t[n].filterType,o[63]=t[n].categIdx,o[64]=t[n].optionValue,o}function Qn(e,t,n){const o=e.slice();return o[87]=t[n],o}function Zn(e,t,n){const o=e.slice();return o[67]=t[n].filterSelectionName,o[68]=t[n].filters,o[69]=t[n].isSelected,o[70]=t,o[71]=n,o}function eo(e,t,n){const o=e.slice();return o[72]=t[n].filName,o[73]=t[n].numberValue,o[74]=t[n].maxValue,o[75]=t[n].minValue,o[76]=t[n].defaultValue,o[78]=n,o}function to(e,t,n){const o=e.slice();return o[79]=t[n],o[80]=t,o[81]=n,o}function no(e,t,n){const o=e.slice();return o[72]=t[n].filName,o[82]=t[n].options,o[60]=t[n].selected,o[61]=t[n].changeType,o[83]=t[n].optKeyword,o[84]=t,o[85]=n,o}function oo(e,t,n){const o=e.slice();return o[58]=t[n].optionName,o[60]=t[n].selected,o[59]=n,o}function io(e,t,n){const o=e.slice();return o[67]=t[n].filterSelectionName,o[69]=t[n].isSelected,o}function ro(e){let t,n=[],o=new Map,i=e[4]?.filterSelection||[];const r=e=>e[67];for(let t=0;t<i.length;t+=1){let l=io(e,i,t),s=r(l);o.set(s,n[t]=lo(s,l))}return{c(){t=A("div");for(let e=0;e<n.length;e+=1)n[e].c();C(t,"class","options svelte-1rxwgtp")},m(e,o){x(e,t,o);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,null)},p(e,l){2064&l[0]&&(i=e[4]?.filterSelection||[],n=fe(n,l,r,1,e,i,o,t,de,lo,null,io))},d(e){e&&S(t);for(let e=0;e<n.length;e+=1)n[e].d()}}}function lo(e,t){let n,o,l,s,a,c,u=(t[67]||"")+"";return{key:e,first:null,c(){n=A("div"),o=A("h3"),l=E(u),s=$(),C(o,"class","svelte-1rxwgtp"),F(o,"color",t[69]?"#3db4f2":"inherit"),C(n,"class","option svelte-1rxwgtp"),this.first=n},m(e,i){x(e,n,i),g(n,o),g(o,l),g(n,s),a||(c=[T(n,"click",(function(){r(t[11](t[67]))&&t[11](t[67]).apply(this,arguments)})),T(n,"keydown",(function(){r(t[11](t[67]))&&t[11](t[67]).apply(this,arguments)}))],a=!0)},p(e,n){t=e,16&n[0]&&u!==(u=(t[67]||"")+"")&&I(l,u),16&n[0]&&F(o,"color",t[69]?"#3db4f2":"inherit")},d(e){e&&S(n),a=!1,i(c)}}}function so(t){let n;return{c(){n=A("div"),C(n,"class","skeleton shimmer svelte-1rxwgtp")},m(e,t){x(e,n,t)},p:e,d(e){e&&S(n)}}}function ao(e){let t,n,o,i=(e[4]?.filterSelection?.filter?.(jo)?.[0]?.filterSelectionName||"")+"";return{c(){t=A("span"),n=A("h2"),o=E(i),C(n,"class","svelte-1rxwgtp"),C(t,"class","svelte-1rxwgtp")},m(e,i){x(e,t,i),g(t,n),g(n,o)},p(e,t){16&t[0]&&i!==(i=(e[4]?.filterSelection?.filter?.(jo)?.[0]?.filterSelectionName||"")+"")&&I(o,i)},d(e){e&&S(t)}}}function co(n){let o,l,s,a;function c(e,t){return e[6]?po:e[8]||e[9]?uo:fo}let u=c(n),d=u(n);return{c(){o=A("span"),l=A("h2"),d.c(),C(l,"class","svelte-1rxwgtp"),C(o,"class","data-status svelte-1rxwgtp")},m(e,t){x(e,o,t),g(o,l),d.m(l,null),a=!0},p(e,t){u===(u=c(e))&&d?d.p(e,t):(d.d(1),d=u(e),d&&(d.c(),d.m(l,null)))},i(e){a||(s&&s.end(1),a=!0)},o(n){s=function(n,o,l){const s={direction:"out"};let a,c=o(n,l,s),u=!0;const d=ie;function f(){const{delay:o=0,duration:r=300,easing:l=t,tick:s=e,css:f}=c||ce;f&&(a=_(n,1,0,r,o,l,f));const m=p()+o,h=m+r;G((()=>ne(n,!1,"start"))),y((e=>{if(u){if(e>=h)return s(0,1),ne(n,!1,"end"),--d.r||i(d.c),!1;if(e>=m){const t=l((e-m)/r);s(1-t,t)}}return u}))}return d.r+=1,r(c)?te().then((()=>{c=c(s),f()})):f(),{end(e){e&&c.tick&&c.tick(1,0),u&&(a&&P(n,a),u=!1)}}}(o,Mn,{duration:300}),a=!1},d(e){e&&S(o),d.d(),e&&s&&s.end()}}}function uo(t){let n;return{c(){n=E("")},m(e,t){x(e,n,t)},p:e,d(e){e&&S(n)}}}function fo(t){let n;return{c(){n=E("No Anilist Username Found")},m(e,t){x(e,n,t)},p:e,d(e){e&&S(n)}}}function po(e){let t;return{c(){t=E(e[6])},m(e,n){x(e,t,n)},p(e,n){64&n[0]&&I(t,e[6])},d(e){e&&S(t)}}}function mo(t){let n,o=Array(10),i=[];for(let e=0;e<o.length;e+=1)i[e]=vo(Qn(t,o,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=N()},m(e,t){for(let n=0;n<i.length;n+=1)i[n]&&i[n].m(e,t);x(e,n,t)},p:e,d(e){k(i,e),e&&S(n)}}}function ho(e){let t,n=[],o=new Map,i=e[4]?.filterSelection||[];const r=e=>e[67]+e[71];for(let t=0;t<i.length;t+=1){let l=Zn(e,i,t),s=r(l);o.set(s,n[t]=$o(s,l))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=N()},m(e,o){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,o);x(e,t,o)},p(e,l){254995&l[0]&&(i=e[4]?.filterSelection||[],n=fe(n,l,r,1,e,i,o,t.parentNode,de,$o,t,Zn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&S(t)}}}function vo(t){let n;return{c(){n=A("div"),n.innerHTML='<div class="filter-name skeleton shimmer svelte-1rxwgtp"></div> \n                    <div class="select skeleton shimmer svelte-1rxwgtp"></div> \n                ',C(n,"class","filter-select svelte-1rxwgtp")},m(e,t){x(e,n,t)},p:e,d(e){e&&S(n)}}}function yo(t){let n;return{c(){n=A("i"),C(n,"class","icon fa-solid fa-angle-down svelte-1rxwgtp")},m(e,t){x(e,n,t)},p:e,d(e){e&&S(n)}}}function go(e){let t,n,o;return{c(){t=A("i"),C(t,"class","icon fa-solid fa-angle-up svelte-1rxwgtp")},m(i,l){x(i,t,l),n||(o=[T(t,"keydown",(function(){r(e[14](e[85]))&&e[14](e[85]).apply(this,arguments)})),T(t,"click",(function(){r(e[14](e[85]))&&e[14](e[85]).apply(this,arguments)}))],n=!0)},p(t,n){e=t},d(e){e&&S(t),n=!1,i(o)}}}function wo(e){let t,n,o,l,s,a,c=(e[58]||"")+"";function u(e,t){return"included"===e[60]?xo:"excluded"===e[60]?bo:void 0}let d=u(e),f=d&&d(e);return{c(){t=A("div"),n=A("h3"),o=E(c),l=$(),f&&f.c(),C(n,"class","svelte-1rxwgtp"),C(t,"class","option svelte-1rxwgtp")},m(i,c){x(i,t,c),g(t,n),g(n,o),g(t,l),f&&f.m(t,null),s||(a=[T(t,"click",(function(){r(e[15](e[58],e[72],e[59],e[85],e[61],e[67]))&&e[15](e[58],e[72],e[59],e[85],e[61],e[67]).apply(this,arguments)})),T(t,"keydown",(function(){r(e[15](e[58],e[72],e[59],e[85],e[61],e[67]))&&e[15](e[58],e[72],e[59],e[85],e[61],e[67]).apply(this,arguments)}))],s=!0)},p(n,i){e=n,16&i[0]&&c!==(c=(e[58]||"")+"")&&I(o,c),d!==(d=u(e))&&(f&&f.d(1),f=d&&d(e),f&&(f.c(),f.m(t,null)))},d(e){e&&S(t),f&&f.d(),s=!1,i(a)}}}function bo(e){let t;return{c(){t=A("i"),C(t,"class","fa-regular fa-circle-xmark svelte-1rxwgtp"),F(t,"--optionColor","#e85d75")},m(e,n){x(e,t,n)},d(e){e&&S(t)}}}function xo(e){let t;return{c(){t=A("i"),C(t,"class","fa-regular fa-circle-check svelte-1rxwgtp"),F(t,"--optionColor","#5f9ea0")},m(e,n){x(e,t,n)},d(e){e&&S(t)}}}function So(e,t){let n,o,i=Po(t[58],t[83])||""===t[83],r=i&&wo(t);return{key:e,first:null,c(){n=N(),r&&r.c(),o=N(),this.first=n},m(e,t){x(e,n,t),r&&r.m(e,t),x(e,o,t)},p(e,n){t=e,16&n[0]&&(i=Po(t[58],t[83])||""===t[83]),i?r?r.p(t,n):(r=wo(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(e){e&&S(n),r&&r.d(e),e&&S(o)}}}function ko(e,t){let n,o,r,l,s,a,c,u,d,f,p,m,h,v,y=(t[72]||"")+"",w=[],b=new Map,k=`${t[1]}px`;function N(){t[25].call(u,t[71],t[85])}function M(e,t){return e[60]&&e[82].length&&!e[0]?go:yo}let q=M(t),D=q(t);function _(...e){return t[26](t[85],...e)}function P(...e){return t[27](t[85],...e)}let O=t[82];const j=e=>e[58]+e[59];for(let e=0;e<O.length;e+=1){let n=oo(t,O,e),o=j(n);b.set(o,w[e]=So(o,n))}return{key:e,first:null,c(){n=A("div"),o=A("div"),r=A("h2"),l=E(y),s=$(),a=A("div"),c=A("div"),u=A("input"),d=$(),D.c(),f=$(),p=A("div"),m=A("div");for(let e=0;e<w.length;e+=1)w[e].c();C(r,"class","svelte-1rxwgtp"),C(o,"class","filter-name svelte-1rxwgtp"),C(u,"placeholder","Any"),C(u,"type","search"),C(u,"enterkeyhint","search"),C(u,"autocomplete","off"),C(u,"class","value-input svelte-1rxwgtp"),C(c,"class","value-wrap svelte-1rxwgtp"),C(a,"class","select svelte-1rxwgtp"),C(m,"class","options svelte-1rxwgtp"),C(p,"class","options-wrap svelte-1rxwgtp"),F(p,"--maxFilterSelectionHeight",k),F(p,"visibility",t[82].length&&t[60]&&!t[0]?"":"hidden"),F(p,"pointer-events",t[82].length&&t[60]&&!t[0]?"":"none"),C(n,"class","filter-select svelte-1rxwgtp"),F(n,"display",t[69]?"":"none"),this.first=n},m(e,i){x(e,n,i),g(n,o),g(o,r),g(r,l),g(n,s),g(n,a),g(a,c),g(c,u),L(u,t[4].filterSelection[t[71]].filters.Dropdown[t[85]].optKeyword),g(a,d),D.m(a,null),g(n,f),g(n,p),g(p,m);for(let e=0;e<w.length;e+=1)w[e]&&w[e].m(m,null);h||(v=[T(u,"input",N),T(a,"keydown",_),T(a,"click",P)],h=!0)},p(e,o){t=e,16&o[0]&&y!==(y=(t[72]||"")+"")&&I(l,y),16&o[0]&&u.value!==t[4].filterSelection[t[71]].filters.Dropdown[t[85]].optKeyword&&L(u,t[4].filterSelection[t[71]].filters.Dropdown[t[85]].optKeyword),q===(q=M(t))&&D?D.p(t,o):(D.d(1),D=q(t),D&&(D.c(),D.m(a,null))),32784&o[0]&&(O=t[82],w=fe(w,o,j,1,t,O,b,m,de,So,null,oo)),2&o[0]&&k!==(k=`${t[1]}px`)&&F(p,"--maxFilterSelectionHeight",k),17&o[0]&&F(p,"visibility",t[82].length&&t[60]&&!t[0]?"":"hidden"),17&o[0]&&F(p,"pointer-events",t[82].length&&t[60]&&!t[0]?"":"none"),16&o[0]&&F(n,"display",t[69]?"":"none")},d(e){e&&S(n),D.d();for(let e=0;e<w.length;e+=1)w[e].d();h=!1,i(v)}}}function Ao(e,t){let n,o,r,l,s,a,c,u,d,f,p=(t[79].filName||"")+"";function m(...e){return t[28](t[79],t[81],t[67],...e)}function h(){t[29].call(s,t[80],t[81])}function v(...e){return t[30](t[79],t[81],t[67],...e)}function y(...e){return t[31](t[79],t[81],t[67],...e)}return{key:e,first:null,c(){n=A("div"),o=A("div"),r=$(),l=A("div"),s=A("input"),a=$(),c=A("div"),u=E(p),C(o,"class","svelte-1rxwgtp"),F(o,"visibility","none"),C(s,"type","checkbox"),C(s,"class","checkbox svelte-1rxwgtp"),C(c,"class","checkbox-label svelte-1rxwgtp"),C(l,"class","checkbox-wrap svelte-1rxwgtp"),C(n,"class","filter-checkbox svelte-1rxwgtp"),F(n,"display",t[69]?"":"none"),this.first=n},m(e,i){x(e,n,i),g(n,o),g(n,r),g(n,l),g(l,s),s.checked=t[79].isSelected,g(l,a),g(l,c),g(c,u),d||(f=[T(s,"change",m),T(s,"change",h),T(l,"click",v),T(l,"keydown",y)],d=!0)},p(e,o){t=e,16&o[0]&&(s.checked=t[79].isSelected),16&o[0]&&p!==(p=(t[79].filName||"")+"")&&I(u,p),16&o[0]&&F(n,"display",t[69]?"":"none")},d(e){e&&S(n),d=!1,i(f)}}}function Eo(e,t){let n,o,i,r,l,s,a,c,u,d,f,p,m=(t[72]||"")+"";function h(...e){return t[32](t[78],t[72],t[74],t[75],t[67],...e)}return{key:e,first:null,c(){n=A("div"),o=A("div"),i=A("h2"),r=E(m),l=$(),s=A("div"),a=A("input"),d=$(),C(i,"class","svelte-1rxwgtp"),C(o,"class","filter-input-number-name svelte-1rxwgtp"),C(a,"class","value-input-number svelte-1rxwgtp"),C(a,"type","text"),C(a,"placeholder",c=t[10].includes(t[72])?">123 or 123":null!==t[76]?"Default: "+t[76]:"123"),a.value=u=t[73]||"",C(s,"class","value-input-number-wrap svelte-1rxwgtp"),C(n,"class","filter-input-number svelte-1rxwgtp"),F(n,"display",t[69]?"":"none"),this.first=n},m(e,t){x(e,n,t),g(n,o),g(o,i),g(i,r),g(n,l),g(n,s),g(s,a),g(n,d),f||(p=T(a,"input",h),f=!0)},p(e,o){t=e,16&o[0]&&m!==(m=(t[72]||"")+"")&&I(r,m),16&o[0]&&c!==(c=t[10].includes(t[72])?">123 or 123":null!==t[76]?"Default: "+t[76]:"123")&&C(a,"placeholder",c),16&o[0]&&u!==(u=t[73]||"")&&a.value!==u&&(a.value=u),16&o[0]&&F(n,"display",t[69]?"":"none")},d(e){e&&S(n),f=!1,p()}}}function $o(e,t){let n,o,i,r,l=[],s=new Map,a=[],c=new Map,u=[],d=new Map,f=t[68].Dropdown||[];const p=e=>e[72]+e[85];for(let e=0;e<f.length;e+=1){let n=no(t,f,e),o=p(n);s.set(o,l[e]=ko(o,n))}let m=t[68].Checkbox||[];const h=e=>e[79].filName+e[81];for(let e=0;e<m.length;e+=1){let n=to(t,m,e),o=h(n);c.set(o,a[e]=Ao(o,n))}let v=t[68]["Input Number"]||[];const y=e=>e[72]+e[78];for(let e=0;e<v.length;e+=1){let n=eo(t,v,e),o=y(n);d.set(o,u[e]=Eo(o,n))}return{key:e,first:null,c(){n=N();for(let e=0;e<l.length;e+=1)l[e].c();o=$();for(let e=0;e<a.length;e+=1)a[e].c();i=$();for(let e=0;e<u.length;e+=1)u[e].c();r=N(),this.first=n},m(e,t){x(e,n,t);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,t);x(e,o,t);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,t);x(e,i,t);for(let n=0;n<u.length;n+=1)u[n]&&u[n].m(e,t);x(e,r,t)},p(e,n){t=e,57363&n[0]&&(f=t[68].Dropdown||[],l=fe(l,n,p,1,t,f,s,o.parentNode,de,ko,o,no)),65552&n[0]&&(m=t[68].Checkbox||[],a=fe(a,n,h,1,t,m,c,i.parentNode,de,Ao,i,to)),132112&n[0]&&(v=t[68]["Input Number"]||[],u=fe(u,n,y,1,t,v,d,r.parentNode,de,Eo,r,eo))},d(e){e&&S(n);for(let t=0;t<l.length;t+=1)l[t].d(e);e&&S(o);for(let t=0;t<a.length;t+=1)a[t].d(e);e&&S(i);for(let t=0;t<u.length;t+=1)u[t].d(e);e&&S(r)}}}function No(e){let t,n,o,l,s,a;function c(e,t){return"input number"===e[62]?Co:To}let u=c(e),d=u(e);return{c(){t=A("div"),d.c(),n=$(),o=A("i"),l=$(),C(o,"class","fa-solid fa-xmark svelte-1rxwgtp"),C(t,"class","activeTagFilter svelte-1rxwgtp"),F(t,"--activeTagFilterColor","included"===e[60]?"#5f9ea0":"#e85d75")},m(i,c){var u;x(i,t,c),d.m(t,null),g(t,n),g(t,o),g(t,l),s||(a=[T(o,"click",(u=function(){r(e[19](e[59],e[58],e[62],e[63]))&&e[19](e[59],e[58],e[62],e[63]).apply(this,arguments)},function(e){return e.preventDefault(),u.call(this,e)})),T(o,"keydown",(function(){r(e[19](e[59],e[58],e[62],e[63]))&&e[19](e[59],e[58],e[62],e[63]).apply(this,arguments)})),T(t,"click",(function(){r(e[18](e[59],e[58],e[62],e[63],e[61]))&&e[18](e[59],e[58],e[62],e[63],e[61]).apply(this,arguments)})),T(t,"keydown",(function(){r(e[18](e[59],e[58],e[62],e[63],e[61]))&&e[18](e[59],e[58],e[62],e[63],e[61]).apply(this,arguments)}))],s=!0)},p(o,i){u===(u=c(e=o))&&d?d.p(e,i):(d.d(1),d=u(e),d&&(d.c(),d.m(t,n))),48&i[0]&&F(t,"--activeTagFilterColor","included"===e[60]?"#5f9ea0":"#e85d75")},d(e){e&&S(t),d.d(),s=!1,i(a)}}}function To(e){let t,n,o=(e[58]||"")+"";return{c(){t=A("h3"),n=E(o),C(t,"class","svelte-1rxwgtp")},m(e,o){x(e,t,o),g(t,n)},p(e,t){48&t[0]&&o!==(o=(e[58]||"")+"")&&I(n,o)},d(e){e&&S(t)}}}function Co(e){let t,n,o=(e[58]+": "+e[64]||"")+"";return{c(){t=A("h3"),n=E(o),C(t,"class","svelte-1rxwgtp")},m(e,o){x(e,t,o),g(t,n)},p(e,t){48&t[0]&&o!==(o=(e[58]+": "+e[64]||"")+"")&&I(n,o)},d(e){e&&S(t)}}}function Io(e,t){let n,o,i="none"!==t[60]&&No(t);return{key:e,first:null,c(){n=N(),i&&i.c(),o=N(),this.first=n},m(e,t){x(e,n,t),i&&i.m(e,t),x(e,o,t)},p(e,n){"none"!==(t=e)[60]?i?i.p(t,n):(i=No(t),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&S(n),i&&i.d(e),e&&S(o)}}}function Lo(e){let t,n,o;return{c(){t=A("i"),n=$(),o=A("div"),C(t,"class","skeleton shimmer svelte-1rxwgtp"),C(o,"class","tagFilters skeleton shimmer svelte-1rxwgtp")},m(e,i){x(e,t,i),x(e,n,i),x(e,o,i)},d(e){e&&S(t),e&&S(n),e&&S(o)}}}function Fo(t){let n;return{c(){n=A("div"),C(n,"class","sortFilter skeleton shimmer svelte-1rxwgtp")},m(e,t){x(e,n,t)},p:e,d(e){e&&S(n)}}}function Mo(e){let t,n,o,r,l,s,a,c,d,f,p,m=(e[4]?.sortFilter?.[e[4]?.sortFilter.findIndex(Bo)]?.sortName||"")+"",h=[],v=new Map,y=`${e[1]}px`,w=e[4]?.sortFilter||[];const b=e=>e[55]+e[57];for(let t=0;t<w.length;t+=1){let n=Jn(e,w,t),o=b(n);v.set(o,h[t]=Do(o,n))}return{c(){t=A("div"),n=A("i"),r=$(),l=A("h3"),s=E(m),a=$(),c=A("div"),d=A("div");for(let e=0;e<h.length;e+=1)h[e].c();C(n,"class",o=u("fa-duotone fa-sort-"+("asc"===e[4]?.sortFilter?.[e[4]?.sortFilter?.findIndex(Ho)]?.sortType?"up":"down"))+" svelte-1rxwgtp"),C(d,"class","options svelte-1rxwgtp"),C(c,"class","options-wrap svelte-1rxwgtp"),F(c,"--maxFilterSelectionHeight",y),F(c,"visibility",e[3]?"":"hidden"),F(c,"pointer-events",e[3]?"":"none"),C(l,"class","svelte-1rxwgtp"),C(t,"class","sortFilter svelte-1rxwgtp")},m(o,i){x(o,t,i),g(t,n),g(t,r),g(t,l),g(l,s),g(l,a),g(l,c),g(c,d);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(d,null);f||(p=[T(n,"click",e[23]),T(n,"keydown",e[23]),T(l,"click",e[21]),T(l,"keydown",e[21])],f=!0)},p(e,t){16&t[0]&&o!==(o=u("fa-duotone fa-sort-"+("asc"===e[4]?.sortFilter?.[e[4]?.sortFilter?.findIndex(Ho)]?.sortType?"up":"down"))+" svelte-1rxwgtp")&&C(n,"class",o),16&t[0]&&m!==(m=(e[4]?.sortFilter?.[e[4]?.sortFilter.findIndex(Bo)]?.sortName||"")+"")&&I(s,m),4194320&t[0]&&(w=e[4]?.sortFilter||[],h=fe(h,t,b,1,e,w,v,d,de,Do,null,Jn)),2&t[0]&&y!==(y=`${e[1]}px`)&&F(c,"--maxFilterSelectionHeight",y),8&t[0]&&F(c,"visibility",e[3]?"":"hidden"),8&t[0]&&F(c,"pointer-events",e[3]?"":"none")},d(e){e&&S(t);for(let e=0;e<h.length;e+=1)h[e].d();f=!1,i(p)}}}function qo(e){let t,n;return{c(){t=A("i"),C(t,"class",n=u("fa-duotone fa-sort-"+("asc"===e[4]?.sortFilter?.[e[4]?.sortFilter?.findIndex(Wo)].sortType?"up":"down"))+" svelte-1rxwgtp")},m(e,n){x(e,t,n)},p(e,o){16&o[0]&&n!==(n=u("fa-duotone fa-sort-"+("asc"===e[4]?.sortFilter?.[e[4]?.sortFilter?.findIndex(Wo)].sortType?"up":"down"))+" svelte-1rxwgtp")&&C(t,"class",n)},d(e){e&&S(t)}}}function Do(e,t){let n,o,l,s,a,c,u,d=(t[55]||"")+"",f=t[4]?.sortFilter?.[t[4]?.sortFilter?.findIndex(Oo)].sortName===t[55]&&t[55],p=f&&qo(t);return{key:e,first:null,c(){n=A("div"),o=A("h3"),l=E(d),s=$(),p&&p.c(),a=$(),C(o,"class","svelte-1rxwgtp"),C(n,"class","option svelte-1rxwgtp"),this.first=n},m(e,i){x(e,n,i),g(n,o),g(o,l),g(n,s),p&&p.m(n,null),g(n,a),c||(u=[T(n,"click",(function(){r(t[22](t[55]))&&t[22](t[55]).apply(this,arguments)})),T(n,"keydown",(function(){r(t[22](t[55]))&&t[22](t[55]).apply(this,arguments)}))],c=!0)},p(e,o){t=e,16&o[0]&&d!==(d=(t[55]||"")+"")&&I(l,d),16&o[0]&&(f=t[4]?.sortFilter?.[t[4]?.sortFilter?.findIndex(Oo)].sortName===t[55]&&t[55]),f?p?p.p(t,o):(p=qo(t),p.c(),p.m(n,a)):p&&(p.d(1),p=null)},d(e){e&&S(n),p&&p.d(),c=!1,i(u)}}}function _o(e){let t,n,o,r,l,s,a,c,u,d,f,p,m,h,v,y,w,b,k,E,N,I,M,q=`${e[1]}px`,D=`${window.innerHeight}px`,_=[],P=new Map,O=e[4]&&ro(e);function j(e,t){return e[4]?ao:so}let U=j(e),R=U(e),H=(e[6]||!e[8])&&co(e);function B(e,t){return e[4]?ho:mo}let W=B(e),V=W(e),z=e[5]?.[e[4]?.filterSelection?.[e[4]?.filterSelection?.findIndex(Ro)]?.filterSelectionName]||[];const K=e=>e[58]+e[59];for(let t=0;t<z.length;t+=1){let n=Xn(e,z,t),o=K(n);P.set(o,_[t]=Io(o,n))}let Y=!e[5]&&Lo();function G(e,t){return e[4]?Mo:Fo}let J=G(e),X=J(e);return{c(){t=A("main"),n=A("div"),o=A("input"),r=$(),l=A("div"),s=A("i"),a=$(),c=A("div"),O&&O.c(),u=$(),d=A("div"),R.c(),f=$(),H&&H.c(),p=$(),m=A("div"),V.c(),h=$(),v=A("div"),y=A("i"),w=$(),b=A("div");for(let e=0;e<_.length;e+=1)_[e].c();k=$(),Y&&Y.c(),E=$(),X.c(),C(o,"id","input-search"),C(o,"class","input-search svelte-1rxwgtp"),C(o,"type","search"),C(o,"enterkeyhint","search"),C(o,"autocomplete","off"),C(o,"placeholder","Search"),C(s,"class","fa-solid fa-sliders svelte-1rxwgtp"),C(c,"class","options-wrap svelte-1rxwgtp"),F(c,"--maxFilterSelectionHeight",q),F(c,"visibility",e[2]?"":"hidden"),F(c,"pointer-events",e[2]?"":"none"),C(l,"class","filterType svelte-1rxwgtp"),C(n,"class","input-search-wrap svelte-1rxwgtp"),C(d,"class","home-status svelte-1rxwgtp"),C(m,"class","filters svelte-1rxwgtp"),C(m,"id","filters"),F(m,"--maxPaddingHeight",D),C(y,"class","fa-solid fa-ban svelte-1rxwgtp"),C(y,"title","Remove Filters"),F(y,"display",e[5]?"":"none"),F(y,"visibility",e[5]?.[e[4]?.filterSelection?.[e[4]?.filterSelection?.findIndex(Uo)]?.filterSelectionName]?.length?"visible":"hidden"),C(b,"id","tagFilters"),C(b,"class","tagFilters svelte-1rxwgtp"),F(b,"display",e[5]?"":"none"),C(v,"class","activeFilters svelte-1rxwgtp"),C(t,"class","svelte-1rxwgtp")},m(i,S){x(i,t,S),g(t,n),g(n,o),L(o,e[7]),g(n,r),g(n,l),g(l,s),g(l,a),g(l,c),O&&O.m(c,null),g(t,u),g(t,d),R.m(d,null),g(d,f),H&&H.m(d,null),g(t,p),g(t,m),V.m(m,null),g(t,h),g(t,v),g(v,y),g(v,w),g(v,b);for(let e=0;e<_.length;e+=1)_[e]&&_[e].m(b,null);g(v,k),Y&&Y.m(v,null),g(v,E),X.m(v,null),N=!0,I||(M=[T(o,"input",e[24]),T(s,"click",e[12]),T(s,"keydown",e[12]),T(y,"click",e[20]),T(y,"keydown",e[20])],I=!0)},p(e,t){128&t[0]&&o.value!==e[7]&&L(o,e[7]),e[4]?O?O.p(e,t):(O=ro(e),O.c(),O.m(c,null)):O&&(O.d(1),O=null),2&t[0]&&q!==(q=`${e[1]}px`)&&F(c,"--maxFilterSelectionHeight",q),4&t[0]&&F(c,"visibility",e[2]?"":"hidden"),4&t[0]&&F(c,"pointer-events",e[2]?"":"none"),U===(U=j(e))&&R?R.p(e,t):(R.d(1),R=U(e),R&&(R.c(),R.m(d,f))),e[6]||!e[8]?H?(H.p(e,t),320&t[0]&&se(H,1)):(H=co(e),H.c(),se(H,1),H.m(d,null)):H&&(re(),ae(H,1,1,(()=>{H=null})),le()),W===(W=B(e))&&V?V.p(e,t):(V.d(1),V=W(e),V&&(V.c(),V.m(m,null))),32&t[0]&&F(y,"display",e[5]?"":"none"),48&t[0]&&F(y,"visibility",e[5]?.[e[4]?.filterSelection?.[e[4]?.filterSelection?.findIndex(Uo)]?.filterSelectionName]?.length?"visible":"hidden"),786480&t[0]&&(z=e[5]?.[e[4]?.filterSelection?.[e[4]?.filterSelection?.findIndex(Ro)]?.filterSelectionName]||[],_=fe(_,t,K,1,e,z,P,b,de,Io,null,Xn)),32&t[0]&&F(b,"display",e[5]?"":"none"),e[5]?Y&&(Y.d(1),Y=null):Y||(Y=Lo(),Y.c(),Y.m(v,E)),J===(J=G(e))&&X?X.p(e,t):(X.d(1),X=J(e),X&&(X.c(),X.m(v,null)))},i(e){N||(se(H),N=!0)},o(e){ae(H),N=!1},d(e){e&&S(t),O&&O.d(),R.d(),H&&H.d(),V.d();for(let e=0;e<_.length;e+=1)_[e].d();Y&&Y.d(),X.d(),I=!1,i(M)}}}function Po(e,t){if("string"==typeof e&&"string"==typeof t)return e.toLowerCase().includes(t.toLowerCase())}const Oo=({sortType:e})=>"none"!==e,jo=({isSelected:e})=>e,Uo=({isSelected:e})=>e,Ro=({isSelected:e})=>e,Ho=({sortType:e})=>"none"!==e,Bo=({sortType:e})=>"none"!==e,Wo=({sortType:e})=>"none"!==e;function Vo(e,t,n){let o,i,r,l,s,a,u,f,p,m;c(e,Ae,(e=>n(4,o=e))),c(e,Ee,(e=>n(5,i=e))),c(e,et,(e=>n(43,r=e))),c(e,Te,(e=>n(6,l=e))),c(e,$e,(e=>n(44,s=e))),c(e,Ne,(e=>n(45,a=e))),c(e,Qe,(e=>n(46,u=e))),c(e,Ue,(e=>n(7,f=e))),c(e,Se,(e=>n(8,p=e))),c(e,Oe,(e=>n(9,m=e)));let h,v,y,g,w,b,x,S,k,A,E,$=!0,N=["Algorithm Filter"],T=["sort","Anime Filter","Content Caution"],C=["weighted score","score","average score","user score","popularity"];function I(e){A&&E===e&&clearTimeout(A),E=e,A=setTimeout((async()=>{N.includes(e)?(a&&(a.terminate(),d(Ne,a=null,a)),d($e,s=null,s),d(Te,l="Updating List",l),await Qt(!0,"shouldProcessRecommendation"),await Qt(o,"filterOptions"),await Qt(i,"activeTagFilters"),d(Qe,u=!u,u)):T.includes(e)?(a&&(a.terminate(),d(Ne,a=null,a)),d($e,s=null,s),d(Te,l="Updating List",l),await Qt(o,"filterOptions"),await Qt(i,"activeTagFilters"),d(et,r=!r,r)):(await Qt(o,"filterOptions"),await Qt(i,"activeTagFilters"))}),300)}function L(){n(1,h=.3*window.innerHeight)}function F(){S&&clearTimeout(S),k=!0,S=setTimeout((()=>{k=!1}),500)}function M(){b&&clearTimeout(b),x=!0,b=setTimeout((()=>{x=!1}),50)}function q(e,t){if(x)return;let i=e.target,r=i.closest(".filter-select");if(r===y)return;let l=o?.filterSelection?.findIndex((({isSelected:e})=>e));if(y instanceof Element){let e=function(e){if(e)return Array.from(e.parentNode.children).indexOf(e)}(y);if(i.classList.contains("icon")&&o?.filterSelection?.[l].filters.Dropdown[e].selected)return;d(Ae,o.filterSelection[l].filters.Dropdown[e].selected=!1,o)}$&&n(0,$=!1),d(Ae,o.filterSelection[l].filters.Dropdown[t].selected=!0,o),y=r}function D(e){if(o?.filterSelection?.length<1||!o)return;let t=e.target,i=t.classList,r=t.closest(".filterType");i.contains("filterType")||r||(n(2,v=!1),w instanceof Element&&(w.style.backgroundColor="",w=null));let l=t.closest(".sortFilter");i.contains("sortFilter")||l||(n(3,g=!1),w instanceof Element&&(w.style.backgroundColor="",w=null));let s=t.closest(".filter-select"),a=t.closest(".filter-name");if(s!==y||a||i.contains("filter-name")){let e=o?.filterSelection?.findIndex((({isSelected:e})=>e));o?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),d(Ae,o.filterSelection[e]=o?.filterSelection?.[e],o),y=null,w instanceof Element&&(w.style.backgroundColor="",w=null)}}function _(e,t,n,r){let l=e.target.classList,s=e.which||e.keyCode||0;if(l.contains("checkbox")&&"click"===e.type||l.contains("checkbox")&&13!==s&&"keydown"===e.type)return;let a=o?.filterSelection?.findIndex((({isSelected:e})=>e)),c=o?.filterSelection?.[a].filterSelectionName,u=o?.filterSelection?.[a].filters.Checkbox[n].isSelected;u?d(Ee,i[c]=i[c].filter((e=>!(e.optionIdx===n&&e.optionName===t&&"checkbox"===e.filterType&&"included"===e.selected))),i):(i[c].unshift({optionName:t,optionIdx:n,filterType:"checkbox",selected:"included",changeType:"read"}),Ee.set(i)),d(Ae,o.filterSelection[a].filters.Checkbox[n].isSelected=!o?.filterSelection?.[a].filters.Checkbox[n].isSelected,o),I(r)}function P(e,t,n,r,l,s,a){let c=o?.filterSelection?.findIndex((({isSelected:e})=>e)),u=o?.filterSelection?.[c].filterSelectionName,f=o?.filterSelection?.[c].filters["Input Number"][n].numberValue;if(C.includes(r)&&/^(>=|<=|<|>).*($)/.test(t)){let p=t.split(/(<=|>=|<|>)/).filter((e=>e));if(t!==f&&p.length<=2){let m,h,v=t.split(/(<=|>=|<|>)/).filter((e=>e));if(p[0].includes(">")||p[0].includes("<")?(m=p[0],h=p[1]):(m=p[1],h=p[0]),v[0].includes(">")||v[0].includes("<")?(v[0],v[1]):(v[1],v[0]),t!==f&&(!isNaN(h)&&(parseFloat(h)>=s||"number"!=typeof s)&&(parseFloat(h)<=l||"number"!=typeof l)||!h)){if(h){let e=i[u].findIndex((e=>e.optionName===r&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e||i[u].splice(e,1),i[u].unshift({optionName:r,optionValue:t,CMPoperator:m,CMPNumber:h,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"}),Ee.set(i)}else d(Ee,i[u]=i[u].filter((e=>!(e.optionIdx===n&&e.optionName===r&&e.optionValue===f&&"input number"===e.filterType&&"included"===e.selected))),i);d(Ae,o.filterSelection[c].filters["Input Number"][n].numberValue=t,o),I(a)}else ct(e.target,f)}else ct(e.target,f)}else if(t!==f&&(!isNaN(t)&&(parseFloat(t)>=s||"number"!=typeof s)&&(parseFloat(t)<=l||"number"!=typeof l)||""===t)){if(""===t)d(Ee,i[u]=i[u].filter((e=>!(e.optionIdx===n&&e.optionName===r&&e.optionValue===f&&"input number"===e.filterType&&"included"===e.selected))),i);else{let e=i[u].findIndex((e=>e.optionName===r&&e.optionValue===f&&e.optionIdx===n&&"input number"===e.filterType));-1===e||i[u].splice(e,1),i[u].unshift({optionName:r,optionValue:t,optionIdx:n,filterType:"input number",selected:"included",changeType:"read"}),Ee.set(i)}d(Ae,o.filterSelection[c].filters["Input Number"][n].numberValue=t,o),I(a)}else ct(e.target,f)}function O(e){let t=e.which||e.keyCode||0;if(38==t||40==t){var i=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>"none"!==getComputedStyle(e).display&&"hidden"!==getComputedStyle(e).visibility));if(document.getElementsByClassName("options-wrap")?.[0],i?.closest?.(".filterType")||i?.closest?.(".sortFilter")||i?.closest?.(".filter-select"))if(e.preventDefault(),w instanceof Element&&w?.closest?.(".options")?.children?.length){let e=w.closest(".options"),n=Array.from(e.children).indexOf(w),o=38===t?n<=0?e.children.length-1:n-1:n>=e.children.length-1?0:n+1,i=w;w=e.children?.[o],w instanceof Element&&(i.style.backgroundColor="",w.style.backgroundColor="rgba(0,0,0,0.25)",w.scrollIntoView({behavior:0===o||o===e.children.length-1?"auto":"smooth",container:e,block:"nearest",inline:"end"}))}else{let e=i.querySelector(".options");w=e?.children?.[0],w instanceof Element&&(w.style.backgroundColor="rgba(0,0,0,0.25)")}}else if(13===t){if(w instanceof Element){let e=new KeyboardEvent("keydown",{key:"Enter"});w.dispatchEvent(e)}}else{i=Array.from(document.getElementsByClassName("options-wrap")||[]).find((e=>"none"!==getComputedStyle(e).display&&"hidden"!==getComputedStyle(e).visibility));if(i?.closest?.(".filter-select")&&9!==t)return;let e=o?.filterSelection?.findIndex((({isSelected:e})=>e));n(2,v=null),n(3,g=null),o?.filterSelection?.length>0&&(o?.filterSelection?.[e].filters.Dropdown.forEach((e=>{e.selected=!1})),d(Ae,o.filterSelection[e]=o?.filterSelection?.[e],o)),y=null,w instanceof Element&&(w.style.backgroundColor="",w=null)}}U((()=>{n(1,h=.3*window.innerHeight);let e=document.getElementById("filters");e.addEventListener("scroll",M),ut(e,"x");let t=document.getElementById("tagFilters");t.addEventListener("scroll",F),ut(t,"x"),document.addEventListener("keydown",O),window.addEventListener("resize",L),window.addEventListener("pointerdown",D)}));return[$,h,v,g,o,i,l,f,p,m,C,function(e){let t=o?.filterSelection.findIndex((({isSelected:e})=>e)),i=o?.filterSelection?.[t].filterSelectionName;if(i!==e){n(3,g=!1),o?.filterSelection?.[t].filters.Dropdown.forEach((e=>{e.selected=!1})),d(Ae,o.filterSelection[t]=o?.filterSelection?.[t],o),y=null,d(Ae,o.filterSelection[t].isSelected=!1,o);let i=o?.filterSelection?.findIndex((({filterSelectionName:t})=>t===e));d(Ae,o.filterSelection[i].isSelected=!0,o),I()}},function(e){if(o?.filterSelection?.length<1)return;let t=e.target,i=t.classList,r=t.closest(".filterType"),l=t.closest(".options-wrap");!i.contains("filterType")&&!r||v?l||i.contains("options-wrap")||n(2,v=!1):n(2,v=!0)},q,function(e){let t=o?.filterSelection?.findIndex((({isSelected:e})=>e));d(Ae,o.filterSelection[t].filters.Dropdown[e].selected=!1,o),y=null},function(e,t,n,r,l,s){let a=o?.filterSelection?.findIndex((({isSelected:e})=>e)),c=o?.filterSelection?.[a].filterSelectionName,u=o?.filterSelection?.[a].filters.Dropdown[r].options[n].selected;"none"===u||!0===u?(d(Ae,o.filterSelection[a].filters.Dropdown[r].options[n].selected="included",o),i[c].unshift({optionName:e,optionType:t,optionIdx:n,categIdx:r,selected:"included",changeType:l,filterType:"dropdown"}),Ee.set(i)):"included"===u?"read"===l?(d(Ae,o.filterSelection[a].filters.Dropdown[r].options[n].selected="none",o),d(Ee,i[c]=i[c].filter((t=>!(t.optionIdx===n&&t.optionName===e&&"dropdown"===t.filterType&&t.categIdx===r))),i)):(d(Ae,o.filterSelection[a].filters.Dropdown[r].options[n].selected="excluded",o),d(Ee,i[c]=i[c].map((t=>(t.optionIdx===n&&t.optionName===e&&"dropdown"===t.filterType&&t.categIdx===r&&"included"===t.selected&&(t.selected="excluded"),t))),i)):(d(Ae,o.filterSelection[a].filters.Dropdown[r].options[n].selected="none",o),d(Ee,i[c]=i[c].filter((t=>!(t.optionIdx===n&&t.optionName===e&&"dropdown"===t.filterType&&t.categIdx===r))),i)),I(s)},_,P,function(e,t,n,r,l){if(k)return!1;if("read"===l||"dropdown"!==n)return;let s=o?.filterSelection?.findIndex((({isSelected:e})=>e)),a=o?.filterSelection?.[s].filterSelectionName,c=o?.filterSelection?.[s].filters.Dropdown[r].options[e].selected;"included"===c?(d(Ae,o.filterSelection[s].filters.Dropdown[r].options[e].selected="excluded",o),d(Ee,i[a]=i[a].map((n=>(n.optionIdx===e&&n.optionName===t&&"included"===n.selected&&(n.selected="excluded"),n))),i)):"excluded"===c&&(d(Ae,o.filterSelection[s].filters.Dropdown[r].options[e].selected="included",o),d(Ee,i[a]=i[a].map((n=>(n.optionIdx===e&&n.optionName===t&&"excluded"===n.selected&&(n.selected="included"),n))),i)),I(a)},function(e,t,n,r){if(k)return;let l=o?.filterSelection?.findIndex((({isSelected:e})=>e)),s=o?.filterSelection?.[l].filterSelectionName;d(Ae,"checkbox"===n?o.filterSelection[l].filters.Checkbox[e].isSelected=!1:"input number"===n?o.filterSelection[l].filters["Input Number"][e].numberValue="":o.filterSelection[l].filters.Dropdown[r].options[e].selected="none",o),d(Ee,i[s]=i[s].filter((o=>!(o.optionName===t&&o.optionIdx===e&&o.filterType===n))),i),I(s)},function(){if(k)return!1;if(!0===confirm("Do you want to remove all filters?")){let e=o?.filterSelection?.findIndex((({isSelected:e})=>e)),t=o?.filterSelection?.[e].filterSelectionName;o?.filterSelection?.[e].filters["Input Number"].forEach((e=>{e.numberValue=""})),o?.filterSelection?.[e].filters.Checkbox.forEach((e=>{e.isSelected=!1})),o?.filterSelection?.[e].filters.Dropdown.forEach((({options:t},n)=>{t.forEach((({selected:t},i)=>{d(Ae,o.filterSelection[e].filters.Dropdown[n].options[i].selected="none",o)}))})),d(Ae,o.filterSelection[e]=o?.filterSelection?.[e],o),d(Ee,i[t]=[],i),I(t)}},function(e){let t=e.target,o=t.classList,i=t.closest(".sortFilter"),r=t.closest(".options-wrap");!o.contains("sortFilter")&&!i||g?r||o.contains("options-wrap")||n(3,g=!1):n(3,g=!0)},function(e){let{sortName:t,sortType:n}=o?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],i=o?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));if(t===e){let e="desc"===n?"asc":"desc";d(Ae,o.sortFilter[i].sortType=e,o)}else if(t!==e){d(Ae,o.sortFilter[i].sortType="none",o);let t=o?.sortFilter?.findIndex((({sortName:t})=>t===e));d(Ae,o.sortFilter[t].sortType="desc",o)}I("sort")},function(){let{sortType:e}=o?.sortFilter?.filter((({sortType:e})=>"none"!==e))[0],t=o?.sortFilter?.findIndex((({sortType:e})=>"none"!==e));d(Ae,o.sortFilter[t].sortType="desc"===e?"asc":"desc",o),I("sort")},function(){f=this.value,Ue.set(f)},function(e,t){o.filterSelection[e].filters.Dropdown[t].optKeyword=this.value,Ae.set(o)},(e,t)=>q(t,e),(e,t)=>q(t,e),(e,t,n,o)=>_(o,e.filName,t,n),function(e,t){e[t].isSelected=this.checked},(e,t,n,o)=>_(o,e.filName,t,n),(e,t,n,o)=>_(o,e.filName,t,n),(e,t,n,o,i,r)=>P(r,r.target.value,e,t,n,o,i)]}var zo={Fixed:{FilterPopup:class extends ye{constructor(e){super(),ve(this,e,null,Pn,l,{})}},Navigator:class extends ye{constructor(e){super(),ve(this,e,jn,On,l,{})}},Menu:class extends ye{constructor(e){super(),ve(this,e,Vn,Hn,l,{})}},Header:Gn,Toast:class extends ye{constructor(e){super(),ve(this,e,Kn,zn,l,{})}},Loader:class extends ye{constructor(e){super(),ve(this,e,null,Yn,l,{})}}},Anime:{AnimeGrid:class extends ye{constructor(e){super(),ve(this,e,Ct,Et,l,{})}},Fixed:{AnimePopup:class extends ye{constructor(e){super(),ve(this,e,Fn,Tn,l,{},null,[-1,-1])}},AnimeOptionsPopup:class extends ye{constructor(e){super(),ve(this,e,_n,Dn,l,{})}}}},Others:{Search:class extends ye{constructor(e){super(),ve(this,e,Vo,_o,l,{},null,[-1,-1,-1])}},Header:Gn}},Ko="@vercel/analytics",Yo="1.0.1",Go=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function Jo(e="auto"){window.vam="auto"!==e?e:function(){try{const e=process.env.NODE_ENV;if("development"===e||"test"===e)return"development"}catch(e){}return"production"}()}function Xo(){return"development"===(window.vam||"production")}function Qo(e={debug:!0}){var t;if("undefined"==typeof window)return;Jo(e.mode),Go(),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));const n=Xo()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${n}"]`))return;const o=document.createElement("script");o.src=n,o.defer=!0,o.setAttribute("data-sdkn",Ko),o.setAttribute("data-sdkv",Yo),Xo()&&!1===e.debug&&o.setAttribute("data-debug","false"),document.head.appendChild(o)}function Zo(t){let n,o,i,r,l,s,a,c,u,d,f,p,m,h,v,y,w,b,k,E,N,T;return o=new zo.Fixed.Navigator({}),r=new zo.Fixed.Menu({}),s=new zo.Others.Header({}),u=new zo.Others.Search({}),f=new zo.Anime.AnimeGrid({}),m=new zo.Anime.Fixed.AnimePopup({}),v=new zo.Fixed.FilterPopup({}),w=new zo.Anime.Fixed.AnimeOptionsPopup({}),k=new zo.Fixed.Toast({}),N=new zo.Fixed.Loader({}),{c(){n=A("main"),pe(o.$$.fragment),i=$(),pe(r.$$.fragment),l=$(),pe(s.$$.fragment),a=$(),c=A("div"),pe(u.$$.fragment),d=$(),pe(f.$$.fragment),p=$(),pe(m.$$.fragment),h=$(),pe(v.$$.fragment),y=$(),pe(w.$$.fragment),b=$(),pe(k.$$.fragment),E=$(),pe(N.$$.fragment),C(c,"class","home svelte-1v56w7v"),C(n,"class","svelte-1v56w7v")},m(e,t){x(e,n,t),me(o,n,null),g(n,i),me(r,n,null),g(n,l),me(s,n,null),g(n,a),g(n,c),me(u,c,null),g(c,d),me(f,c,null),g(c,p),me(m,c,null),g(n,h),me(v,n,null),g(n,y),me(w,n,null),g(n,b),me(k,n,null),g(n,E),me(N,n,null),T=!0},p:e,i(e){T||(se(o.$$.fragment,e),se(r.$$.fragment,e),se(s.$$.fragment,e),se(u.$$.fragment,e),se(f.$$.fragment,e),se(m.$$.fragment,e),se(v.$$.fragment,e),se(w.$$.fragment,e),se(k.$$.fragment,e),se(N.$$.fragment,e),T=!0)},o(e){ae(o.$$.fragment,e),ae(r.$$.fragment,e),ae(s.$$.fragment,e),ae(u.$$.fragment,e),ae(f.$$.fragment,e),ae(m.$$.fragment,e),ae(v.$$.fragment,e),ae(w.$$.fragment,e),ae(k.$$.fragment,e),ae(N.$$.fragment,e),T=!1},d(e){e&&S(n),he(o),he(r),he(s),he(u),he(f),he(m),he(v),he(w),he(k),he(N)}}}function ei(e,t,n){let o,i,r,l,s,a,u,f,p,m,h,v,y,g,w,b,x,S,k,A,E,$,N,T,C;c(e,Ye,(e=>n(2,o=e))),c(e,be,(e=>n(3,i=e))),c(e,Ke,(e=>n(4,r=e))),c(e,Ve,(e=>n(5,l=e))),c(e,He,(e=>n(6,s=e))),c(e,Be,(e=>n(7,a=e))),c(e,Ge,(e=>n(8,u=e))),c(e,De,(e=>n(9,f=e))),c(e,qe,(e=>n(10,p=e))),c(e,Me,(e=>n(11,m=e))),c(e,Le,(e=>n(12,h=e))),c(e,Ie,(e=>n(13,v=e))),c(e,Ce,(e=>n(14,y=e))),c(e,Ae,(e=>n(15,g=e))),c(e,Ee,(e=>n(16,w=e))),c(e,Te,(e=>n(17,b=e))),c(e,$e,(e=>n(18,x=e))),c(e,Oe,(e=>n(19,S=e))),c(e,Ue,(e=>n(20,k=e))),c(e,Ne,(e=>n(21,A=e))),c(e,Se,(e=>n(22,E=e))),c(e,ke,(e=>n(23,$=e))),c(e,Pe,(e=>n(24,N=e))),c(e,xe,(e=>n(25,T=e))),c(e,Fe,(e=>n(26,C=e))),d(be,i=dt(),i),(async()=>{d(Fe,C=await Zt("exportPathIsAvailable"),C)})(),Qo(),window.onload=()=>{function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-PPMY92TJCE")};const I=new Function;window.onYouTubeIframeAPIReady=I;let L=[];d(Te,b="Getting Existing Data",b);let F=setInterval((()=>{b||d(Te,b="Please Wait...",b)}),300);L.push(new Promise((async e=>{let t=await Zt("animeEntriesLength"),n=await Zt("lastAnimeUpdate");var o;t<1||!(n instanceof Date)?(d($e,x=null,x),new Promise(((e,t)=>{let n=new Worker("./webapi/worker/getAnimeEntries.js");Gt&&clearTimeout(Gt),n.postMessage(o),n.onmessage=({data:t})=>{void 0!==t?.status?(Ft=!0,Te.set(t.status)):(Ft=!1,Qe.update((e=>!e)),Gt=setTimeout((()=>{n.terminate()}),Lt),e(t))},n.onerror=e=>{t(e)}})).then((t=>{d(xe,T=t.lastAnimeUpdate,T),e()})).catch((async t=>{console.error(t),jt(),e()}))):e()}))),L.push(new Promise((async e=>{let t=await Zt("username");t&&(d(Se,E=t,E),Ht({username:E})),e()}))),L.push(new Promise((async e=>{var t;await Zt("animeFranchisesLength")<1&&new Promise(((e,n)=>{let o=new Worker("./webapi/worker/getAnimeFranchises.js");Jt&&clearTimeout(Jt),o.postMessage(t),o.onmessage=({data:t})=>{void 0!==t?.status?(Ft=!0,Te.set(t.status)):(Qe.update((e=>!e)),Ft=!1,Jt=setTimeout((()=>{o.terminate()}),Lt),e(t))},o.onerror=e=>{n(e)}})),e()}))),L.push(new Promise((async e=>{let t=await Zt("filterOptions"),n=await Zt("activeTagFilters");ot(t)||ot(n)?Ze.update((e=>!e)):(d(Ae,g=t,g),d(Ee,w=n,w)),e()}))),L.push(new Promise((async e=>{let t=await Zt("shouldProcessRecommendation"),n=await Zt("recommendedAnimeListLength");!t&&n?.length?et.update((e=>!e)):Qe.update((e=>!e)),e()}))),L.push(new Promise((async e=>{let t=await Zt("autoPlay");"boolean"==typeof t&&d(Pe,N=t,N),d(ke,$=await Zt("hiddenEntries")||{},$),d(Le,h=await Zt("lastRunnedAutoUpdateDate"),h),d(De,f=await Zt("lastRunnedAutoExportDate"),f),d(Ce,y=await Zt("autoUpdate")??!1,y),d(Me,m=await Zt("autoExport")??!1,m),e()}))),Promise.all(L).then((async()=>{if(d(Oe,S=!1,S),clearInterval(F),!E){let e=document.getElementById("usernameInput");e.setCustomValidity("Enter your Anilist Username"),e.reportValidity()}await Zt("recommendedAnimeListLength")<1?Qe.update((e=>!e)):x?.length||et.update((e=>!e))})).catch((e=>{d(Oe,S=!1,S),clearInterval(F),d(Te,b="Something went wrong...",b),console.error(e)})),Qe.subscribe((async e=>{"boolean"==typeof e&&(await Qt(!0,"shouldProcessRecommendation"),_t().then((async()=>{await Qt(!1,"shouldProcessRecommendation"),et.update((e=>!e))})).catch((e=>{throw e})))})),et.subscribe((async e=>{"boolean"==typeof e&&Mt().then((async e=>{d(Ne,A=e.animeLoaderWorker,A),d(Ue,k="",k),S?d($e,x=null,x):e?.isNew&&d($e,x=e.finalAnimeList,x),d(Te,b=null,b)})).catch((e=>{throw e}))})),Ze.subscribe((async e=>{var t;"boolean"==typeof e&&new Promise(((e,n)=>{let o=new Worker("./webapi/worker/getFilterOptions.js");Xt&&clearTimeout(Xt),o.postMessage(t),o.onmessage=({data:t})=>{void 0!==t?.status?(Ft=!0,Te.set(t.status)):(Ft=!1,Xt=setTimeout((()=>{o.terminate()}),Lt),e(t))},o.onerror=e=>{n(e)}})).then((e=>{d(Ee,w=e.activeTagFilters,w),d(Ae,g=e.filterOptions,g)}))}));let M=864e5;Ce.subscribe((async e=>{if("boolean"==typeof e)if(!0===e){Qt(!0,"autoUpdate");let e=!1;if((null===h||h instanceof Date&&!isNaN(h)&&(new Date).getTime()-h.getTime()>M)&&(e=!0),e)Je.update((e=>!e)),v&&clearInterval(v),d(Ie,v=setInterval((()=>{y&&Je.update((e=>!e))}),M),v);else{let e=M-((new Date).getTime()-h?.getTime())||0;setTimeout((()=>{!1!==y&&(Je.update((e=>!e)),v&&clearInterval(v),d(Ie,v=setInterval((()=>{y&&Je.update((e=>!e))}),M),v))}),e)}}else!1===e&&(v&&clearInterval(v),Qt(!1,"autoUpdate"))})),Je.subscribe((e=>{"boolean"==typeof e&&(d(Le,h=new Date,h),Qt(h,"lastRunnedAutoUpdateDate"),Ht().then((()=>{jt()})).catch((e=>{console.error(e)})))}));let q,D=36e5;Me.subscribe((async e=>{if("boolean"==typeof e)if(!0===e){Qt(!0,"autoExport");let e=!1;if((null===f||f instanceof Date&&!isNaN(f)&&(new Date).getTime()-f.getTime()>D)&&(e=!0),e)Xe.update((e=>!e)),p&&clearInterval(p),d(qe,p=setInterval((()=>{m&&Xe.update((e=>!e))}),D),p);else{let e=D-((new Date).getTime()-f?.getTime())||0;setTimeout((()=>{!1!==m&&(Xe.update((e=>!e)),p&&clearInterval(p),d(qe,p=setInterval((()=>{m&&Xe.update((e=>!e))}),D),p))}),e)}}else!1===e&&(p&&clearInterval(p),Qt(!1,"autoExport"))})),Xe.subscribe((()=>{"boolean"==typeof val&&(d(De,f=new Date,f),Qt(f,"lastRunnedAutoExportDate"),Wt())})),tt.subscribe((e=>{"boolean"==typeof e&&(o||d(Ye,o=!0,o),u&&clearTimeout(u),d(Ge,u=setTimeout((()=>{d(Ye,o=!1,o)}),1e3),u))})),Ve.subscribe((e=>{})),He.subscribe((e=>{})),Be.subscribe((e=>{})),"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),window.addEventListener("popstate",(()=>{window.backPressed()})),window.backPressed=()=>{if(r&&!i)window.history.go(-1);else{if(i||window.history.pushState("visited",""),a)return void d(Be,a=!1,a);if(s)return void d(He,s=!1,s);if(l)return void d(Ve,l=!1,l);if(window.scrollY>200)return void window.scrollTo({top:0,behavior:"smooth"});window.scrollTo({top:0,behavior:"smooth"}),window.setShoulGoBack(!0)}},Ve.subscribe((e=>{"boolean"==typeof e&&!0===e&&window.setShoulGoBack(!1)})),He.subscribe((e=>{"boolean"==typeof e&&!0===e&&window.setShoulGoBack(!1)})),window.addEventListener("scroll",(()=>{0!==window.scrollY&&window.setShoulGoBack(!1),tt.update((e=>!e))})),U((()=>{document.getElementById("popup-container").addEventListener("scroll",(()=>{tt.update((e=>!e))}))})),window.setShoulGoBack=e=>{if(i)try{JSBridge.setShoulGoBack(e)}catch(e){}else"visited"!==window.history.state&&window.history.pushState("visited",""),d(Ke,r=e,r)},window.copyToClipBoard=e=>{if(i)try{JSBridge.copyToClipBoard(e)}catch(e){}else navigator?.clipboard?.writeText?.(e)};let _=!1;return document.addEventListener("pointerdown",(e=>{let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(e.preventDefault(),_=!0,q&&clearTimeout(q),q=setTimeout((()=>{let e=t.getAttribute("copy-value");e&&!o&&_&&(t.style.pointerEvents="none",setTimeout((()=>{t.style.pointerEvents=""}),500),window.copyToClipBoard(e))}),500))})),document.addEventListener("pointerup",(e=>{let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(_=!1,q&&clearTimeout(q))})),document.addEventListener("pointercancel",(e=>{let t=e.target;t.classList.contains("copy")||(t=t.closest(".copy")),t&&(_=!1,q&&clearTimeout(q))})),[]}var ti="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};window.FontAwesomeKitConfig={asyncLoading:{enabled:!1},autoA11y:{enabled:!0},baseUrl:"https://ka-f.fontawesome.com",baseUrlKit:"https://kit.fontawesome.com",detectConflictsUntil:null,iconUploads:{},id:76794169,license:"free",method:"css",minify:{enabled:!0},token:"5a5fa257cb",v4FontFaceShim:{enabled:!0},v4shim:{enabled:!0},v5FontFaceShim:{enabled:!0},version:"6.2.0"},function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)),o}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){var n,i;n=e,i=o[t],t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){var n=t&&t.addOn||"",o=(n=t&&t.baseFilename||e.license+n,t&&t.minify?".min":""),i=t&&t.fileSuffix||e.method;return t=t&&t.subdir||e.method,e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/"+t+"/"+n+o+"."+i}function r(e,t){t="."+Array.prototype.join.call(t||["fa"],",."),t=e.querySelectorAll(t),Array.prototype.forEach.call(t,(function(t){var n=t.getAttribute("title"),o=(t.setAttribute("aria-hidden","true"),!t.nextElementSibling||!t.nextElementSibling.classList.contains("sr-only"));n&&o&&((o=e.createElement("span")).innerHTML=n,o.classList.add("sr-only"),t.parentNode.insertBefore(o,t.nextSibling))}))}function l(){}var s,a=void 0!==ti&&void 0!==ti.process&&"function"==typeof ti.process.emit,c="undefined"==typeof setImmediate?setTimeout:setImmediate,u=[];function d(){for(var e=0;e<u.length;e++)u[e][0](u[e][1]);s=!(u=[])}function f(e,t){u.push([e,t]),s||(s=!0,c(d,0))}function p(e){var t=(n=e.owner)._state,n=n._data,o=e[t],i=e.then;if("function"==typeof o){t="fulfilled";try{n=o(n)}catch(e){y(i,e)}}m(i,n)||("fulfilled"===t&&h(i,n),"rejected"===t&&y(i,n))}function m(t,n){var o;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===e(n))){var i=n.then;if("function"==typeof i)return i.call(n,(function(e){o||(o=!0,(n===e?v:h)(t,e))}),(function(e){o||(o=!0,y(t,e))})),1}}catch(i){return o||y(t,i),1}}function h(e,t){e!==t&&m(e,t)||v(e,t)}function v(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(w,e))}function y(e,t){"pending"===e._state&&(e._state="settled",e._data=t,f(b,e))}function g(e){e._then=e._then.forEach(p)}function w(e){e._state="fulfilled",g(e)}function b(e){e._state="rejected",g(e),!e._handled&&a&&ti.process.emit("unhandledRejection",e._data,e)}function x(e){ti.process.emit("rejectionHandled",e)}function S(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof S==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[];var t=e,n=this;function o(e){y(n,e)}try{t((function(e){h(n,e)}),o)}catch(t){o(t)}}S.prototype={constructor:S,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(l),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,"rejected"===this._state&&a&&f(x,this)),"fulfilled"===this._state||"rejected"===this._state?f(p,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},S.all=function(e){if(Array.isArray(e))return new S((function(t,n){for(var o,i=[],r=0,l=0;l<e.length;l++)(o=e[l])&&"function"==typeof o.then?o.then(function(e){return r++,function(n){i[e]=n,--r||t(i)}}(l),n):i[l]=o;r||t(i)}));throw new TypeError("You must pass an array to Promise.all().")},S.race=function(e){if(Array.isArray(e))return new S((function(t,n){for(var o,i=0;i<e.length;i++)(o=e[i])&&"function"==typeof o.then?o.then(t,n):t(o)}));throw new TypeError("You must pass an array to Promise.race().")},S.resolve=function(t){return t&&"object"===e(t)&&t.constructor===S?t:new S((function(e){e(t)}))},S.reject=function(e){return new S((function(t,n){n(e)}))};var k,A,E,$,N="function"==typeof Promise?Promise:S;function T(e,t){var n=t.fetch,o=t.XMLHttpRequest,i=(t=t.token,e);return"URLSearchParams"in window?(i=new URL(e)).searchParams.set("token",t):i=i+"?token="+encodeURIComponent(t),i=i.toString(),new N((function(e,t){var r;"function"==typeof n?n(i,{mode:"cors",cache:"default"}).then((function(e){if(e.ok)return e.text();throw new Error("")})).then((function(t){e(t)})).catch(t):"function"==typeof o?((r=new o).addEventListener("loadend",(function(){this.responseText?e(this.responseText):t(new Error(""))})),["abort","error","timeout"].map((function(e){r.addEventListener(e,(function(){t(new Error(""))}))})),r.open("GET",i),r.send()):t(new Error(""))}))}function C(e,t,n){var i=e;return[[/(url\("?)\.\.\/\.\.\/\.\./g,function(e,n){return"".concat(n).concat(t)}],[/(url\("?)\.\.\/webfonts/g,function(e,o){return"".concat(o).concat(t,"/releases/v").concat(n,"/webfonts")}],[/(url\("?)https:\/\/kit-free([^.])*\.fontawesome\.com/g,function(e,n){return"".concat(n).concat(t)}]].forEach((function(e){t=2,e=function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,i=!1,r=void 0;try{for(var l,s=e[Symbol.iterator]();!(o=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==s.return||s.return()}finally{if(i)throw r}}return n}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var t=e[0];e=e[1],i=i.replace(t,e)})),i}function I(e,t,o){o=2<arguments.length&&void 0!==o?o:function(){};var l=t.document||l,s=(l=r.bind(r,l,["fa","fab","fas","far","fal","fad","fak"]),0<Object.keys(e.iconUploads||{}).length);return e.autoA11y.enabled&&o(l),o=[{id:"fa-main",addOn:void 0}],e.v4shim&&e.v4shim.enabled&&o.push({id:"fa-v4-shims",addOn:"-v4-shims"}),e.v5FontFaceShim&&e.v5FontFaceShim.enabled&&o.push({id:"fa-v5-font-face",addOn:"-v5-font-face"}),e.v4FontFaceShim&&e.v4FontFaceShim.enabled&&o.push({id:"fa-v4-font-face",addOn:"-v4-font-face"}),s&&o.push({id:"fa-kit-upload",customCss:!0}),l=o.map((function(o){return new N((function(r,l){T(o.customCss?e.baseUrlKit+"/"+e.token+"/"+e.id+"/kit-upload.css":i(e,{addOn:o.addOn,minify:e.minify.enabled}),t).then((function(i){var l,s,a;r((l=n(n({},t),{},{baseUrl:e.baseUrl,version:e.version,id:o.id,contentFilter:function(e,t){return C(e,t.baseUrl,t.version)}}),s=l.contentFilter||function(e,t){return e},a=document.createElement("style"),s=document.createTextNode(s(i,l)),a.appendChild(s),a.media="all",l.id&&a.setAttribute("id",l.id),l&&l.detectingConflicts&&l.detectionIgnoreAttr&&a.setAttributeNode(document.createAttribute(l.detectionIgnoreAttr)),a))})).catch(l)}))})),N.all(l)}function L(e,t){t.autoA11y=e.autoA11y.enabled,"pro"===e.license&&(t.autoFetchSvg=!0,t.fetchSvgFrom=e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/svgs",t.fetchUploadedSvgFrom=e.uploadsUrl);var o=[];return e.v4shim.enabled&&o.push(new N((function(o,r){T(i(e,{addOn:"-v4-shims",minify:e.minify.enabled}),t).then((function(e){o(F(e,n(n({},t),{},{id:"fa-v4-shims"})))})).catch(r)}))),o.push(new N((function(o,r){T(i(e,{minify:e.minify.enabled}),t).then((function(e){var i,r,l;e=F(e,n(n({},t),{},{id:"fa-main"})),o((r=(i=t)&&void 0!==i.autoFetchSvg?i.autoFetchSvg:void 0,void 0!==(l=i&&void 0!==i.autoA11y?i.autoA11y:void 0)&&e.setAttribute("data-auto-a11y",l?"true":"false"),r&&(e.setAttributeNode(document.createAttribute("data-auto-fetch-svg")),e.setAttribute("data-fetch-svg-from",i.fetchSvgFrom),e.setAttribute("data-fetch-uploaded-svg-from",i.fetchUploadedSvgFrom)),e))})).catch(r)}))),N.all(o)}function F(e,t){var n=document.createElement("SCRIPT");return e=document.createTextNode(e),n.appendChild(e),n.referrerPolicy="strict-origin",t.id&&n.setAttribute("id",t.id),t&&t.detectingConflicts&&t.detectionIgnoreAttr&&n.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),n}function M(e){var t,n=[],o=document,i=(o.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(o.readyState);i||o.addEventListener("DOMContentLoaded",t=function(){for(o.removeEventListener("DOMContentLoaded",t),i=1;t=n.shift();)t()}),i?setTimeout(e,0):n.push(e)}try{window.FontAwesomeKitConfig&&(k=window.FontAwesomeKitConfig,A={detectingConflicts:k.detectConflictsUntil&&new Date<=new Date(k.detectConflictsUntil),detectionIgnoreAttr:"data-fa-detection-ignore",fetch:window.fetch,token:k.token,XMLHttpRequest:window.XMLHttpRequest,document:document},E=document.currentScript,$=E?E.parentElement:document.head,function(e,t){return t=1<arguments.length&&void 0!==t?t:{},"js"===(e=0<arguments.length&&void 0!==e?e:{}).method?L(e,t):"css"===e.method?I(e,t,(function(e){M(e),"undefined"!=typeof MutationObserver&&new MutationObserver(e).observe(document,{childList:!0,subtree:!0})})):void 0}(k,A).then((function(e){e.map((function(e){try{$.insertBefore(e,E?E.nextSibling:null)}catch(t){$.appendChild(e)}})),A.detectingConflicts&&E&&M((function(){E.setAttributeNode(document.createAttribute(A.detectionIgnoreAttr)),e=k,n=A,t=document.createElement("script"),n.detectionIgnoreAttr&&t.setAttributeNode(document.createAttribute(n.detectionIgnoreAttr)),t.src=i(e,{baseFilename:"conflict-detection",fileSuffix:"js",subdir:"js",minify:e.minify.enabled});var e,t,n=t;document.body.appendChild(n)}))})).catch((function(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))})))}catch(e){console.error("".concat("Font Awesome Kit:"," ").concat(e))}}();return new class extends ye{constructor(e){super(),ve(this,e,ei,Zo,l,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
